!function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e(require("@spritejs/wxapp")) : "function" == typeof define && define.amd ? define(["@spritejs/wxapp"], e) : "object" == typeof exports ? exports.qcharts = e(require("@spritejs/wxapp")) : t.qcharts = e(t["@spritejs/wxapp"]) }(window, function (r) { return (o = {}, i.m = n = [function (t, e) { t.exports = r }, function (t, w, E) { "use strict"; (function (t) { E.d(w, "g", function () { return d }), E.d(w, "f", function () { return p }), E.d(w, "h", function () { return v }), E.d(w, "d", function () { return m }), E.d(w, "u", function () { return y }), E.d(w, "v", function () { return g }), E.d(w, "b", function () { return b }); var e = E(21); E.d(w, "t", function () { return e.a }); var r = E(19); E.d(w, "a", function () { return r.a }); var n = E(18); E.d(w, "j", function () { return n.a }); var i = E(22); E.d(w, "l", function () { return i.a }); var o = E(23); E.d(w, "c", function () { return o.a }); var a = E(24); E.d(w, "e", function () { return a.a }); E(25); var s = E(20); E.d(w, "i", function () { return s.a }); var l = E(10); E.d(w, "m", function () { return l.isArray }), E.d(w, "n", function () { return l.isBoolean }), E.d(w, "p", function () { return l.isFunction }), E.d(w, "q", function () { return l.isNumber }), E.d(w, "r", function () { return l.isObject }), E.d(w, "s", function () { return l.isString }); var c = E(26); E.d(w, "o", function () { return c.a }); var u = E(27); E.d(w, "k", function () { return u.a }); var f = E(28); E.d(w, "x", function () { return f.a }); var h = E(13); E.d(w, "w", function () { return h.a }); var d = function (t) { return [].concat.apply([], t) }, p = ("function" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout, function (e) { return new Promise(function (t) { return setTimeout(function () { t() }, e) }) }), v = function () { if (Object(e.a)()) return getApp(); if ("undefined" != typeof self) return self; if ("undefined" != typeof window) return window; if (void 0 !== t) return t; throw new Error("unable to locate global object") }, m = function (t, e) { return /%/.test(t) ? +t.replace("%", "") * e / 100 : +t }; function y() { return "undefined" != typeof performance ? performance.now() : Date.now() } var g = t.requestAnimationFrame, b = t.cancelAnimationFrame; if (!g) { var k = y(); g = function (t) { return setTimeout(function () { t(y() - k) }, 16) }, b = function (t) { return clearTimeout(t) } } }).call(this, E(30)) }, function (t, e, r) { var i = r(16); t.exports = function (e) { for (var t = 1; t < arguments.length; t++) { var r = null != arguments[t] ? arguments[t] : {}, n = Object.keys(r); "function" == typeof Object.getOwnPropertySymbols && (n = n.concat(Object.getOwnPropertySymbols(r).filter(function (t) { return Object.getOwnPropertyDescriptor(r, t).enumerable }))), n.forEach(function (t) { i(e, t, r[t]) }) } return e } }, function (t, e) { function r() { return t.exports = r = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e]; for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n]) } return t }, r.apply(this, arguments) } t.exports = r }, function (e, t) { function r(t) { return e.exports = r = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, r(t) } e.exports = r }, function (t, e) { t.exports = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } }, function (t, e) { function n(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } t.exports = function (t, e, r) { return e && n(t.prototype, e), r && n(t, r), t } }, function (t, e, r) { var n = r(12), i = r(17); t.exports = function (t, e) { return !e || "object" !== n(e) && "function" != typeof e ? i(t) : e } }, function (t, e, r) { var n = r(32), i = r(33), o = r(34); t.exports = function (t, e) { return n(t) || i(t, e) || o() } }, function (t, e, r) { var n = r(31); t.exports = function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && n(t, e) } }, function (t, e, r) { "use strict"; r.r(e), r.d(e, "isArray", function () { return a }), r.d(e, "isBoolean", function () { return s }), r.d(e, "isObject", function () { return l }), r.d(e, "isFunction", function () { return c }), r.d(e, "isNumber", function () { return u }), r.d(e, "isString", function () { return f }), r.d(e, "isPlainObject", function () { return h }); function n(t) { return Object.prototype.toString.call(t).slice(8, -1) } var i = r(12), o = r.n(i), a = function (t) { return "Array" === n(t) }, s = function (t) { return "Boolean" === n(t) }, l = function (t) { return "Object" === n(t) }, c = function (t) { return "Function" === n(t) }, u = function (t) { return "Number" === n(t) }, f = function (t) { return "String" === n(t) }, h = function (t) { if ("object" !== o()(t) || null === t) return !1; for (var e = t; null !== Object.getPrototypeOf(e);)e = Object.getPrototypeOf(e); return Object.getPrototypeOf(t) === e } }, function (n, t, e) { e(4); var o = e(35); function i(t, e, r) { return "undefined" != typeof Reflect && Reflect.get ? n.exports = i = Reflect.get : n.exports = i = function (t, e, r) { var n = o(t, e); if (n) { var i = Object.getOwnPropertyDescriptor(n, e); return i.get ? i.get.call(r) : i.value } }, i(t, e, r || t) } n.exports = i }, function (e, t) { function r(t) { return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function n(t) { return "function" == typeof Symbol && "symbol" === r(Symbol.iterator) ? e.exports = n = function (t) { return r(t) } : e.exports = n = function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : r(t) }, n(t) } e.exports = n }, function (t, e, r) { "use strict"; function n() { var i = [0, 1], o = [0, 1]; function t(t) { var e = i[1] - i[0], r = o[1] - o[0], n = (t - i[0]) / e; return o[0] + r * n } return t.domain = function (t) { return i = t, this }, t.range = function (t) { return o = t, this }, t } r.d(e, "a", function () { return n }) }, function (t, e, r) { var a = r(39); t.exports = function (t, e) { if (null == t) return {}; var r, n, i = a(t, e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(t); for (n = 0; n < o.length; n++)r = o[n], 0 <= e.indexOf(r) || Object.prototype.propertyIsEnumerable.call(t, r) && (i[r] = t[r]) } return i } }, function (t, e, r) { var n = r(36), i = r(37), o = r(38); t.exports = function (t) { return n(t) || i(t) || o() } }, function (t, e) { t.exports = function (t, e, r) { return e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } }, function (t, e) { t.exports = function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } }, function (t, e, r) { "use strict"; function n(t, e) { var r; if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)) return 3 === (r = t.substring(1).split("")).length && (r = [r[0], r[0], r[1], r[1], r[2], r[2]]), "rgba(" + [(r = "0x" + r.join("")) >> 16 & 255, r >> 8 & 255, 255 & r].join(",") + "," + e + ")"; throw new Error("Bad Hex") } r.d(e, "a", function () { return n }) }, function (t, e, r) { "use strict"; function n(t) { if (!Array.isArray(t.dataSet) && !t.hasOwnProperty("section")) return []; if (void 0 !== t.section) return function (t) { if (t && Array.isArray(t)) { var e = t[1] - t[0], r = [], n = 4; r.push(t[0]); for (var i = 4; i < 8; i++)if (e % i == 0) { n = i; break } for (var o = 1; o <= n; o++)r.push((t[0] + e * o / n).toFixed(2)); return r } return [] }(t.section); var e = function (t) { var e = t.stack || !1, r = t.dataSet || [], n = t.field || "__valueGetter__", i = []; if (e && 0 !== r.length && r[0].length) for (var o = 0, a = r[0].length; o < a; o++) { for (var s = 0, l = 0, c = 0, u = r.length; c < u; c++)if (!0 !== r[c][o].disabled) { var f = t && t.field ? r[c][o][n] : r[c][o][n](); f < 0 ? l += f : s += f } s && i.push(s), l && i.push(l) } else for (var h = 0, d = r.length; h < d; h++)for (var p = 0, v = r[h].length; p < v; p++)!0 !== r[h][p].disabled && i.push(t && t.field ? r[h][p][n] : r[h][p][n]()); return i }(t), r = [], n = [], i = !0, o = !1, a = void 0; try { for (var s, l = e[Symbol.iterator](); !(i = (s = l.next()).done); i = !0) { var c = s.value; c < 0 ? n.push(Math.abs(c)) : r.push(c) } } catch (t) { o = !0, a = t } finally { try { i || null == l.return || l.return() } finally { if (o) throw a } } var u = 5, f = r.sort(function (t, e) { return t - e }), h = n.sort(function (t, e) { return t - e }), d = f.length && Math.ceil(f.pop() / .95), p = h.length && Math.ceil(h.pop() / .95), v = 0 <= d - p ? d : p, m = 4, y = 7; p && d && (m = 3, y = 5); var g = !1, b = v.toString().length, k = b < 3 ? Math.ceil(v / Math.pow(10, b - 1)) : Math.ceil(v / Math.pow(10, b - 2)); do { for (var w = m; w < y; w++)if (k % w == 0) { u = w, v = b < 3 ? k * Math.pow(10, b - 1) : k * Math.pow(10, b - 2), g = !0; break } k++ } while (!g); var E = new Array(u + 1); E[0] = 0; for (var x = 1; x < u + 1; x++)E[x] = p <= d ? Math.round(v / u * x) : -1 * Math.round(v / u * x); if (p <= 1 && 0 < p || d <= 1 && 0 < d || 0 === d && 0 === p) { (E = new Array(6))[0] = 0; for (var A = v = 1; A < 6; A++)E[A] = p <= d ? 2 * v * A / 10 : -2 * v * A / 10 } if (d < p && E.reverse(), 0 === p.length || 0 === d.length) return E; if (p <= d) for (var _ = 10 * E[1], O = 1, C = Math.ceil((E.length - 1) * p / d); O < C + 1; O++)E.unshift(-1 * _ * O / 10); else for (var P = 10 * E[E.length - 2], S = 1, D = Math.ceil((E.length - 1) * d / p); S < D + 1; S++)E.push(-1 * P * S / 10); return E } r.d(e, "a", function () { return n }) }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return a }); var n = r(10), i = n.isArray, o = n.isFunction, a = function (t, e) { if (!e) return { 0: t }; if (!o(e)) { var n = i(e) ? e : e.replace(/\s+/g, "").split("*"); e = function (r) { return n.reduce(function (t, e) { return t + (r[e] && r[e].toString() + "_") }, "_") } } return function (t, n) { if (!n || !Array.isArray(t)) return t; var i = Object.create(null), o = null; return t.forEach(function (t, e, r) { null != (o = n(t, e, r)) && (i[o] ? i[o].push(t) : i[o] = [t]) }), i }(t, e) } }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return n }); var n = function () { return "undefined" != typeof wx && "function" == typeof wx.getSystemInfoSync } }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return n }); var n = function (t, e) { var r; if (!t) throw void 0 === e ? r = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.") : (r = new Error(e)).name = "Qcharts Error", r.framesToPop = 1, r } }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return s }); var n = r(12), o = r.n(n), a = r(10); function s(t) { if ("object" !== o()(t) || null === t) return t; var e; if (Object(a.isArray)(t)) { e = []; for (var r = 0, n = t.length; r < n; r++)"object" === o()(t[r]) && null != t[r] ? e[r] = s(t[r]) : e[r] = t[r] } else for (var i in e = {}, t) "object" === o()(t[i]) && null != t[i] ? e[i] = s(t[i]) : e[i] = t[i]; return e } }, function (t, e, r) { "use strict"; function n(n, i, o) { function t() { var t = this, e = arguments, r = o && !a; clearTimeout(a), a = setTimeout(function () { a = null, o || n.apply(t, e) }, i), r && n.apply(t, e) } var a; return t.cancel = function () { clearTimeout(a) }, t } r.d(e, "a", function () { return n }) }, function (t, e, r) { "use strict" }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return i }); var n = r(12), f = r.n(n), i = function t(e, r) { if (!e || !r) return e == r; var n = f()(e), i = f()(r); if (n !== i) return !1; if ("object" !== n || "object" !== i) return e == r; var o = Object.keys(e), a = Object.keys(r), s = o.length; if (s !== a.length) return !1; for (var l = !0, c = null, u = 0; u < s && (l = t(e[c = o[u]], r[c])); u++); return l } }, function (t, e, r) { "use strict"; r.d(e, "a", function () { return u }); var n = r(12), i = r.n(n), o = r(10), a = function (t) { return function () { return t } }, s = function (e, r) { return function (t) { return e + (r - e) * t } }, l = function (t, e) { var r, n = e ? e.length : 0, i = t ? Math.min(n, t.length) : 0, o = new Array(i), a = new Array(n); for (r = 0; r < i; ++r)o[r] = u(t[r], e[r]); for (; r < n; ++r)a[r] = e[r]; return function (t) { for (r = 0; r < i; ++r)a[r] = o[r](t); return a } }, c = function (t, e) { var r, n = {}, i = {}; for (r in t && Object(o.isObject)(t) || (t = {}), e && Object(o.isObject)(e) || (e = {}), e) r in t ? n[r] = u(t[r], e[r]) : i[r] = e[r]; return function (t) { for (r in n) i[r] = n[r](t); return i } }; function u(t, e) { var r = i()(e); return null === e || "string" === r || "boolean" === r ? a(e) : ("number" === r ? s : Object(o.isArray)(e) ? l : c)(t, e) } }, function (t, e, r) { "use strict"; function n(r, n, i) { var o, a, s, l, c = 0; i = i || {}; function u() { c = !1 === i.leading ? 0 : Date.now(), o = null, l = r.apply(a, s), o || (a = s = null) } function t() { var t = Date.now(); c || !1 !== i.leading || (c = t); var e = n - (t - c); return a = this, s = arguments, e <= 0 || n < e ? (o && (clearTimeout(o), o = null), c = t, l = r.apply(a, s), o || (a = s = null)) : o || !1 === i.trailing || (o = setTimeout(u, e)), l } return t.cancel = function () { clearTimeout(o), c = 0, o = a = s = null }, t } r.d(e, "a", function () { return n }) }, function (t, e, r) { window, t.exports = function (r) { var n = {}; function i(t) { if (n[t]) return n[t].exports; var e = n[t] = { i: t, l: !1, exports: {} }; return r[t].call(e.exports, e, e.exports, i), e.l = !0, e.exports } return i.m = r, i.c = n, i.d = function (t, e, r) { i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: r }) }, i.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, i.t = function (e, t) { if (1 & t && (e = i(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (i.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var n in e) i.d(r, n, function (t) { return e[t] }.bind(null, n)); return r }, i.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return i.d(e, "a", e), e }, i.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = "/js/", i(i.s = 22) }([function (e, t) { function r(t) { return e.exports = r = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, r(t) } e.exports = r }, function (t, e, r) { var n = r(13), i = r(19), o = r(15); t.exports = function (t, e) { return n(t) || i(t, e) || o() } }, function (e, t) { function r(t) { return (r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function n(t) { return "function" == typeof Symbol && "symbol" === r(Symbol.iterator) ? e.exports = n = function (t) { return r(t) } : e.exports = n = function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : r(t) }, n(t) } e.exports = n }, function (t, e) { t.exports = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } }, function (t, e, r) { var n = r(2), i = r(6); t.exports = function (t, e) { return !e || "object" !== n(e) && "function" != typeof e ? i(t) : e } }, function (t, e, r) { var n = r(16); t.exports = function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && n(t, e) } }, function (t, e) { t.exports = function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } }, function (t, e, r) { var n = r(13), i = r(14), o = r(15); t.exports = function (t) { return n(t) || i(t) || o() } }, function (n, t, e) { e(0); var o = e(20); function i(t, e, r) { return "undefined" != typeof Reflect && Reflect.get ? n.exports = i = Reflect.get : n.exports = i = function (t, e, r) { var n = o(t, e); if (n) { var i = Object.getOwnPropertyDescriptor(n, e); return i.get ? i.get.call(r) : i.value } }, i(t, e, r || t) } n.exports = i }, function (t, e, r) { var n = r(17), i = r(14), o = r(18); t.exports = function (t) { return n(t) || i(t) || o() } }, function (t, e) { function n(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } t.exports = function (t, e, r) { return e && n(t.prototype, e), r && n(t, r), t } }, function (t, e, r) { var n; window, n = function () { return function (r) { var n = {}; function i(t) { if (n[t]) return n[t].exports; var e = n[t] = { i: t, l: !1, exports: {} }; return r[t].call(e.exports, e, e.exports, i), e.l = !0, e.exports } return i.m = r, i.c = n, i.d = function (t, e, r) { i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: r }) }, i.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, i.t = function (e, t) { if (1 & t && (e = i(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (i.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var n in e) i.d(r, n, function (t) { return e[t] }.bind(null, n)); return r }, i.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return i.d(e, "a", e), e }, i.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = "/js/", i(i.s = 0) }([function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var o = m(r(1)), d = m(r(55)), p = m(r(66)), n = m(r(67)), i = m(r(73)), a = m(r(74)), s = m(r(78)), l = r(92), c = r(95), u = m(r(123)), f = m(r(124)), h = m(r(117)), v = m(r(125)); function m(t) { return t && t.__esModule ? t : { default: t } } var y = (0, s.default)("initialPath"), g = (0, s.default)("path"), b = (0, s.default)("bounds"), k = (0, s.default)("savedPaths"), w = (0, s.default)("renderProps"), E = (0, s.default)("beginPath"), x = function () { function e(t) { if ((0, i.default)(this, e), !(0, v.default)(t)) throw new Error("Not an SVG path!"); this[y] = (0, f.default)((0, u.default)(t)), this[g] = (0, h.default)(this[y]), this[b] = null, this[k] = [], this[w] = {}, this[E] = !1 } return (0, a.default)(e, [{ key: "save", value: function () { return this[k].push({ path: this[g], bounds: this[b], renderProps: (0, n.default)({}, this[w]) }), this } }, { key: "restore", value: function () { if (this[k].length) { var t = this[k].pop(), e = t.path, r = t.bounds, n = t.renderProps; this[g] = e, this[b] = r, this[w] = n } return this } }, { key: "isPointInPath", value: function (t, e) { return (0, c.isPointInPath)(this, t, e) } }, { key: "isPointInStroke", value: function (t, e, r) { var n = r.lineWidth, i = void 0 === n ? 1 : n, o = r.lineCap, a = void 0 === o ? "butt" : o, s = r.lineJoin, l = void 0 === s ? "miter" : s; if (c.isPointInStroke) return (0, c.isPointInStroke)(this, t, e, { lineWidth: i, lineCap: a, lineJoin: l }) } }, { key: "getPointAtLength", value: function (t) { return (0, c.getPointAtLength)(this.d, t) } }, { key: "getTotalLength", value: function () { return (0, c.getTotalLength)(this.d) } }, { key: "transform", value: function () { for (var t = arguments.length, e = Array(t), r = 0; r < t; r++)e[r] = arguments[r]; this[b] = null; var h = new l.Matrix(e), n = this[g]; return this[g] = n.map(function (t) { for (var e = (0, p.default)(t), r = e[0], n = e.slice(1), i = [r], o = 0; o < n.length; o += 2) { var a = n[o], s = n[o + 1], l = h.transformPoint(a, s), c = (0, d.default)(l, 2), u = c[0], f = c[1]; i.push(u, f) } return i }), this } }, { key: "translate", value: function (t, e) { var r = (new l.Matrix).translate(t, e); return this.transform.apply(this, (0, o.default)(r.m)) } }, { key: "rotate", value: function (t) { var e = (new l.Matrix).rotate(t); return this.transform.apply(this, (0, o.default)(e.m)) } }, { key: "scale", value: function (t, e) { null == e && (e = t); var r = (new l.Matrix).scale(t, e); return this.transform.apply(this, (0, o.default)(r.m)) } }, { key: "skew", value: function (t, e) { var r = (new l.Matrix).skew(t, e); return this.transform.apply(this, (0, o.default)(r.m)) } }, { key: "trim", value: function () { var t = (0, d.default)(this.bounds, 2), e = t[0], r = t[1]; return this.translate(-e, -r), this } }, { key: "beginPath", value: function () { return this[E] = !0, this } }, { key: "to", value: function (i) { var t = this[g], e = this[w]; return t.length && (this[E] && i.beginPath(), t.forEach(function (t) { var e = (0, p.default)(t), r = e[0], n = e.slice(1); "M" === r ? i.moveTo.apply(i, (0, o.default)(n)) : i.bezierCurveTo.apply(i, (0, o.default)(n)) }), this.isClosed && i.closePath()), (0, n.default)(i, e), { stroke: function () { return i.stroke(), this }, fill: function () { return i.fill(), this } } } }, { key: "strokeStyle", value: function (t) { return this[w].strokeStyle = t, this } }, { key: "fillStyle", value: function (t) { return this[w].fillStyle = t, this } }, { key: "lineWidth", value: function (t) { return this[w].lineWidth = t, this } }, { key: "lineCap", value: function (t) { return this[w].lineCap = t, this } }, { key: "lineJoin", value: function (t) { return this[w].lineJoin = t, this } }, { key: "bounds", get: function () { if (!this[b]) { var t = this[g]; if (this[b] = [0, 0, 0, 0], t.length) { for (var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0], r = 0, n = t.length; r < n; r++)for (var i = t[r].slice(1), o = 0; o < i.length; o += 2)i[o + 0] < e[0] && (e[0] = i[o + 0]), i[o + 1] < e[1] && (e[1] = i[o + 1]), i[o + 0] > e[2] && (e[2] = i[o + 0]), i[o + 1] > e[3] && (e[3] = i[o + 1]); this[b] = e } } return this[b] } }, { key: "size", get: function () { var t = this.bounds; return [t[2] - t[0], t[3] - t[1]] } }, { key: "center", get: function () { var t = (0, d.default)(this.bounds, 4), e = t[0], r = t[1]; return [(e + t[2]) / 2, (r + t[3]) / 2] } }, { key: "d", get: function () { var t = this[g].map(function (t) { var e = (0, p.default)(t); return e[0] + e.slice(1).join() }).join(""); return this.isClosed && (t += "Z"), t } }, { key: "path", get: function () { return this[g] } }, { key: "isClosed", get: function () { var t = this[y][this[y].length - 1]; return t && "Z" === t[0] } }]), e }(); e.default = x }, function (t, e, r) { "use strict"; e.__esModule = !0; var n, i = r(2), o = (n = i) && n.__esModule ? n : { default: n }; e.default = function (t) { if (Array.isArray(t)) { for (var e = 0, r = Array(t.length); e < t.length; e++)r[e] = t[e]; return r } return (0, o.default)(t) } }, function (t, e, r) { t.exports = { default: r(3), __esModule: !0 } }, function (t, e, r) { r(4), r(48), t.exports = r(12).Array.from }, function (t, e, r) { "use strict"; var n = r(5)(!0); r(8)(String, "String", function (t) { this._t = String(t), this._i = 0 }, function () { var t, e = this._t, r = this._i; return r >= e.length ? { value: void 0, done: !0 } : (t = n(e, r), this._i += t.length, { value: t, done: !1 }) }) }, function (t, e, r) { var l = r(6), c = r(7); t.exports = function (s) { return function (t, e) { var r, n, i = String(c(t)), o = l(e), a = i.length; return o < 0 || a <= o ? s ? "" : void 0 : (r = i.charCodeAt(o)) < 55296 || 56319 < r || o + 1 === a || (n = i.charCodeAt(o + 1)) < 56320 || 57343 < n ? s ? i.charAt(o) : r : s ? i.slice(o, o + 2) : n - 56320 + (r - 55296 << 10) + 65536 } } }, function (t, e) { var r = Math.ceil, n = Math.floor; t.exports = function (t) { return isNaN(t = +t) ? 0 : (0 < t ? n : r)(t) } }, function (t, e) { t.exports = function (t) { if (null == t) throw TypeError("Can't call method on  " + t); return t } }, function (t, e, r) { "use strict"; var b = r(9), k = r(10), w = r(26), E = r(15), x = r(27), A = r(28), _ = r(44), O = r(46), C = r(45)("iterator"), P = !([].keys && "next" in [].keys()), S = function () { return this }; t.exports = function (t, e, r, n, i, o, a) { A(r, e, n); var s, l, c, u = function (t) { if (!P && t in p) return p[t]; switch (t) { case "keys": case "values": return function () { return new r(this, t) } }return function () { return new r(this, t) } }, f = e + " Iterator", h = "values" == i, d = !1, p = t.prototype, v = p[C] || p["@@iterator"] || i && p[i], m = v || u(i), y = i ? h ? u("entries") : m : void 0, g = "Array" == e && p.entries || v; if (g && (c = O(g.call(new t))) !== Object.prototype && c.next && (_(c, f, !0), b || "function" == typeof c[C] || E(c, C, S)), h && v && "values" !== v.name && (d = !0, m = function () { return v.call(this) }), b && !a || !P && !d && p[C] || E(p, C, m), x[e] = m, x[f] = S, i) if (s = { values: h ? m : u("values"), keys: o ? m : u("keys"), entries: y }, a) for (l in s) l in p || w(p, l, s[l]); else k(k.P + k.F * (P || d), e, s); return s } }, function (t, e) { t.exports = !0 }, function (t, e, r) { var v = r(11), m = r(12), y = r(13), g = r(15), b = r(25), k = function (t, e, r) { var n, i, o, a = t & k.F, s = t & k.G, l = t & k.S, c = t & k.P, u = t & k.B, f = t & k.W, h = s ? m : m[e] || (m[e] = {}), d = h.prototype, p = s ? v : l ? v[e] : (v[e] || {}).prototype; for (n in s && (r = e), r) (i = !a && p && void 0 !== p[n]) && b(h, n) || (o = i ? p[n] : r[n], h[n] = s && "function" != typeof p[n] ? r[n] : u && i ? y(o, v) : f && p[n] == o ? function (n) { var t = function (t, e, r) { if (this instanceof n) { switch (arguments.length) { case 0: return new n; case 1: return new n(t); case 2: return new n(t, e) }return new n(t, e, r) } return n.apply(this, arguments) }; return t.prototype = n.prototype, t }(o) : c && "function" == typeof o ? y(Function.call, o) : o, c && ((h.virtual || (h.virtual = {}))[n] = o, t & k.R && d && !d[n] && g(d, n, o))) }; k.F = 1, k.G = 2, k.S = 4, k.P = 8, k.B = 16, k.W = 32, k.U = 64, k.R = 128, t.exports = k }, function (t, e) { var r = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = r) }, function (t, e) { var r = t.exports = { version: "2.5.4" }; "number" == typeof __e && (__e = r) }, function (t, e, r) { var o = r(14); t.exports = function (n, i, t) { if (o(n), void 0 === i) return n; switch (t) { case 1: return function (t) { return n.call(i, t) }; case 2: return function (t, e) { return n.call(i, t, e) }; case 3: return function (t, e, r) { return n.call(i, t, e, r) } }return function () { return n.apply(i, arguments) } } }, function (t, e) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, e, r) { var n = r(16), i = r(24); t.exports = r(20) ? function (t, e, r) { return n.f(t, e, i(1, r)) } : function (t, e, r) { return t[e] = r, t } }, function (t, e, r) { var n = r(17), i = r(19), o = r(23), a = Object.defineProperty; e.f = r(20) ? Object.defineProperty : function (t, e, r) { if (n(t), e = o(e, !0), n(r), i) try { return a(t, e, r) } catch (t) { } if ("get" in r || "set" in r) throw TypeError("Accessors not supported!"); return "value" in r && (t[e] = r.value), t } }, function (t, e, r) { var n = r(18); t.exports = function (t) { if (!n(t)) throw TypeError(t + " is not an object!"); return t } }, function (t, e) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, e, r) { t.exports = !r(20) && !r(21)(function () { return 7 != Object.defineProperty(r(22)("div"), "a", { get: function () { return 7 } }).a }) }, function (t, e, r) { t.exports = !r(21)(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }) }, function (t, e) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, e, r) { var n = r(18), i = r(11).document, o = n(i) && n(i.createElement); t.exports = function (t) { return o ? i.createElement(t) : {} } }, function (t, e, r) { var i = r(18); t.exports = function (t, e) { if (!i(t)) return t; var r, n; if (e && "function" == typeof (r = t.toString) && !i(n = r.call(t))) return n; if ("function" == typeof (r = t.valueOf) && !i(n = r.call(t))) return n; if (!e && "function" == typeof (r = t.toString) && !i(n = r.call(t))) return n; throw TypeError("Can't convert object to primitive value") } }, function (t, e) { t.exports = function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } } }, function (t, e) { var r = {}.hasOwnProperty; t.exports = function (t, e) { return r.call(t, e) } }, function (t, e, r) { t.exports = r(15) }, function (t, e) { t.exports = {} }, function (t, e, r) { "use strict"; var n = r(29), i = r(24), o = r(44), a = {}; r(15)(a, r(45)("iterator"), function () { return this }), t.exports = function (t, e, r) { t.prototype = n(a, { next: i(1, r) }), o(t, e + " Iterator") } }, function (t, e, n) { var i = n(17), o = n(30), a = n(42), s = n(39)("IE_PROTO"), l = function () { }, c = function () { var t, e = n(22)("iframe"), r = a.length; for (e.style.display = "none", n(43).appendChild(e), e.src = "javascript:", (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), c = t.F; r--;)delete c.prototype[a[r]]; return c() }; t.exports = Object.create || function (t, e) { var r; return null !== t ? (l.prototype = i(t), r = new l, l.prototype = null, r[s] = t) : r = c(), void 0 === e ? r : o(r, e) } }, function (t, e, r) { var a = r(16), s = r(17), l = r(31); t.exports = r(20) ? Object.defineProperties : function (t, e) { s(t); for (var r, n = l(e), i = n.length, o = 0; o < i;)a.f(t, r = n[o++], e[r]); return t } }, function (t, e, r) { var n = r(32), i = r(42); t.exports = Object.keys || function (t) { return n(t, i) } }, function (t, e, r) { var a = r(25), s = r(33), l = r(36)(!1), c = r(39)("IE_PROTO"); t.exports = function (t, e) { var r, n = s(t), i = 0, o = []; for (r in n) r != c && a(n, r) && o.push(r); for (; e.length > i;)a(n, r = e[i++]) && (~l(o, r) || o.push(r)); return o } }, function (t, e, r) { var n = r(34), i = r(7); t.exports = function (t) { return n(i(t)) } }, function (t, e, r) { var n = r(35); t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) { return "String" == n(t) ? t.split("") : Object(t) } }, function (t, e) { var r = {}.toString; t.exports = function (t) { return r.call(t).slice(8, -1) } }, function (t, e, r) { var l = r(33), c = r(37), u = r(38); t.exports = function (s) { return function (t, e, r) { var n, i = l(t), o = c(i.length), a = u(r, o); if (s && e != e) { for (; a < o;)if ((n = i[a++]) != n) return !0 } else for (; a < o; a++)if ((s || a in i) && i[a] === e) return s || a || 0; return !s && -1 } } }, function (t, e, r) { var n = r(6), i = Math.min; t.exports = function (t) { return 0 < t ? i(n(t), 9007199254740991) : 0 } }, function (t, e, r) { var n = r(6), i = Math.max, o = Math.min; t.exports = function (t, e) { return (t = n(t)) < 0 ? i(t + e, 0) : o(t, e) } }, function (t, e, r) { var n = r(40)("keys"), i = r(41); t.exports = function (t) { return n[t] || (n[t] = i(t)) } }, function (t, e, r) { var n = r(11), i = n["__core-js_shared__"] || (n["__core-js_shared__"] = {}); t.exports = function (t) { return i[t] || (i[t] = {}) } }, function (t, e) { var r = 0, n = Math.random(); t.exports = function (t) { return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++r + n).toString(36)) } }, function (t, e) { t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",") }, function (t, e, r) { var n = r(11).document; t.exports = n && n.documentElement }, function (t, e, r) { var n = r(16).f, i = r(25), o = r(45)("toStringTag"); t.exports = function (t, e, r) { t && !i(t = r ? t : t.prototype, o) && n(t, o, { configurable: !0, value: e }) } }, function (t, e, r) { var n = r(40)("wks"), i = r(41), o = r(11).Symbol, a = "function" == typeof o; (t.exports = function (t) { return n[t] || (n[t] = a && o[t] || (a ? o : i)("Symbol." + t)) }).store = n }, function (t, e, r) { var n = r(25), i = r(47), o = r(39)("IE_PROTO"), a = Object.prototype; t.exports = Object.getPrototypeOf || function (t) { return t = i(t), n(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null } }, function (t, e, r) { var n = r(7); t.exports = function (t) { return Object(n(t)) } }, function (t, e, r) { "use strict"; var h = r(13), n = r(10), d = r(47), p = r(49), v = r(50), m = r(37), y = r(51), g = r(52); n(n.S + n.F * !r(54)(function (t) { Array.from(t) }), "Array", { from: function (t) { var e, r, n, i, o = d(t), a = "function" == typeof this ? this : Array, s = arguments.length, l = 1 < s ? arguments[1] : void 0, c = void 0 !== l, u = 0, f = g(o); if (c && (l = h(l, 2 < s ? arguments[2] : void 0, 2)), null == f || a == Array && v(f)) for (r = new a(e = m(o.length)); u < e; u++)y(r, u, c ? l(o[u], u) : o[u]); else for (i = f.call(o), r = new a; !(n = i.next()).done; u++)y(r, u, c ? p(i, l, [n.value, u], !0) : n.value); return r.length = u, r } }) }, function (t, e, r) { var o = r(17); t.exports = function (t, e, r, n) { try { return n ? e(o(r)[0], r[1]) : e(r) } catch (e) { var i = t.return; throw void 0 !== i && o(i.call(t)), e } } }, function (t, e, r) { var n = r(27), i = r(45)("iterator"), o = Array.prototype; t.exports = function (t) { return void 0 !== t && (n.Array === t || o[i] === t) } }, function (t, e, r) { "use strict"; var n = r(16), i = r(24); t.exports = function (t, e, r) { e in t ? n.f(t, e, i(0, r)) : t[e] = r } }, function (t, e, r) { var n = r(53), i = r(45)("iterator"), o = r(27); t.exports = r(12).getIteratorMethod = function (t) { if (null != t) return t[i] || t["@@iterator"] || o[n(t)] } }, function (t, e, r) { var i = r(35), o = r(45)("toStringTag"), a = "Arguments" == i(function () { return arguments }()); t.exports = function (t) { var e, r, n; return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = function (t, e) { try { return t[e] } catch (t) { } }(e = Object(t), o)) ? r : a ? i(e) : "Object" == (n = i(e)) && "function" == typeof e.callee ? "Arguments" : n } }, function (t, e, r) { var o = r(45)("iterator"), a = !1; try { var n = [7][o](); n.return = function () { a = !0 }, Array.from(n, function () { throw 2 }) } catch (t) { } t.exports = function (t, e) { if (!e && !a) return !1; var r = !1; try { var n = [7], i = n[o](); i.next = function () { return { done: r = !0 } }, n[o] = function () { return i }, t(n) } catch (t) { } return r } }, function (t, e, r) { "use strict"; e.__esModule = !0; var n = i(r(56)), l = i(r(63)); function i(t) { return t && t.__esModule ? t : { default: t } } e.default = function (t, e) { if (Array.isArray(t)) return t; if ((0, n.default)(Object(t))) return function (t, e) { var r = [], n = !0, i = !1, o = void 0; try { for (var a, s = (0, l.default)(t); !(n = (a = s.next()).done) && (r.push(a.value), !e || r.length !== e); n = !0); } catch (t) { i = !0, o = t } finally { try { !n && s.return && s.return() } finally { if (i) throw o } } return r }(t, e); throw new TypeError("Invalid attempt to destructure non-iterable instance") } }, function (t, e, r) { t.exports = { default: r(57), __esModule: !0 } }, function (t, e, r) { r(58), r(4), t.exports = r(62) }, function (t, e, r) { r(59); for (var n = r(11), i = r(15), o = r(27), a = r(45)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), l = 0; l < s.length; l++) { var c = s[l], u = n[c], f = u && u.prototype; f && !f[a] && i(f, a, c), o[c] = o.Array } }, function (t, e, r) { "use strict"; var n = r(60), i = r(61), o = r(27), a = r(33); t.exports = r(8)(Array, "Array", function (t, e) { this._t = a(t), this._i = 0, this._k = e }, function () { var t = this._t, e = this._k, r = this._i++; return !t || r >= t.length ? (this._t = void 0, i(1)) : i(0, "keys" == e ? r : "values" == e ? t[r] : [r, t[r]]) }, "values"), o.Arguments = o.Array, n("keys"), n("values"), n("entries") }, function (t, e) { t.exports = function () { } }, function (t, e) { t.exports = function (t, e) { return { value: e, done: !!t } } }, function (t, e, r) { var n = r(53), i = r(45)("iterator"), o = r(27); t.exports = r(12).isIterable = function (t) { var e = Object(t); return void 0 !== e[i] || "@@iterator" in e || o.hasOwnProperty(n(e)) } }, function (t, e, r) { t.exports = { default: r(64), __esModule: !0 } }, function (t, e, r) { r(58), r(4), t.exports = r(65) }, function (t, e, r) { var n = r(17), i = r(52); t.exports = r(12).getIterator = function (t) { var e = i(t); if ("function" != typeof e) throw TypeError(t + " is not iterable!"); return n(e.call(t)) } }, function (t, e, r) { "use strict"; e.__esModule = !0; var n, i = r(2), o = (n = i) && n.__esModule ? n : { default: n }; e.default = function (t) { return Array.isArray(t) ? t : (0, o.default)(t) } }, function (t, e, r) { t.exports = { default: r(68), __esModule: !0 } }, function (t, e, r) { r(69), t.exports = r(12).Object.assign }, function (t, e, r) { var n = r(10); n(n.S + n.F, "Object", { assign: r(70) }) }, function (t, e, r) { "use strict"; var h = r(31), d = r(71), p = r(72), v = r(47), m = r(34), i = Object.assign; t.exports = !i || r(21)(function () { var t = {}, e = {}, r = Symbol(), n = "abcdefghijklmnopqrst"; return t[r] = 7, n.split("").forEach(function (t) { e[t] = t }), 7 != i({}, t)[r] || Object.keys(i({}, e)).join("") != n }) ? function (t, e) { for (var r = v(t), n = arguments.length, i = 1, o = d.f, a = p.f; i < n;)for (var s, l = m(arguments[i++]), c = o ? h(l).concat(o(l)) : h(l), u = c.length, f = 0; f < u;)a.call(l, s = c[f++]) && (r[s] = l[s]); return r } : i }, function (t, e) { e.f = Object.getOwnPropertySymbols }, function (t, e) { e.f = {}.propertyIsEnumerable }, function (t, e, r) { "use strict"; e.__esModule = !0, e.default = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } }, function (t, e, r) { "use strict"; e.__esModule = !0; var n, i = r(75), o = (n = i) && n.__esModule ? n : { default: n }; e.default = function () { function n(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), (0, o.default)(t, n.key, n) } } return function (t, e, r) { return e && n(t.prototype, e), r && n(t, r), t } }() }, function (t, e, r) { t.exports = { default: r(76), __esModule: !0 } }, function (t, e, r) { r(77); var n = r(12).Object; t.exports = function (t, e, r) { return n.defineProperty(t, e, r) } }, function (t, e, r) { var n = r(10); n(n.S + n.F * !r(20), "Object", { defineProperty: r(16).f }) }, function (t, e, r) { t.exports = { default: r(79), __esModule: !0 } }, function (t, e, r) { r(80), r(89), r(90), r(91), t.exports = r(12).Symbol }, function (t, e, r) { "use strict"; var n = r(11), a = r(25), i = r(20), o = r(10), s = r(26), l = r(81).KEY, c = r(21), u = r(40), f = r(44), h = r(41), d = r(45), p = r(82), v = r(83), m = r(84), y = r(85), g = r(17), b = r(18), k = r(33), w = r(23), E = r(24), x = r(29), A = r(86), _ = r(88), O = r(16), C = r(31), P = _.f, S = O.f, D = A.f, M = n.Symbol, j = n.JSON, T = j && j.stringify, z = d("_hidden"), F = d("toPrimitive"), R = {}.propertyIsEnumerable, L = u("symbol-registry"), I = u("symbols"), N = u("op-symbols"), q = Object.prototype, B = "function" == typeof M, W = n.QObject, G = !W || !W.prototype || !W.prototype.findChild, $ = i && c(function () { return 7 != x(S({}, "a", { get: function () { return S(this, "a", { value: 7 }).a } })).a }) ? function (t, e, r) { var n = P(q, e); n && delete q[e], S(t, e, r), n && t !== q && S(q, e, n) } : S, U = function (t) { var e = I[t] = x(M.prototype); return e._k = t, e }, J = B && "symbol" == typeof M.iterator ? function (t) { return "symbol" == typeof t } : function (t) { return t instanceof M }, V = function (t, e, r) { return t === q && V(N, e, r), g(t), e = w(e, !0), g(r), a(I, e) ? (r.enumerable ? (a(t, z) && t[z][e] && (t[z][e] = !1), r = x(r, { enumerable: E(0, !1) })) : (a(t, z) || S(t, z, E(1, {})), t[z][e] = !0), $(t, e, r)) : S(t, e, r) }, H = function (t, e) { g(t); for (var r, n = m(e = k(e)), i = 0, o = n.length; i < o;)V(t, r = n[i++], e[r]); return t }, Y = function (t) { var e = R.call(this, t = w(t, !0)); return !(this === q && a(I, t) && !a(N, t)) && (!(e || !a(this, t) || !a(I, t) || a(this, z) && this[z][t]) || e) }, X = function (t, e) { if (t = k(t), e = w(e, !0), t !== q || !a(I, e) || a(N, e)) { var r = P(t, e); return !r || !a(I, e) || a(t, z) && t[z][e] || (r.enumerable = !0), r } }, Z = function (t) { for (var e, r = D(k(t)), n = [], i = 0; r.length > i;)a(I, e = r[i++]) || e == z || e == l || n.push(e); return n }, Q = function (t) { for (var e, r = t === q, n = D(r ? N : k(t)), i = [], o = 0; n.length > o;)!a(I, e = n[o++]) || r && !a(q, e) || i.push(I[e]); return i }; B || (s((M = function () { if (this instanceof M) throw TypeError("Symbol is not a constructor!"); var e = h(0 < arguments.length ? arguments[0] : void 0), r = function (t) { this === q && r.call(N, t), a(this, z) && a(this[z], e) && (this[z][e] = !1), $(this, e, E(1, t)) }; return i && G && $(q, e, { configurable: !0, set: r }), U(e) }).prototype, "toString", function () { return this._k }), _.f = X, O.f = V, r(87).f = A.f = Z, r(72).f = Y, r(71).f = Q, i && !r(9) && s(q, "propertyIsEnumerable", Y, !0), p.f = function (t) { return U(d(t)) }), o(o.G + o.W + o.F * !B, { Symbol: M }); for (var K = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), tt = 0; K.length > tt;)d(K[tt++]); for (var et = C(d.store), rt = 0; et.length > rt;)v(et[rt++]); o(o.S + o.F * !B, "Symbol", { for: function (t) { return a(L, t += "") ? L[t] : L[t] = M(t) }, keyFor: function (t) { if (!J(t)) throw TypeError(t + " is not a symbol!"); for (var e in L) if (L[e] === t) return e }, useSetter: function () { G = !0 }, useSimple: function () { G = !1 } }), o(o.S + o.F * !B, "Object", { create: function (t, e) { return void 0 === e ? x(t) : H(x(t), e) }, defineProperty: V, defineProperties: H, getOwnPropertyDescriptor: X, getOwnPropertyNames: Z, getOwnPropertySymbols: Q }), j && o(o.S + o.F * (!B || c(function () { var t = M(); return "[null]" != T([t]) || "{}" != T({ a: t }) || "{}" != T(Object(t)) })), "JSON", { stringify: function (t) { for (var e, r, n = [t], i = 1; i < arguments.length;)n.push(arguments[i++]); if (r = e = n[1], (b(e) || void 0 !== t) && !J(t)) return y(e) || (e = function (t, e) { if ("function" == typeof r && (e = r.call(this, t, e)), !J(e)) return e }), n[1] = e, T.apply(j, n) } }), M.prototype[F] || r(15)(M.prototype, F, M.prototype.valueOf), f(M, "Symbol"), f(Math, "Math", !0), f(n.JSON, "JSON", !0) }, function (t, e, r) { var n = r(41)("meta"), i = r(18), o = r(25), a = r(16).f, s = 0, l = Object.isExtensible || function () { return !0 }, c = !r(21)(function () { return l(Object.preventExtensions({})) }), u = function (t) { a(t, n, { value: { i: "O" + ++s, w: {} } }) }, f = t.exports = { KEY: n, NEED: !1, fastKey: function (t, e) { if (!i(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t; if (!o(t, n)) { if (!l(t)) return "F"; if (!e) return "E"; u(t) } return t[n].i }, getWeak: function (t, e) { if (!o(t, n)) { if (!l(t)) return !0; if (!e) return !1; u(t) } return t[n].w }, onFreeze: function (t) { return c && f.NEED && l(t) && !o(t, n) && u(t), t } } }, function (t, e, r) { e.f = r(45) }, function (t, e, r) { var n = r(11), i = r(12), o = r(9), a = r(82), s = r(16).f; t.exports = function (t) { var e = i.Symbol || (i.Symbol = o ? {} : n.Symbol || {}); "_" == t.charAt(0) || t in e || s(e, t, { value: a.f(t) }) } }, function (t, e, r) { var s = r(31), l = r(71), c = r(72); t.exports = function (t) { var e = s(t), r = l.f; if (r) for (var n, i = r(t), o = c.f, a = 0; i.length > a;)o.call(t, n = i[a++]) && e.push(n); return e } }, function (t, e, r) { var n = r(35); t.exports = Array.isArray || function (t) { return "Array" == n(t) } }, function (t, e, r) { var n = r(33), i = r(87).f, o = {}.toString, a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; t.exports.f = function (t) { return a && "[object Window]" == o.call(t) ? function (t) { try { return i(t) } catch (t) { return a.slice() } }(t) : i(n(t)) } }, function (t, e, r) { var n = r(32), i = r(42).concat("length", "prototype"); e.f = Object.getOwnPropertyNames || function (t) { return n(t, i) } }, function (t, e, r) { var n = r(72), i = r(24), o = r(33), a = r(23), s = r(25), l = r(19), c = Object.getOwnPropertyDescriptor; e.f = r(20) ? c : function (t, e) { if (t = o(t), e = a(e, !0), l) try { return c(t, e) } catch (t) { } if (s(t, e)) return i(!n.f.call(t, e), t[e]) } }, function (t, e) { }, function (t, e, r) { r(83)("asyncIterator") }, function (t, e, r) { r(83)("observable") }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.Vector = e.Matrix = void 0; var n = o(r(93)), i = o(r(94)); function o(t) { return t && t.__esModule ? t : { default: t } } e.Matrix = n.default, e.Vector = i.default }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var c = function (t) { t = t || [1, 0, 0, 1, 0, 0], this.m = [t[0], t[1], t[2], t[3], t[4], t[5]] }; c.prototype.unit = function () { return this.m = [1, 0, 0, 1, 0, 0], this }, c.prototype.multiply = function (t) { var e = this.m, r = void 0; r = t instanceof c ? t.m : t; var n = e[0] * r[0] + e[2] * r[1], i = e[1] * r[0] + e[3] * r[1], o = e[0] * r[2] + e[2] * r[3], a = e[1] * r[2] + e[3] * r[3], s = e[0] * r[4] + e[2] * r[5] + e[4], l = e[1] * r[4] + e[3] * r[5] + e[5]; return e[0] = n, e[1] = i, e[2] = o, e[3] = a, e[4] = s, e[5] = l, this }, c.prototype.inverse = function () { var t = new c(this.m), e = t.m, r = 1 / (e[0] * e[3] - e[1] * e[2]), n = e[3] * r, i = -e[1] * r, o = -e[2] * r, a = e[0] * r, s = r * (e[2] * e[5] - e[3] * e[4]), l = r * (e[1] * e[4] - e[0] * e[5]); return e[0] = n, e[1] = i, e[2] = o, e[3] = a, e[4] = s, e[5] = l, t }, c.prototype.translate = function (t, e) { return this.multiply([1, 0, 0, 1, t, e]) }, c.prototype.rotate = function (t) { var e = t * Math.PI / 180, r = Math.cos(e), n = Math.sin(e); return this.multiply([r, n, -n, r, 0, 0]) }, c.prototype.skew = function (t, e) { e |= 0; var r = t * Math.PI / 180, n = e * Math.PI / 180, i = Math.tan(r), o = Math.tan(n); return this.multiply([1, o, i, 1, 0, 0]) }, c.prototype.scale = function (t, e) { return this.multiply([t, 0, 0, e, 0, 0]) }, c.prototype.transformPoint = function (t, e) { var r = t, n = e; return [t = r * this.m[0] + n * this.m[2] + this.m[4], e = r * this.m[1] + n * this.m[3] + this.m[5]] }, c.prototype.transformVector = function (t, e) { var r = t, n = e; return [t = r * this.m[0] + n * this.m[2], e = r * this.m[1] + n * this.m[3]] }, e.default = c }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var f = i(r(55)), h = i(r(73)), n = i(r(74)); function i(t) { return t && t.__esModule ? t : { default: t } } var o = function () { function u(t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [0, 0, 0]; (0, h.default)(this, u); var r = (0, f.default)(t, 3), n = r[0], i = r[1], o = r[2], a = (0, f.default)(e, 3), s = a[0], l = a[1], c = a[2]; o = o || 0, c = c || 0, this.x = n - s, this.y = i - l, this.z = o - c } return (0, n.default)(u, [{ key: "unit", value: function () { var t = this.length; return new u([this.x / t, this.y / t, this.z / t]) } }, { key: "dot", value: function (t) { return this.x * t.x + this.y * t.y + this.z * t.z } }, { key: "cross", value: function (t) { var e = this.x, r = this.y, n = this.z, i = t.x, o = t.y, a = t.z; return new u([r * a - n * o, n * i - e * a, e * o - i * r]) } }, { key: "length", get: function () { var t = this.x, e = this.y, r = this.z; return Math.sqrt(t * t + e * e + r * r) } }]), u }(); e.default = o }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.isPointInStroke = void 0; var n = o(r(96)); e.getPointAtLength = function (t, e) { return l(t).at(e) }, e.getTotalLength = function (t) { return l(t).length() }, e.isPointInPath = function (t, e, r) { var n = t.path; return (0, i.default)(n, e, r) }; var i = o(r(116)); function o(t) { return t && t.__esModule ? t : { default: t } } var a = r(119), s = new n.default; function l(t) { if (s.has(t)) return s.get(t); var e = a(t); return s.set(t, e), e } e.isPointInStroke = null }, function (t, e, r) { t.exports = { default: r(97), __esModule: !0 } }, function (t, e, r) { r(89), r(4), r(58), r(98), r(109), r(112), r(114), t.exports = r(12).Map }, function (t, e, r) { "use strict"; var n = r(99), i = r(104); t.exports = r(105)("Map", function (t) { return function () { return t(this, 0 < arguments.length ? arguments[0] : void 0) } }, { get: function (t) { var e = n.getEntry(i(this, "Map"), t); return e && e.v }, set: function (t, e) { return n.def(i(this, "Map"), 0 === t ? 0 : t, e) } }, n, !0) }, function (t, e, r) { "use strict"; var a = r(16).f, s = r(29), l = r(100), c = r(13), u = r(101), f = r(102), n = r(8), i = r(61), o = r(103), h = r(20), d = r(81).fastKey, p = r(104), v = h ? "_s" : "size", m = function (t, e) { var r, n = d(e); if ("F" !== n) return t._i[n]; for (r = t._f; r; r = r.n)if (r.k == e) return r }; t.exports = { getConstructor: function (t, o, r, n) { var i = t(function (t, e) { u(t, i, o, "_i"), t._t = o, t._i = s(null), t._f = void 0, t._l = void 0, t[v] = 0, null != e && f(e, r, t[n], t) }); return l(i.prototype, { clear: function () { for (var t = p(this, o), e = t._i, r = t._f; r; r = r.n)r.r = !0, r.p && (r.p = r.p.n = void 0), delete e[r.i]; t._f = t._l = void 0, t[v] = 0 }, delete: function (t) { var e = p(this, o), r = m(e, t); if (r) { var n = r.n, i = r.p; delete e._i[r.i], r.r = !0, i && (i.n = n), n && (n.p = i), e._f == r && (e._f = n), e._l == r && (e._l = i), e[v]-- } return !!r }, forEach: function (t) { p(this, o); for (var e, r = c(t, 1 < arguments.length ? arguments[1] : void 0, 3); e = e ? e.n : this._f;)for (r(e.v, e.k, this); e && e.r;)e = e.p }, has: function (t) { return !!m(p(this, o), t) } }), h && a(i.prototype, "size", { get: function () { return p(this, o)[v] } }), i }, def: function (t, e, r) { var n, i, o = m(t, e); return o ? o.v = r : (t._l = o = { i: i = d(e, !0), k: e, v: r, p: n = t._l, n: void 0, r: !1 }, t._f || (t._f = o), n && (n.n = o), t[v]++ , "F" !== i && (t._i[i] = o)), t }, getEntry: m, setStrong: function (t, r, e) { n(t, r, function (t, e) { this._t = p(t, r), this._k = e, this._l = void 0 }, function () { for (var t = this._k, e = this._l; e && e.r;)e = e.p; return this._t && (this._l = e = e ? e.n : this._t._f) ? i(0, "keys" == t ? e.k : "values" == t ? e.v : [e.k, e.v]) : (this._t = void 0, i(1)) }, e ? "entries" : "values", !e, !0), o(r) } } }, function (t, e, r) { var i = r(15); t.exports = function (t, e, r) { for (var n in e) r && t[n] ? t[n] = e[n] : i(t, n, e[n]); return t } }, function (t, e) { t.exports = function (t, e, r, n) { if (!(t instanceof e) || void 0 !== n && n in t) throw TypeError(r + ": incorrect invocation!"); return t } }, function (t, e, r) { var h = r(13), d = r(49), p = r(50), v = r(17), m = r(37), y = r(52), g = {}, b = {}; (e = t.exports = function (t, e, r, n, i) { var o, a, s, l, c = i ? function () { return t } : y(t), u = h(r, n, e ? 2 : 1), f = 0; if ("function" != typeof c) throw TypeError(t + " is not iterable!"); if (p(c)) { for (o = m(t.length); f < o; f++)if ((l = e ? u(v(a = t[f])[0], a[1]) : u(t[f])) === g || l === b) return l } else for (s = c.call(t); !(a = s.next()).done;)if ((l = d(s, u, a.value, e)) === g || l === b) return l }).BREAK = g, e.RETURN = b }, function (t, e, r) { "use strict"; var n = r(11), i = r(12), o = r(16), a = r(20), s = r(45)("species"); t.exports = function (t) { var e = "function" == typeof i[t] ? i[t] : n[t]; a && e && !e[s] && o.f(e, s, { configurable: !0, get: function () { return this } }) } }, function (t, e, r) { var n = r(18); t.exports = function (t, e) { if (!n(t) || t._t !== e) throw TypeError("Incompatible receiver, " + e + " required!"); return t } }, function (t, e, r) { "use strict"; var f = r(11), h = r(10), d = r(81), p = r(21), v = r(15), m = r(100), y = r(102), g = r(101), b = r(18), k = r(44), w = r(16).f, E = r(106)(0), x = r(20); t.exports = function (r, t, e, n, i, o) { var a = f[r], s = a, l = i ? "set" : "add", c = s && s.prototype, u = {}; return x && "function" == typeof s && (o || c.forEach && !p(function () { (new s).entries().next() })) ? (s = t(function (t, e) { g(t, s, r, "_c"), t._c = new a, null != e && y(e, i, t[l], t) }), E("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","), function (n) { var i = "add" == n || "set" == n; n in c && (!o || "clear" != n) && v(s.prototype, n, function (t, e) { if (g(this, s, n), !i && o && !b(t)) return "get" == n && void 0; var r = this._c[n](0 === t ? 0 : t, e); return i ? this : r }) }), o || w(s.prototype, "size", { get: function () { return this._c.size } })) : (s = n.getConstructor(t, r, i, l), m(s.prototype, e), d.NEED = !0), k(s, r), u[r] = s, h(h.G + h.W + h.F, u), o || n.setStrong(s, r, i), s } }, function (t, e, r) { var b = r(13), k = r(34), w = r(47), E = r(37), n = r(107); t.exports = function (f, t) { var h = 1 == f, d = 2 == f, p = 3 == f, v = 4 == f, m = 6 == f, y = 5 == f || m, g = t || n; return function (t, e, r) { for (var n, i, o = w(t), a = k(o), s = b(e, r, 3), l = E(a.length), c = 0, u = h ? g(t, l) : d ? g(t, 0) : void 0; c < l; c++)if ((y || c in a) && (i = s(n = a[c], c, o), f)) if (h) u[c] = i; else if (i) switch (f) { case 3: return !0; case 5: return n; case 6: return c; case 2: u.push(n) } else if (v) return !1; return m ? -1 : p || v ? v : u } } }, function (t, e, r) { var n = r(108); t.exports = function (t, e) { return new (n(t))(e) } }, function (t, e, r) { var n = r(18), i = r(85), o = r(45)("species"); t.exports = function (t) { var e; return i(t) && ("function" != typeof (e = t.constructor) || e !== Array && !i(e.prototype) || (e = void 0), n(e) && null === (e = e[o]) && (e = void 0)), void 0 === e ? Array : e } }, function (t, e, r) { var n = r(10); n(n.P + n.R, "Map", { toJSON: r(110)("Map") }) }, function (t, e, r) { var n = r(53), i = r(111); t.exports = function (t) { return function () { if (n(this) != t) throw TypeError(t + "#toJSON isn't generic"); return i(this) } } }, function (t, e, r) { var n = r(102); t.exports = function (t, e) { var r = []; return n(t, !1, r.push, r, e), r } }, function (t, e, r) { r(113)("Map") }, function (t, e, r) { "use strict"; var n = r(10); t.exports = function (t) { n(n.S, t, { of: function () { for (var t = arguments.length, e = new Array(t); t--;)e[t] = arguments[t]; return new this(e) } }) } }, function (t, e, r) { r(115)("Map") }, function (t, e, r) { "use strict"; var n = r(10), a = r(14), s = r(13), l = r(102); t.exports = function (t) { n(n.S, t, { from: function (t) { var e, r, n, i, o = arguments[1]; return a(this), (e = void 0 !== o) && a(o), null == t ? new this : (r = [], e ? (n = 0, i = s(o, arguments[2], 2), l(t, !1, function (t) { r.push(i(t, n++)) })) : l(t, !1, r.push, r), new this(r)) } }) } }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var c = n(r(1)); e.default = function (t, e, r) { var n = function (t) { var e = m(t); if (e.bbox) return v(e.bbox); if (!t) return O(); for (var r = 0, n = 0, i = [], o = [], a = [], s = 0, l = t.length; s < l; s++)if ("M" === (a = t[s])[0]) r = a[1], n = a[2], i.push(r), o.push(n); else { var c = y(r, n, a[1], a[2], a[3], a[4], a[5], a[6]); i = i.concat(c.min.x, c.max.x), o = o.concat(c.min.y, c.max.y), r = a[5], n = a[6] } var u = Math.min.apply(0, i), f = Math.min.apply(0, o), h = Math.max.apply(0, i), d = Math.max.apply(0, o), p = O(u, f, h - u, d - f); return e.bbox = v(p), p }(t); return !!function (t, e, r) { return e >= t.x && e <= t.x + t.width && r >= t.y && r <= t.y + t.height }(n, e, r) && function (t, e) { for (var r = void 0, n = void 0, i = void 0, o = void 0, a = void 0, s = void 0, l = void 0, c = void 0, u = void 0, f = void 0, h = 0, d = 0, p = t.length; d < p; d++) { var v = t[d]; if ("M" === v[0]) r = a = v[1], n = s = v[2]; else { n = "C" === v[0] ? (r = (u = [r, n].concat(v.slice(1)))[6], u[7]) : (u = [r, n, r, n, a, s, a, s], r = a, s); for (var m = 0, y = e.length; m < y; m++) { var g = e[m]; if ("M" === g[0]) i = l = g[1], o = c = g[2]; else { o = "C" === g[0] ? (i = (f = [i, o].concat(g.slice(1)))[6], f[7]) : (f = [i, o, i, o, l, c, l, c], i = l, c); var b = k(u, f, 1); h += b } } } } return h }(t, (0, i.default)([["M", e, r], ["H", n.x2 + 10]])) % 2 == 1 }; var i = n(r(117)); function n(t) { return t && t.__esModule ? t : { default: t } } var v = function t(e) { if ("function" == typeof e || Object(e) !== e) return e; var r = new e.constructor; for (var n in e) e.hasOwnProperty(n) && (r[n] = t(e[n])); return r }; function m(e) { var r = m.ps = m.ps || {}; return r[e] ? r[e].sleep = 100 : r[e] = { sleep: 100 }, setTimeout(function () { for (var t in r) r.hasOwnProperty(t) && t !== e && (r[t].sleep-- , r[t].sleep || delete r[t]) }), r[e] } function O(t, e, r, n) { return null == t && (t = e = r = n = 0), null == e && (e = t.y, r = t.width, n = t.height, t = t.x), { x: t, y: e, width: r, w: r, height: n, h: n, x2: t + r, y2: e + n, cx: t + r / 2, cy: e + n / 2, r1: Math.min(r, n) / 2, r2: Math.max(r, n) / 2, r0: Math.sqrt(r * r + n * n) / 2, path: function (t, e, r, n, i) { return i ? [["M", Number(t) + Number(i), e], ["l", r - 2 * i, 0], ["a", i, i, 0, 0, 1, i, i], ["l", 0, n - 2 * i], ["a", i, i, 0, 0, 1, -i, i], ["l", 2 * i - r, 0], ["a", i, i, 0, 0, 1, -i, -i], ["l", 0, 2 * i - n], ["a", i, i, 0, 0, 1, i, -i], ["z"]] : [["M", t, e], ["l", r, 0], ["l", 0, n], ["l", -r, 0], ["z"]] }(t, e, r, n), vb: [t, e, r, n].join(" ") } } function C(t, e, r, n, i, o, a, s, l) { var c = 1 - l, u = Math.pow(c, 3), f = Math.pow(c, 2), h = l * l, d = h * l, p = t + 2 * l * (r - t) + h * (i - 2 * r + t), v = e + 2 * l * (n - e) + h * (o - 2 * n + e), m = r + 2 * l * (i - r) + h * (a - 2 * i + r), y = n + 2 * l * (o - n) + h * (s - 2 * o + n); return { x: u * t + 3 * f * l * r + 3 * c * l * l * i + d * a, y: u * e + 3 * f * l * n + 3 * c * l * l * o + d * s, m: { x: p, y: v }, n: { x: m, y: y }, start: { x: c * t + l * r, y: c * e + l * n }, end: { x: c * i + l * a, y: c * o + l * s }, alpha: 90 - 180 * Math.atan2(p - m, v - y) / Math.PI } } function P(t, e, r, n, i, o, a, s) { Array.isArray(t) || (t = [t, e, r, n, i, o, a, s]); var l = y.apply(void 0, (0, c.default)(t)); return O(l.min.x, l.min.y, l.max.x - l.min.x, l.max.y - l.min.y) } function g(t, e, r, n, i) { return t * (t * (-3 * e + 9 * r - 9 * n + 3 * i) + 6 * e - 12 * r + 6 * n) - 3 * e + 3 * r } function S(t, e, r, n, i, o, a, s, l) { null == l && (l = 1); for (var c = (l = Math.max(0, Math.min(l, 1))) / 2, u = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], h = 0, d = 0; d < 12; d++) { var p = c * u[d] + c, v = g(p, t, r, i, a), m = g(p, e, n, o, s), y = v * v + m * m; h += f[d] * Math.sqrt(y) } return c * h } function D(t, e, r, n, i, o, a, s) { if (!(Math.max(t, r) < Math.min(i, a) || Math.min(t, r) > Math.max(i, a) || Math.max(e, n) < Math.min(o, s) || Math.min(e, n) > Math.max(o, s))) { var l = (t - r) * (o - s) - (e - n) * (i - a); if (l) { var c = ((t * n - e * r) * (i - a) - (t - r) * (i * s - o * a)) / l, u = ((t * n - e * r) * (o - s) - (e - n) * (i * s - o * a)) / l, f = Number(c.toFixed(2)), h = Number(u.toFixed(2)); if (!(f < Number(Math.min(t, r).toFixed(2)) || f > Number(Math.max(t, r).toFixed(2)) || f < Number(Math.min(i, a).toFixed(2)) || f > Number(Math.max(i, a).toFixed(2)) || h < Number(Math.min(e, n).toFixed(2)) || h > Number(Math.max(e, n).toFixed(2)) || h < Number(Math.min(o, s).toFixed(2)) || h > Number(Math.max(o, s).toFixed(2)))) return { x: c, y: u } } } } function k(t, e, r) { if (!function (t, e) { t = O(t), e = O(e); var r = t, n = r.x, i = r.y, o = r.width, a = r.height, s = e, l = s.x, c = s.y, u = s.width, f = s.height, h = n + o / 2, d = i + a / 2, p = l + u / 2, v = c + f / 2; return Math.abs(h - p) <= (o + u) / 2 || Math.abs(d - v) <= (a + f) / 2 }(P(t), P(e))) return r ? 0 : []; for (var n = S.apply(0, t), i = S.apply(0, e), o = Math.ceil(n / 8), a = Math.ceil(i / 8), s = [], l = [], c = {}, u = r ? 0 : [], f = 0; f < o + 1; f++) { var h = C.apply(0, t.concat(f / o)); s.push({ x: h.x, y: h.y, t: f / o }) } for (var d = 0; d < a + 1; d++) { var p = C.apply(0, e.concat(d / a)); l.push({ x: p.x, y: p.y, t: d / a }) } for (var v = 0; v < o; v++)for (var m = 0; m < a; m++) { var y = s[v], g = s[v + 1], b = l[m], k = l[m + 1], w = Math.abs(g.x - y.x) < .001 ? "y" : "x", E = Math.abs(k.x - b.x) < .001 ? "y" : "x", x = D(y.x, y.y, g.x, g.y, b.x, b.y, k.x, k.y); if (x && c[x.x.toFixed(4)] !== x.y.toFixed(4)) { c[x.x.toFixed(4)] = x.y.toFixed(4); var A = y.t + Math.abs((x[w] - y[w]) / (g[w] - y[w])) * (g.t - y.t), _ = b.t + Math.abs((x[E] - b[E]) / (k[E] - b[E])) * (k.t - b.t); 0 <= A && A <= 1 && 0 <= _ && _ <= 1 && (r ? u++ : u.push({ x: x.x, y: x.y, t1: A, t2: _ })) } } return u } function y(t, e, r, n, i, o, a, s) { for (var l = [], c = [[], []], u = void 0, f = void 0, h = void 0, d = void 0, p = void 0, v = void 0, m = void 0, y = void 0, g = 0; g < 2; ++g)if (h = 0 === g ? (f = 6 * t - 12 * r + 6 * i, u = -3 * t + 9 * r - 9 * i + 3 * a, 3 * r - 3 * t) : (f = 6 * e - 12 * n + 6 * o, u = -3 * e + 9 * n - 9 * o + 3 * s, 3 * n - 3 * e), Math.abs(u) < 1e-12) { if (Math.abs(f) < 1e-12) continue; 0 < (d = -h / f) && d < 1 && l.push(d) } else m = f * f - 4 * h * u, y = Math.sqrt(m), m < 0 || (0 < (p = (-f + y) / (2 * u)) && p < 1 && l.push(p), 0 < (v = (-f - y) / (2 * u)) && v < 1 && l.push(v)); for (var b = l.length, k = void 0, w = b; b--;)k = 1 - (d = l[b]), c[0][b] = k * k * k * t + 3 * k * k * d * r + 3 * k * d * d * i + d * d * d * a, c[1][b] = k * k * k * e + 3 * k * k * d * n + 3 * k * d * d * o + d * d * d * s; return c[0][w] = t, c[1][w] = e, c[0][w + 1] = a, c[1][w + 1] = s, c[0].length = c[1].length = w + 2, { min: { x: Math.min.apply(0, c[0]), y: Math.min.apply(0, c[1]) }, max: { x: Math.max.apply(0, c[0]), y: Math.max.apply(0, c[1]) } } } }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }); var k = n(r(55)); e.default = function (t) { for (var e, r = [], n = 0, i = 0, o = 0, a = 0, s = null, l = null, c = 0, u = 0, f = 0, h = t.length; f < h; f++) { var d = t[f], p = d[0]; switch (p) { case "M": o = d[1], a = d[2]; break; case "A": var v = (0, w.default)(c, u, d[6], d[7], d[4], d[5], d[1], d[2], d[3]); if (!v.length) continue; v = v.map(function (t) { var e = (0, k.default)(t, 8), r = (e[0], e[1], e[2]), n = e[3], i = e[4], o = e[5], a = e[6], s = e[7]; return { x1: r, y1: n, x2: i, y2: o, x: a, y: s } }); for (var m, y = 0; y < v.length; y++)m = v[y], d = ["C", m.x1, m.y1, m.x2, m.y2, m.x, m.y], y < v.length - 1 && r.push(d); break; case "S": var g = c, b = u; "C" != e && "S" != e || (g += g - n, b += b - i), d = ["C", g, b, d[1], d[2], d[3], d[4]]; break; case "T": l = "Q" == e || "T" == e ? (s = 2 * c - s, 2 * u - l) : (s = c, u), d = x(c, u, s, l, d[1], d[2]); break; case "Q": s = d[1], l = d[2], d = x(c, u, d[1], d[2], d[3], d[4]); break; case "L": d = E(c, u, d[1], d[2]); break; case "H": d = E(c, u, d[1], u); break; case "V": d = E(c, u, c, d[1]); break; case "Z": d = E(c, u, o, a) }e = p, c = d[d.length - 2], u = d[d.length - 1], i = 4 < d.length ? (n = d[d.length - 4], d[d.length - 3]) : (n = c, u), r.push(d) } return r }; var w = n(r(118)); function n(t) { return t && t.__esModule ? t : { default: t } } function E(t, e, r, n) { return ["C", t, e, r, n, r, n] } function x(t, e, r, n, i, o) { return ["C", t / 3 + 2 / 3 * r, e / 3 + 2 / 3 * n, i / 3 + 2 / 3 * r, o / 3 + 2 / 3 * n, i, o] } }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.default = function (t, e, r, n, i, o, a, s, l) { var c = Math.sin(l * C / 360), u = Math.cos(l * C / 360), f = u * (t - r) / 2 + c * (e - n) / 2, h = -c * (t - r) / 2 + u * (e - n) / 2; if (0 == f && 0 == h) return []; if (0 === a || 0 === s) return []; a = Math.abs(a), s = Math.abs(s); var d = f * f / (a * a) + h * h / (s * s); 1 < d && (a *= Math.sqrt(d), s *= Math.sqrt(d)); var p, v, m, y, g, b, k, w = function (t, e, r, n, i, o, a, s, l, c) { var u = c * (t - r) / 2 + l * (e - n) / 2, f = -l * (t - r) / 2 + c * (e - n) / 2, h = a * a, d = s * s, p = u * u, v = f * f, m = h * d - h * v - d * p; m < 0 && (m = 0), m /= h * v + d * p; var y = (m = Math.sqrt(m) * (i === o ? -1 : 1)) * a / s * f, g = m * -s / a * u, b = c * y - l * g + (t + r) / 2, k = l * y + c * g + (e + n) / 2, w = (u - y) / a, E = (f - g) / s, x = (-u - y) / a, A = (-f - g) / s, _ = P(1, 0, w, E), O = P(w, E, x, A); return 0 === o && 0 < O && (O -= C), 1 === o && O < 0 && (O += C), [b, k, _, O] }(t, e, r, n, i, o, a, s, c, u), E = [], x = w[2], A = w[3], _ = Math.max(Math.ceil(Math.abs(A) / (C / 4)), 1); A /= _; for (var O = 0; O < _; O++)E.push((p = x, v = A, m = 4 / 3 * Math.tan(v / 4), y = Math.cos(p), g = Math.sin(p), b = Math.cos(p + v), k = Math.sin(p + v), [y, g, y - g * m, g + y * m, b + k * m, k - b * m, b, k])), x += A; return E.map(function (t) { for (var e = 0; e < t.length; e += 2) { var r = t[e + 0], n = t[e + 1], i = u * (r *= a) - c * (n *= s), o = c * r + u * n; t[e + 0] = i + w[0], t[e + 1] = o + w[1] } return t }) }; var C = 2 * Math.PI; function P(t, e, r, n) { var i = t * r + e * n; return 1 < i && (i = 1), i < -1 && (i = -1), (t * n - e * r < 0 ? -1 : 1) * Math.acos(i) } }, function (t, e, r) { var n = r(120), i = r(121), o = r(122); function a(t) { if (!(this instanceof a)) return new a(t); this._path = i(t) ? t : n(t), this._path = o(this._path), this._path = function (t) { for (var e, r = [], n = ["L", 0, 0], i = 0, o = t.length; i < o; i++) { var a = t[i]; switch (a[0]) { case "M": n = ["L", a[1], a[2]], r.push(a); break; case "Z": r.push(n); break; case "H": e = r[r.length - 1] || ["L", 0, 0], r.push(["L", a[1], e[e.length - 1]]); break; case "V": e = r[r.length - 1] || ["L", 0, 0], r.push(["L", e[e.length - 2], a[1]]); break; default: r.push(a) } } return r }(this._path), this._path = function (t) { for (var e, r = 0, n = 0, i = { S: { to: "C", x: 3 }, T: { to: "Q", x: 1 } }, o = 0, a = t.length; o < a; o++) { var s = t[o], l = i[s[0]]; l && (s[0] = l.to, e && (n = e[0] === l.to ? (r = 2 * e[l.x + 2] - e[l.x], 2 * e[l.x + 3] - e[l.x + 1]) : (r = e[e.length - 2], e[e.length - 1])), s.splice(1, 0, r, n)), e = s } return t }(this._path) } function E(t, e, r, n) { var i = t - r, o = e - n; return Math.sqrt(i * i + o * o) } (t.exports = a).prototype.at = function (t, e) { return this._walk(t, e).pos }, a.prototype.length = function () { return this._walk(null).length }, a.prototype._walk = function (t, e) { for (var r = [0, 0], n = [0, 0, 0], i = [0, 0], o = 0, a = 0; a < this._path.length; a++) { var s = this._path[a]; if ("M" === s[0]) { if (r[0] = s[1], r[1] = s[2], 0 === t) return { length: o, pos: r } } else if ("C" === s[0]) { n[0] = i[0] = r[0], n[1] = i[1] = r[1], n[2] = o; for (var l = 100, c = 0; c <= l; c++) { var u = (k = s, w = d = c / l, Math.pow(1 - w, 3) * i[0] + 3 * Math.pow(1 - w, 2) * w * k[1] + 3 * (1 - w) * Math.pow(w, 2) * k[3] + Math.pow(w, 3) * k[5]), f = (g = s, b = d, Math.pow(1 - b, 3) * i[1] + 3 * Math.pow(1 - b, 2) * b * g[2] + 3 * (1 - b) * Math.pow(b, 2) * g[4] + Math.pow(b, 3) * g[6]); if (o += E(r[0], r[1], u, f), r[0] = u, r[1] = f, "number" == typeof t && t <= o) { var h = (o - t) / (o - n[2]); return { length: o, pos: [r[0] * (1 - h) + n[0] * h, r[1] * (1 - h) + n[1] * h] } } n[0] = r[0], n[1] = r[1], n[2] = o } } else if ("Q" === s[0]) for (n[0] = i[0] = r[0], n[1] = i[1] = r[1], n[2] = o, l = 100, c = 0; c <= l; c++) { var d; if (m = s, y = d = c / l, u = Math.pow(1 - y, 2) * i[0] + 2 * (1 - y) * y * m[1] + Math.pow(y, 2) * m[3], p = s, v = d, f = Math.pow(1 - v, 2) * i[1] + 2 * (1 - v) * v * p[2] + Math.pow(v, 2) * p[4], o += E(r[0], r[1], u, f), r[0] = u, r[1] = f, "number" == typeof t && t <= o) return h = (o - t) / (o - n[2]), { length: o, pos: [r[0] * (1 - h) + n[0] * h, r[1] * (1 - h) + n[1] * h] }; n[0] = r[0], n[1] = r[1], n[2] = o } else if ("L" === s[0]) { if (n[0] = r[0], n[1] = r[1], n[2] = o, o += E(r[0], r[1], s[1], s[2]), r[0] = s[1], r[1] = s[2], "number" == typeof t && t <= o) return h = (o - t) / (o - n[2]), { length: o, pos: [r[0] * (1 - h) + n[0] * h, r[1] * (1 - h) + n[1] * h] }; n[0] = r[0], n[1] = r[1], n[2] = o } } var p, v, m, y, g, b, k, w; return { length: o, pos: r } } }, function (t, e) { t.exports = function (t) { var i = []; return t.replace(r, function (t, e, r) { var n = e.toLowerCase(); for (r = function (t) { var e = t.match(a); return e ? e.map(Number) : [] }(r), "m" == n && 2 < r.length && (i.push([e].concat(r.splice(0, 2))), n = "l", e = "m" == e ? "l" : "L"); ;) { if (r.length == o[n]) return r.unshift(e), i.push(r); if (r.length < o[n]) throw new Error("malformed path data"); i.push([e].concat(r.splice(0, o[n]))) } }), i }; var o = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 }, r = /([astvzqmhlc])([^astvzqmhlc]*)/gi, a = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi }, function (t, e) { t.exports = Array.isArray || function (t) { return "[object Array]" == Object.prototype.toString.call(t) } }, function (t, e) { t.exports = function (t) { var i = 0, o = 0, a = 0, s = 0; return t.map(function (t) { var e = (t = t.slice())[0], r = e.toUpperCase(); if (e != r) switch (t[0] = r, e) { case "a": t[6] += a, t[7] += s; break; case "v": t[1] += s; break; case "h": t[1] += a; break; default: for (var n = 1; n < t.length;)t[n++] += a, t[n++] += s }switch (r) { case "Z": a = i, s = o; break; case "H": a = t[1]; break; case "V": s = t[1]; break; case "M": a = i = t[1], s = o = t[2]; break; default: a = t[t.length - 2], s = t[t.length - 1] }return t }) } }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.default = function (t) { var i = []; return t.replace(n, function (t, e, r) { var n = e.toLowerCase(); for (r = function (t) { var e = t.match(a); return e ? e.map(Number) : [] }(r), "m" == n && 2 < r.length && (i.push([e].concat(r.splice(0, 2))), n = "l", e = "m" == e ? "l" : "L"); ;) { if (r.length == o[n]) return r.unshift(e), i.push(r); if (r.length < o[n]) throw new Error("malformed path data"); i.push([e].concat(r.splice(0, o[n]))) } }), i }; var o = { a: 7, c: 6, h: 1, l: 2, m: 2, q: 4, s: 4, t: 2, v: 1, z: 0 }, n = /([astvzqmhlc])([^astvzqmhlc]*)/gi, a = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.default = function (t) { var i = 0, o = 0, a = 0, s = 0; return t.map(function (t) { var e = (t = t.slice())[0], r = e.toUpperCase(); if (e != r) switch (t[0] = r, e) { case "a": t[6] += a, t[7] += s; break; case "v": t[1] += s; break; case "h": t[1] += a; break; default: for (var n = 1; n < t.length;)t[n++] += a, t[n++] += s }switch (r) { case "Z": a = i, s = o; break; case "H": a = t[1]; break; case "V": s = t[1]; break; case "M": a = i = t[1], s = o = t[2]; break; default: a = t[t.length - 2], s = t[t.length - 1] }return t }) } }, function (t, e, r) { "use strict"; Object.defineProperty(e, "__esModule", { value: !0 }), e.default = function (t) { return "string" == typeof t && (t = t.trim(), !!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t) && /[\dz]$/i.test(t) && 4 < t.length)) } }]) }, t.exports = n() }, function (t, e) { t.exports = function (t, e, r) { return e in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } }, function (t, e) { t.exports = function (t) { if (Array.isArray(t)) return t } }, function (t, e) { t.exports = function (t) { if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t) } }, function (t, e) { t.exports = function () { throw new TypeError("Invalid attempt to destructure non-iterable instance") } }, function (r, t) { function n(t, e) { return r.exports = n = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t }, n(t, e) } r.exports = n }, function (t, e) { t.exports = function (t) { if (Array.isArray(t)) { for (var e = 0, r = new Array(t.length); e < t.length; e++)r[e] = t[e]; return r } } }, function (t, e) { t.exports = function () { throw new TypeError("Invalid attempt to spread non-iterable instance") } }, function (t, e) { t.exports = function (t, e) { var r = [], n = !0, i = !1, o = void 0; try { for (var a, s = t[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !e || r.length !== e); n = !0); } catch (t) { i = !0, o = t } finally { try { n || null == s.return || s.return() } finally { if (i) throw o } } return r } }, function (t, e, r) { var n = r(0); t.exports = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = n(t));); return t } }, function (t) { t.exports = { name: "@spritejs/shapes", version: "1.1.5", description: "", main: "lib/index.js", module: "", directories: { example: "examples", lib: "lib", test: "test" }, scripts: { build: "npm run build:es6 && npm run build:prod && npm run build:nobrowser", "build:prod": "babel src -d lib && webpack --env.production", "build:es6": "babel src -d lib && webpack --env.esnext", "build:nobrowser": "babel src -d lib && webpack --env.nobrowser", standalone: "babel src -d lib && webpack --env.standalone", start: "webpack-dev-server --watch-poll", prepublishOnly: "npm run build && node ./script/qcdn", test: "nyc ava --serial && rimraf ./coverage && mkdir coverage && nyc report --reporter=html > ./coverage/lcov.info", lint: "eslint ./ --fix" }, author: "akira-cn", license: "MIT", devDependencies: { "@babel/cli": "^7.2.0", "@babel/core": "^7.2.0", "@babel/plugin-external-helpers": "^7.2.0", "@babel/plugin-proposal-class-properties": "^7.2.1", "@babel/plugin-proposal-decorators": "^7.2.0", "@babel/plugin-transform-runtime": "^7.2.0", "@babel/preset-env": "^7.2.0", "@babel/register": "^7.0.0", ava: "^1.4.1", "babel-eslint": "^10.0.1", "babel-loader": "^8.0.5", canvas: "^2.0.0-alpha.16", "canvas-5-polyfill": "^0.1.5", colors: "^1.3.1", coveralls: "^3.0.2", "css-loader": "^2.0.0", eslint: "^5.0.1", "eslint-config-sprite": "^1.0.4", "eslint-plugin-html": "^4.0.5", "hamming-distance": "^1.0.0", "html-webpack-plugin": "^3.2.0", imghash: "^0.0.3", nyc: "^12.0.2", pixelmatch: "^4.0.2", rimraf: "^2.6.2", spritejs: "^2.29.2", "style-loader": "^0.23.1", webpack: "^4.35.0", "webpack-bundle-analyzer": "^3.0.3", "webpack-cli": "^3.3.5", "webpack-dev-server": "^3.7.2", "webpack-hot-middleware": "^2.24.3", "webpack-merge": "^4.1.5" }, ava: { files: ["**/test/*.test.js"], require: ["@babel/register"], babel: { testOptions: { babelrc: !0 } } }, nyc: { exclude: ["**/test/**/*.js"] }, dependencies: { "@babel/runtime": "^7.2.0", "sprite-draggable": "0.1.15", "svg-path-to-canvas": "^1.11.3" } } }, function (t, e, r) { "use strict"; r.r(e); var n = r(2), i = r.n(n), o = r(12), c = r.n(o), a = r(3), d = r.n(a), s = r(4), v = r.n(s), l = r(0), x = r.n(l), u = r(6), y = r.n(u), f = r(5), b = r.n(f), h = r(7), p = r.n(h); function m(t) { var e, r = E(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function g(t) { return t.decorators && t.decorators.length } function k(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function w(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function E(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function A(t) { var e = t.BaseSprite, r = t.utils, i = r.attr, o = r.parseColorString, n = function (t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!g(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = E(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { return { element: this.toElementDescriptor(t), finisher: w(t, "finisher"), extras: this.toElementDescriptors(t.extras) } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = w(t, "finisher"); return { elements: this.toElementDescriptors(t.elements), finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (k(o.descriptor) || k(i.descriptor)) { if (g(o) || g(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (g(o)) { if (g(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(m)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) }(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ color: "transparent", fillColor: "transparent", lineWidth: 0, lineCap: "butt", lineJoin: "miter", lineDash: [0, 0], lineDashOffset: 0, enableCache: !1 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i], key: "lineWidth", value: function (t) { this.set("lineWidth", t) } }, { kind: "set", decorators: [i], key: "lineCap", value: function (t) { this.set("lineCap", t) } }, { kind: "set", decorators: [i], key: "lineJoin", value: function (t) { this.set("lineJoin", t) } }, { kind: "set", decorators: [i], key: "lineDash", value: function (t) { this.set("lineDash", t) } }, { kind: "set", decorators: [i], key: "lineDashOffset", value: function (t) { this.set("lineDashOffset", t) } }, { kind: "set", decorators: [i], key: "fillColor", value: function (t) { t = o(t), this.set("fillColor", t) } }, { kind: "set", decorators: [i], key: "strokeColor", value: function (t) { t = o(t), this.set("strokeColor", t) } }] } }, e.Attr), a = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), e }(e); return c()(a, "Attr", n), { Shape: a } } var _ = r(10), O = r.n(_), C = r(9), P = r.n(C), S = r(1), D = r.n(S), M = r(8), j = r.n(M), T = function (t) { return Number(Math.sin(t).toFixed(15)) }; function z(l, a) { l = l.map(function (t) { var e = D()(t, 2); return { x: e[0], y: e[1] } }); var s = ""; return l.forEach(function (t, e) { if (0 === e && 0 === a) s += "M".concat(t.x, " ").concat(t.y); else if (0 === e && 0 !== a) s += "L".concat(t.x, " ").concat(t.y); else { var r = function (t) { var e, r, n, i, o = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : .1, a = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : .1; if (l[t].x !== l[1 + t].x && l[t].y !== l[1 + t].y || (a = o = 0), r = t < 1 ? (e = l[0].x + (l[1].x - l[0].x) * o, l[0].y + (l[1].y - l[0].y) * o) : (e = l[t].x + (l[1 + t].x - l[t - 1].x) * o, l[t].y + (l[1 + t].y - l[t - 1].y) * o), t > l.length - 3) { var s = l.length - 1; n = l[s].x - (l[s].x - l[s - 1].x) * a, i = l[s].y - (l[s].y - l[s - 1].y) * a } else n = l[1 + t].x - (l[2 + t].x - l[t].x) * a, i = l[1 + t].y - (l[2 + t].y - l[t].y) * a; return [{ x: e, y: r }, { x: n, y: i }] }(e - 1), n = D()(r, 2), i = n[0], o = n[1]; s += "C".concat([i.x, i.y, o.x, o.y, t.x, t.y].join(" ")) } }), s } function F(t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : [1, 0], r = Math.atan2(t[1], t[0]) - Math.atan2(e[1], e[0]); return r < 0 && (r += 2 * Math.PI), r } function R(t, e) { if (t.length !== e.length) return !1; for (var r = 0; r < t.length; r++)if (t[r][0] !== e[r][0] || t[r][1] !== e[r][1]) return !1; return !0 } function L(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!N(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = W(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = B(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = B(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (q(o.descriptor) || q(i.descriptor)) { if (N(o) || N(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (N(o)) { if (N(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(I)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function I(t) { var e, r = W(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function N(t) { return t.decorators && t.decorators.length } function q(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function B(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function W(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function G(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.flow, a = r.parseColorString, f = r.findColor, s = e(A, null, !1).Shape, l = L(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ radiusX: 10, radiusY: 20, startAngle: 0, endAngle: 0, lineWidth: 1, anticlockwise: !1 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "radiusX", value: function (t) { this.set("radiusX", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "radiusY", value: function (t) { this.set("radiusY", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "startAngle", value: function (t) { this.set("startAngle", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "endAngle", value: function (t) { this.set("endAngle", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "lineWidth", value: function (t) { this.set("lineWidth", t) } }, { kind: "set", decorators: [i], key: "fillColor", value: function (t) { t = a(t), this.set("fillColor", t) } }, { kind: "set", decorators: [i], key: "anticlockwise", value: function (t) { this.set("anticlockwise", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "center", value: function (t) { this.set("center", t) } }] } }, s.Attr), c = L(null, function (a, t) { var E = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: E, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return l } }, { kind: "get", key: "radiuses", value: function () { return [this.attr("radiusX"), this.attr("radiusY")] } }, { kind: "get", key: "startAngle", value: function () { return this.attr("startAngle") } }, { kind: "get", key: "endAngle", value: function () { return this.attr("endAngle") } }, { kind: "get", key: "center", value: function () { return this.attr("lineWidth"), this.radiuses.map(function (t) { return t }) } }, { kind: "get", key: "lineBoundings", value: function () { return [0, 0, 2 * this.radiuses[0], 2 * this.radiuses[1]] } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { var t = this.lineBoundings, e = (this.attr("lineWidth"), P()(this.attrSize)); return e[0], e[1], [t[2] - Math.min(0, t[0]), t[3] - Math.min(0, t[1])].map(Math.ceil) } }, { kind: "method", key: "pointCollision", value: function (t) { if (j()(x()(E.prototype), "pointCollision", this).call(this, t)) { var e = t.offsetX, r = t.offsetY, n = this.attr("anchor"), i = D()(n, 2), o = i[0], a = i[1], s = D()(this.contentSize, 2); e += s[0] * o, r += s[1] * a; var l = D()(this.center, 2), c = l[0], u = l[1], f = D()(this.radiuses, 2), h = f[0], d = f[1], p = e - c, v = r - u; if (Math.pow(p, 2) / Math.pow(h, 2) + Math.pow(v, 2) / Math.pow(d, 2) <= 1) { var m = 2 * Math.PI, y = this.startAngle, g = this.endAngle; if (m <= g - y) y = 0, g = m; else if (0 <= y && 0 <= g) { var b = g - y; g = (y %= m) + b } else { var k = function (t) { var e = 2 * Math.PI; return (t + (t < 0 ? -Math.floor(t / e) : Math.ceil(t / e)) * e) % e }; g = k(g) + (y <= 0 && g <= y ? m : 0 < g ? m : 0), y = k(y) } var w = F([p, v]); return m < g && 0 <= w && w <= g - m && (w += m), y <= w && w <= g } } } }, { kind: "method", key: "render", value: function (t, e) { j()(x()(E.prototype), "render", this).call(this, t, e); var r = D()(this.center, 2), n = r[0], i = r[1], o = D()(this.radiuses, 2), a = o[0], s = o[1], l = this.startAngle, c = this.endAngle, u = this.attr("lineWidth"); if (e.miterLimit = 3, e.miterLimit = 3, e.lineCap = this.attr("lineCap"), e.lineJoin = this.attr("lineJoin"), e.lineWidth = u, e.strokeStyle = f(e, this, "strokeColor"), e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), e.strokeStyle = f(e, this, "strokeColor"), e.fillStyle = f(e, this, "fillColor"), e.beginPath(), this.endAngle - this.startAngle < 2 * Math.PI && e.moveTo(n, i), e.ellipse) e.ellipse(n, i, Math.max(0, a - u / 2), Math.max(0, s - u / 2), 0, l, c, this.attr("anticlockwise")), e.closePath(); else { if (a !== s) throw new Error("Your browser does'n support canvas ellipse"); e.arc(n, i, Math.max(0, a - u / 2), l, c, this.attr("anticlockwise")), e.closePath() } return e.fill(), e.stroke(), e } }] } }, s); return n("ellipsesector", c, !1), { EllipseSector: c } } function $(t) { var e = t.use, r = (t.utils, t.registerNodeType), n = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), O()(e, [{ key: "radiuses", get: function () { return [this.attr("radius"), this.attr("radius")] } }]), e }(e(G, null, !1).EllipseSector); return n.defineAttributes({ radius: function (t, e) { t.clearFlow(), t.set("radius", e) } }), r("sector", n, !1), { Sector: n } } function U(t) { var e, r = Y(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function J(t) { return t.decorators && t.decorators.length } function V(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function H(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function Y(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function X(t) { var e = t.use, r = t.utils, n = t.registerNodeType, h = r.findColor, i = r.flow, o = e(A, null, !1).Shape, s = function (t) { function e(t) { return d()(this, e), v()(this, x()(e).call(this, t)) } return b()(e, t), e }(e($, null, !1).Sector.Attr), a = function (t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!J(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = Y(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { return { element: this.toElementDescriptor(t), finisher: H(t, "finisher"), extras: this.toElementDescriptors(t.extras) } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = H(t, "finisher"); return { elements: this.toElementDescriptors(t.elements), finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (V(o.descriptor) || V(i.descriptor)) { if (J(o) || J(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (J(o)) { if (J(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(U)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) }(null, function (a, t) { var g = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: g, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return s } }, { kind: "get", key: "isVirtual", value: function () { return !1 } }, { kind: "get", decorators: [i], key: "lineBoundings", value: function () { var t = D()(this.radiuses, 2); return [0, 0, 2 * t[0], 2 * t[1]] } }, { kind: "get", decorators: [i], key: "contentSize", value: function () { var t = this.lineBoundings, e = P()(this.attrSize); return e[0], e[1], [t[2] - Math.min(0, t[0]), t[3] - Math.min(0, t[1])].map(Math.ceil) } }, { kind: "get", key: "radiuses", value: function () { return [this.attr("radiusX"), this.attr("radiusY")] } }, { kind: "get", key: "center", value: function () { var t = D()(this.radiuses, 2); return [t[0], t[1]] } }, { kind: "method", key: "pointCollision", value: function (t) { if (j()(x()(g.prototype), "pointCollision", this).call(this, t)) { var e = t.offsetX, r = t.offsetY, n = this.attr("anchor"), i = D()(n, 2), o = i[0], a = i[1], s = D()(this.contentSize, 2); e += s[0] * o, r += s[1] * a; var l = this.attr("lineWidth"), c = this.radiuses[0] - l / 2, u = this.radiuses[1] - l / 2, f = D()(this.center, 2), h = e - f[0], d = r - f[1]; if (Math.abs(Math.pow(h, 2) / Math.pow(c, 2) + Math.pow(d, 2) / Math.pow(u, 2) - 1) <= 2 * l / (c + u)) { var p = 2 * Math.PI, v = this.attr("startAngle") % (2 * p), m = this.attr("endAngle") % (2 * p); v < 0 && (v += p), m < 0 && (m += p); var y = F([h, d]); if (v <= y && y <= m) return !0 } } } }, { kind: "method", key: "render", value: function (t, e) { j()(x()(g.prototype), "render", this).call(this, t, e); var r = D()(this.radiuses, 2), n = r[0], i = r[1], o = D()(this.center, 2), a = o[0], s = o[1], l = this.attr("startAngle"), c = this.attr("endAngle"), u = this.attr("anticlockwise"), f = this.attr("lineWidth"); if (e.lineCap = this.attr("lineCap"), e.lineJoin = this.attr("lineJoin"), e.lineWidth = f, e.strokeStyle = h(e, this, "color"), e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), e.strokeStyle = h(e, this, "strokeColor"), e.fillStyle = h(e, this, "fillColor"), e.beginPath(), e.ellipse) e.ellipse(a, s, Math.max(0, n - f / 2), Math.max(0, i - f / 2), 0, l, c, u); else { if (n !== i) throw new Error("Your browser does'n support canvas ellipse"); e.arc(a, s, Math.max(0, n - f / 2), l, c, u) } return e.fill(), e.stroke(), e } }] } }, o); return n("ellipsearc", a, !1), { EllipseArc: a } } function Z(t) { var e, r = et(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function Q(t) { return t.decorators && t.decorators.length } function K(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function tt(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function et(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function rt(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = e(X, null, !1).EllipseArc, a = function (t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!Q(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = et(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { return { element: this.toElementDescriptor(t), finisher: tt(t, "finisher"), extras: this.toElementDescriptors(t.extras) } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = tt(t, "finisher"); return { elements: this.toElementDescriptors(t.elements), finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (K(o.descriptor) || K(i.descriptor)) { if (Q(o) || Q(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (Q(o)) { if (Q(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(Z)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) }(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ radius: 10 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "radius", value: function (t) { this.set("radius", t) } }] } }, o.Attr), s = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), O()(e, [{ key: "radiuses", get: function () { var t = this.attr("radius"); return [t, t] } }]), e }(o); return c()(s, "Attr", a), n("arc", s, !1), { Arc: s } } var nt = r(11), it = r.n(nt); function ot(t) { var e, r = ct(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function at(t) { return t.decorators && t.decorators.length } function st(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function lt(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function ct(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function ut(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.findColor, a = e(A, null, !1).Shape, s = function (t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!at(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = ct(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { return { element: this.toElementDescriptor(t), finisher: lt(t, "finisher"), extras: this.toElementDescriptors(t.extras) } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = lt(t, "finisher"); return { elements: this.toElementDescriptors(t.elements), finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (st(o.descriptor) || st(i.descriptor)) { if (at(o) || at(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (at(o)) { if (at(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(ot)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) }(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ points: null, close: !1, smooth: !1, tolerance: 6 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i], key: "tolerance", value: function (t) { this.set("tolerance", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "points", value: function (t) { this.set("points", t), this.subject.path = null } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "smooth", value: function (t) { this.set("smooth", t), this.subject.path = null } }, { kind: "set", decorators: [i], key: "close", value: function (t) { this.set("close", t), this.subject.path = null } }] } }, a.Attr), l = function (t) { function c() { return d()(this, c), v()(this, x()(c).apply(this, arguments)) } return b()(c, t), O()(c, [{ key: "pointCollision", value: function (t) { j()(x()(c.prototype), "pointCollision", this).call(this, t); var e = t.offsetX, r = t.offsetY, n = (this.context.lineWidth, this.attr("tolerance")), i = !1, o = this.path; if (o) { var a = this.attr("lineWidth") + n, s = this.attr("lineCap"), l = this.attr("lineJoin"); this.attr("close") && (i = o.isPointInPath(e, r)), i |= o.isPointInStroke(e, r, { lineWidth: a, lineCap: s, lineJoin: l }) } return i } }, { key: "render", value: function (t, e) { if (j()(x()(c.prototype), "render", this).call(this, t, e), this.points) { var r = this.attr("lineWidth"); if (e.fillStyle = this.attr("fillColor"), e.strokeStyle = o(e, this, "strokeColor"), e.lineJoin = this.attr("lineJoin"), e.lineCap = this.attr("lineCap"), e.lineWidth = r, e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), !this.path || !R(this.path.points, this.points)) { var n = this.attr("smooth"), i = ""; n ? i += z(this.points, 0) : this.points.forEach(function (t, e) { i += 0 === e ? "M".concat(t.join(" ")) : "L".concat(t.join(" ")) }), this.attr("close") && (i += "Z"), this.path = new it.a(i), this.path.points = P()(this.points) } this.path && (this.path.beginPath().to(e), e.fill(), e.stroke()) } return e } }, { key: "points", get: function () { return this.attr("points") } }, { key: "isVirtual", get: function () { return !0 } }]), c }(a); return c()(l, "Attr", s), n("polyline", l, !1), { Polyline: l } } function ft(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!dt(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = mt(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = vt(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = vt(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (pt(o.descriptor) || pt(i.descriptor)) { if (dt(o) || dt(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (dt(o)) { if (dt(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(ht)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function ht(t) { var e, r = mt(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function dt(t) { return t.decorators && t.decorators.length } function pt(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function vt(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function mt(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function yt(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.findColor, s = r.flow, a = e(A, null, !1).Shape, l = ft(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ points: [], startPoint: null }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "points", value: function (t) { this.set("points", t), this.subject.path = null } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "startPoint", value: function (t) { this.set("startPoint", t), this.subject.path = null } }] } }, a.Attr), c = ft(null, function (a, t) { var h = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: h, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return l } }, { kind: "get", key: "points", value: function () { return this.attr("points") } }, { kind: "get", key: "lineBoundings", value: function () { var t = this.attr("startPoint"), e = t && 2 === t.length ? P()(t) : []; this.points.forEach(function (t) { return e.push.apply(e, t) }); var r = 0, n = 0, i = 0, o = 0; return e.forEach(function (t, e) { e % 2 == 0 ? t < r ? r = t : n < t && (n = t) : t < i ? i = t : o < t && (o = t) }), [r, i, n, o] } }, { kind: "get", decorators: [s], key: "contentSize", value: function () { var t = this.lineBoundings, e = this.attr("lineWidth"), r = D()(this.attrSize, 2), n = r[0], i = r[1]; return "" === n && (n = t[2] - Math.min(0, t[0]) + 2 * e), "" === i && (i = t[3] - Math.min(0, t[1]) + 2 * e), [n, i].map(Math.ceil) } }, { kind: "get", decorators: [s], key: "originalRect", value: function () { var t = this.lineBoundings, e = j()(x()(h.prototype), "originalRect", this), r = D()(e, 4), n = r[0], i = r[1], o = r[2], a = r[3]; return [n - t[0], i - t[1], o, a] } }, { kind: "get", key: "isVirtual", value: function () { return !1 } }, { kind: "method", key: "updatePath", value: function () { var t = this.attr("startPoint"), e = this.points, l = ""; t && 2 === t.length && (l += "M".concat(t.join(" "))), e.forEach(function (t) { var e = D()(t, 6), r = e[0], n = e[1], i = e[2], o = e[3], a = e[4], s = e[5]; l += "C".concat([r, n, i, o, a, s].join(" ")) }); var r = new it.a(l); this.path = r, this.path.points = P()(e) } }, { kind: "method", key: "pointCollision", value: function (t) { if (j()(x()(h.prototype), "pointCollision", this).call(this, t)) { var e = t.offsetX, r = t.offsetY, n = this.attr("anchor"), i = D()(n, 2), o = i[0], a = i[1], s = D()(this.contentSize, 2); e += s[0] * o, r += s[1] * a; var l = this.path; if (l) { var c = this.attr("lineWidth"), u = this.attr("lineCap"), f = this.attr("lineJoin"); return l.isPointInPath(e, r) || l.isPointInStroke(e, r, { lineWidth: c, lineCap: u, lineJoin: f }) } return !1 } } }, { kind: "method", key: "render", value: function (t, e) { j()(x()(h.prototype), "render", this).call(this, t, e); var r = this.points, n = (this.attr("startPoint"), this.attr("lineWidth")); return e.lineCap = this.attr("lineCap"), e.lineJoin = this.attr("lineJoin"), e.lineWidth = n, e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), e.fillStyle = this.attr("fillColor"), e.strokeStyle = o(e, this, "strokeColor"), this.path && R(this.path.points, r) || this.updatePath(), this.path && (this.path.beginPath().to(e), e.fill(), e.stroke()), e } }] } }, a); return n("polycurve", c, !1), { Polycurve: c } } function gt(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!kt(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = xt(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = Et(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = Et(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (wt(o.descriptor) || wt(i.descriptor)) { if (kt(o) || kt(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (kt(o)) { if (kt(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(bt)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function bt(t) { var e, r = xt(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function kt(t) { return t.decorators && t.decorators.length } function wt(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function Et(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function xt(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function At(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = (r.findColor, r.flow), a = e(A, null, !1).Shape, s = gt(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ radius: 50, offset: 10, amplitude: 0, percent: 0, wavesColor: "#000", shape: "", shapeScale: 1, shapeColor: "#000", shapeFillColor: "transparent", showOutline: !0, outlineColor: "#000", speed: 0 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "radius", value: function (t) { this.set("radius", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "offset", value: function (t) { this.set("offset", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "amplitude", value: function (t) { this.set("amplitude", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "speed", value: function (t) { this.set("speed", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "percent", value: function (t) { this.set("percent", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "wavesColor", value: function (t) { this.set("wavesColor", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "shape", value: function (t) { this.set("shape", t) } }] } }, a.Attr), l = gt(null, function (a, t) { var E = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: E, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return s } }, { kind: "get", key: "isVirtual", value: function () { return !1 } }, { kind: "get", decorators: [o], key: "lineBoundings", value: function () { var e = this.attr("lineWidth"); if (this.attr("shape")) { var t = new it.a(this.attr("shape")); return t.scale(this.attr("shapeScale")).lineWidth(e).trim(), [-e, -e].concat(P()(t.size.map(function (t) { return t + e }))) } var r = e + this.attr("radius") + this.attr("offset"); return [e, e, 2 * r, 2 * r] } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { var t = this.lineBoundings, e = D()(this.attrSize, 2), r = e[0], n = e[1]; return "" == r && (r = t[2] - Math.min(0, t[0])), "" == n && (n = t[3] - Math.min(0, t[1])), [r, n].map(Math.ceil) } }, { kind: "get", decorators: [o], key: "originalRect", value: function () { var t = this.lineBoundings, e = j()(x()(E.prototype), "originalRect", this), r = D()(e, 4), n = r[0], i = r[1], o = r[2], a = r[3]; return [n - t[0] / 2, i - t[1] / 2, o, a] } }, { kind: "method", key: "render", value: function (t, f) { var h = this; j()(x()(E.prototype), "render", this).call(this, t, f); var d, p, v, m, e, r = this.attr("lineWidth"), y = this.attr("radius"), n = this.attr("offset"), i = this.attr("shape"), o = this.attr("showOutline"), g = this.attr("amplitude") || y / 10; if (f.save(), i) { e = new it.a(i); var a = D()(e.center, 2); d = a[0], p = a[1]; var s = e.size.map(function (t) { return (t + r) / 2 }), l = D()(s, 2); v = l[0], m = l[1] } else p = d = r + y + n, v = m = y; if (o && !e && (f.beginPath(), f.strokeStyle = this.attr("outlineColor"), f.lineWidth = r, f.arc(d, p, Math.min(v, m) + n, 0, 2 * Math.PI, !1), f.stroke()), e) { f.translate(r, r), e.save().beginPath().strokeStyle(this.attr("shapeColor")).fillStyle(this.attr("shapeFillColor")).scale(this.attr("shapeScale")).lineWidth(r).trim().to(f).fill().stroke(); var c = D()(e.center, 2); d = c[0], p = c[1]; var u = e.size.map(function (t) { return (t + 2 * r) / 2 }), b = D()(u, 2); v = b[0], m = b[1] } else f.beginPath(), f.arc(d, p + 0, Math.min(v, m), 0, 2 * Math.PI, !1); f.clip(); var k = this.attr("wavesColor"), w = this.attr("percent"); Array.isArray(w) || (w = [w]), Array.isArray(k) || (k = [k]), w.map(function (t, e) { t = 1 < t ? 1 : t; var r = 0; if (h.attr("shape")) r = -(t - .5) * m * 2; else { var n = 0; n = t <= .5 ? .25 - t / 2 : t < 1 ? 0 - (t - .5) / 2 : 0, n *= 2 * Math.PI; var i = 1 <= t ? -1 : T(n / 2); r = function (t) { return Math.round(t) }(y * i) } var o = (y / 20 * T(t * Math.PI) + 10 * e + g) / 2, a = 2 * Math.PI / 200, s = p + r + 5 * e, l = h.attr("speed"); f.beginPath(), f.moveTo(d - v, p); for (var c = d - v; c <= d + v; c++) { var u = o * (e % 2 ? Math.sin : Math.cos)(a * c + l) + s; f.lineTo(c, u) } f.lineTo(d + v, p + m), f.lineTo(d - v, p + m), f.lineTo(d - v, p), f.fillStyle = k[e] || k[0], f.fill(), f.closePath() }), f.restore() } }] } }, a); return n("wave", l, !1), { Wave: l } } function _t(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!Ct(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = Dt(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = St(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = St(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (Pt(o.descriptor) || Pt(i.descriptor)) { if (Ct(o) || Ct(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (Ct(o)) { if (Ct(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(Ot)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function Ot(t) { var e, r = Dt(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function Ct(t) { return t.decorators && t.decorators.length } function Pt(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function St(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function Dt(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function Mt(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.flow, c = r.findColor, a = e(A, null, !1).Shape, s = _t(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ innerRaius: 10, outerRadius: 20, startAngle: 0, endAngle: 2 * Math.PI, lineWidth: 1, maxRadius: 0 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "innerRadius", value: function (t) { this.set("innerRadius", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "outerRadius", value: function (t) { this.set("outerRadius", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "maxRadius", value: function (t) { this.set("maxRadius", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "startAngle", value: function (t) { this.set("startAngle", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "endAngle", value: function (t) { this.set("endAngle", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "center", value: function (t) { this.set("center", t) } }] } }, a.Attr), l = _t(null, function (a, t) { var m = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: m, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return s } }, { kind: "get", key: "lineBoundings", value: function () { var t = this.attr("maxRadius"); return t <= 0 && (t = Math.max(this.attr("innerRadius"), this.attr("outerRadius"))), [0, 0, 2 * t, 2 * t] } }, { kind: "get", key: "startAngle", value: function () { return this.attr("startAngle") } }, { kind: "get", key: "endAngle", value: function () { return this.attr("endAngle") } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { var t = this.lineBoundings, e = (this.attr("lineWidth"), D()(this.attrSize, 2)); return e[0], e[1], [t[2] - Math.min(0, t[0]), t[3] - Math.min(0, t[1])].map(Math.ceil) } }, { kind: "get", decorators: [o], key: "originalRect", value: function () { var t = this.lineBoundings, e = (this.attr("lineWidth"), j()(x()(m.prototype), "originalRect", this)), r = D()(e, 4), n = r[0], i = r[1], o = r[2], a = r[3]; return [n - t[0] / 2, i - t[1] / 2, o, a] } }, { kind: "method", key: "pointCollision", value: function (t) { if (j()(x()(m.prototype), "pointCollision", this).call(this, t)) { var e = t.offsetX, r = t.offsetY, n = this.attr("anchor"), i = D()(n, 2), o = i[0], a = i[1], s = D()(this.contentSize, 2); e += s[0] * o, r += s[1] * a; var l = this.attr("maxRadius"), c = this.attr("outerRadius"); l <= 0 && (l = c), c = l - c; var u = this.attr("innerRadius"), f = 2 * Math.PI, h = this.attr("startAngle"); f < h ? h %= f : h = (h + Math.ceil(Math.abs(h) / f) * f) % f; var d = this.attr("endAngle") - this.attr("startAngle") + h, p = Math.sqrt(Math.pow(e - l, 2) + Math.pow(r - l, 2)), v = Math.atan2(r - l, e - l); return (v < 0 || f < d) && (v += f), u <= p && p <= l - c && h <= v && v <= d } } }, { kind: "method", key: "render", value: function (t, e) { j()(x()(m.prototype), "render", this).call(this, t, e); var r = Math.min(this.attr("innerRadius"), this.attr("outerRadius")), n = Math.max(this.attr("innerRadius"), this.attr("outerRadius")), i = this.attr("lineWidth"), o = this.startAngle, a = this.endAngle; e.miterLimit = 0, e.lineWidth = i, e.lineCap = this.attr("lineCap"), e.lineJoin = this.attr("lineJoin"), e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), e.strokeStyle = c(e, this, "strokeColor"), e.fillStyle = c(e, this, "fillColor"); var s = this.attr("maxRadius"); s <= 0 && (s = n); var l = this.lineBoundings; return e.translate(l[2] / 2 - 0, l[3] / 2 - 0), e.beginPath(), e.arc(0, 0, Math.max(0, n - i / 2), o, a, !1), a - o == 2 * Math.PI && e.moveTo(n + r, n), e.arc(0, 0, Math.max(0, r - i / 2), a, o, !0), e.closePath(), e.fill(), 0 < i && e.stroke(), e } }] } }, a); return n("ring", l), { Ring: l } } function jt(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!zt(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = Lt(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = Rt(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = Rt(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (Ft(o.descriptor) || Ft(i.descriptor)) { if (zt(o) || zt(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (zt(o)) { if (zt(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(Tt)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function Tt(t) { var e, r = Lt(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function zt(t) { return t.decorators && t.decorators.length } function Ft(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function Rt(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function Lt(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function It(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.flow, a = r.parseColorString, u = r.findColor, s = e(A, null, !1).Shape, l = jt(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ points: [], smooth: null }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "smooth", value: function (t) { this.set("smooth", t), this.subject.path = null } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "points", value: function (t) { this.set("points", t), this.subject.path = null } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "lineWidth", value: function (t) { this.set("lineWidth", t), this.subject.path = null } }, { kind: "set", decorators: [i], key: "fillColor", value: function (t) { t = a(t), this.set("fillColor", t) } }] } }, s.Attr), c = jt(null, function (a, t) { var p = function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t); return { F: p, d: [{ kind: "field", static: !0, key: "Attr", value: function () { return l } }, { kind: "get", key: "lineBoundings", value: function () { var i = [0, 0, 0, 0]; return this.attr("points").forEach(function (t) { var e = D()(t, 2), r = e[0], n = e[1]; i[0] = Math.min(r, i[0]), i[1] = Math.min(n, i[1]), i[2] = Math.max(r, i[2]), i[3] = Math.max(n, i[3]) }), i } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { var t = this.attr("lineWidth"), e = this.lineBoundings, r = D()(this.attrSize, 2); return r[0], r[1], [e[2] - e[0] + t, e[3] - e[1] + t].map(Math.ceil) } }, { kind: "get", key: "translate", value: function () { var t = this.attr("lineWidth"); return [t / 2, t / 2] } }, { kind: "get", key: "points", value: function () { return this.attr("points") } }, { kind: "method", key: "pointCollision", value: function (t) { if (j()(x()(p.prototype), "pointCollision", this).call(this, t)) { var e = t.offsetX, r = void 0 === e ? 0 : e, n = t.offsetY, i = void 0 === n ? 0 : n, o = this.attr("anchor"), a = D()(o, 2), s = a[0], l = a[1], c = D()(this.contentSize, 2); r += c[0] * s, i += c[1] * l; var u = this.path; if (u) { var f = this.attr("lineWidth"), h = this.attr("lineCap"), d = this.attr("lineJoin"); return u.isPointInPath(r, i) || u.isPointInStroke(r, i, { lineWidth: f, lineCap: h, lineJoin: d }) } } } }, { kind: "method", key: "render", value: function (t, e) { if (j()(x()(p.prototype), "render", this).call(this, t, e), this.points.length) { var r = this.translate; if (e.translate(r[0], r[1]), e.strokeStyle = u(e, this, "strokeColor"), e.fillStyle = u(e, this, "fillColor"), e.miterLimit = 3, e.lineCap = this.attr("lineCap"), e.lineJoin = this.attr("lineJoin"), e.lineWidth = this.attr("lineWidth"), e.setLineDash(this.attr("lineDash")), e.lineDashOffset = this.attr("lineDashOffset"), !this.path || !R(this.path.points, this.points)) { var n = this.attr("smooth"), a = this.points.slice(0, this.points.length); n && !n.length && (n = [0, a.length - 1]); var s = ""; if (n) { "[object Array]" !== Object.prototype.toString.call(n[0]) && (n = [n]); var i = a[0], o = a[a.length - 1]; i[0] === o[0] && i[1] === o[1] || a.push(a[0]); var l = 0; n.forEach(function (t, e) { for (var r = t[0], n = t[1], i = l; i < r; i++)s += 0 === i ? "M".concat(a[0].join(" ")) : "L".concat(a[i].join(" ")); var o = a.slice(r, n + 1); s += z(o, r), l = n }); for (var c = l; c < a.length - 1; c++)s += "L".concat(a[c].join(" ")) } else a.forEach(function (t, e) { s += 0 === e ? "M".concat(t.join(" ")) : "L".concat(t.join(" ")) }); s += "Z", this.path = new it.a(s), this.path.points = P()(this.points) } this.path && (this.path.beginPath().to(e), e.fill(), e.stroke()) } return e } }] } }, s); return n("polygon", c, !1), { Polygon: c } } function Nt(t) { var e = t.use, r = (t.utils, t.registerNodeType), n = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), O()(e, [{ key: "contentSize", get: function () { var t = this.attr("sides"), e = D()(t, 2); return [e[0], e[1]] } }, { key: "points", get: function () { var t = this.attr("sides"), e = D()(t, 2), r = e[0], n = e[1], i = this.attr("lineWidth"); r -= 2 * i, n -= 2 * i; var o = Math.PI / 180 * this.attr("angle"); return [[0, 0], [r, 0], [n * Math.cos(o), n * Math.sin(o)]] } }]), e }(e(It, null, !1).Polygon); return r("triangle", n, !1), { Triangle: n } } function qt(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!Wt(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = Ut(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = $t(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = $t(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (Gt(o.descriptor) || Gt(i.descriptor)) { if (Wt(o) || Wt(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (Wt(o)) { if (Wt(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(Bt)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function Bt(t) { var e, r = Ut(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function Wt(t) { return t.decorators && t.decorators.length } function Gt(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function $t(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function Ut(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function Jt(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.flow, a = e(It, null, !1).Polygon, s = qt(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ angle: 90, sides: null, size: null }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "angle", value: function (t) { this.set("angle", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "sides", value: function (t) { this.set("sides", t) } }] } }, a.Attr), l = qt(null, function (a, t) { return { F: function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t), d: [{ kind: "field", static: !0, key: "Attr", value: function () { return s } }, { kind: "get", key: "lineBoundings", value: function () { var i = this.attr("lineWidth"), o = [0, 0, 0, 0]; return this.points.forEach(function (t) { var e = D()(t, 2), r = e[0], n = e[1]; r += i, n += i, o[0] = Math.min(r, o[0]), o[1] = Math.min(n, o[1]), o[2] = Math.max(r, o[2]), o[3] = Math.max(n, o[3]) }), o } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { this.attr("lineWidth"); var t = this.lineBoundings, e = D()(this.attrSize, 2); return e[0], e[1], [t[2] - t[0], t[3] - t[1]].map(Math.ceil) } }, { kind: "get", key: "points", value: function () { var t = this.attr("lineWidth"), e = this.attr("sides") || this.attr("size"), r = D()(e, 2), n = r[0], i = r[1]; n -= 1 * t, i -= 1 * t; var o = 0, a = 1; if (90 === this.attr("angle")); else { var s = Math.PI * this.attr("angle") / 180; o = Math.cos(s), a = Math.sin(s) } return [[0, 0], [n, 0], [n + i * o, i * a], [i * o, i * a]] } }] } }, a); return n("rect", l, !1), { Rect: l } } function Vt(t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!Yt(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = Qt(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { var e = this.toElementDescriptor(t), r = Zt(t, "finisher"), n = this.toElementDescriptors(t.extras); return { element: e, finisher: r, extras: n } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = Zt(t, "finisher"), n = this.toElementDescriptors(t.elements); return { elements: n, finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (Xt(o.descriptor) || Xt(i.descriptor)) { if (Yt(o) || Yt(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (Yt(o)) { if (Yt(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(Ht)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) } function Ht(t) { var e, r = Qt(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function Yt(t) { return t.decorators && t.decorators.length } function Xt(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function Zt(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function Qt(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function Kt(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = r.flow, a = e(It, null, !1).Polygon, s = Vt(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ angles: 5 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "angles", value: function (t) { this.set("angles", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "radius", value: function (t) { this.set("radius", t) } }, { kind: "set", decorators: [i({ reflow: !0 })], key: "innerRadius", value: function (t) { this.set("innerRadius", t) } }] } }, a.Attr), l = Vt(null, function (a, t) { return { F: function (t) { function o() { var t, e; d()(this, o); for (var r = arguments.length, n = new Array(r), i = 0; i < r; i++)n[i] = arguments[i]; return e = v()(this, (t = x()(o)).call.apply(t, [this].concat(n))), a(y()(e)), e } return b()(o, t), o }(t), d: [{ kind: "field", static: !0, key: "Attr", value: function () { return s } }, { kind: "get", key: "lineBoundings", value: function () { var t = this.attr("radius"); return [0, 0, 2 * t, 2 * t] } }, { kind: "get", decorators: [o], key: "contentSize", value: function () { this.attr("lineWidth"); var t = this.lineBoundings, e = D()(this.attrSize, 2); return e[0], e[1], [t[2] - t[0], t[3] - t[1]].map(Math.ceil) } }, { kind: "get", key: "translate", value: function () { return [0, 0] } }, { kind: "get", key: "points", value: function () { var t = this.attr("radius"), e = this.attr("lineWidth"); return function (t, e, r, n) { for (var i = t, o = Math.PI / 2, a = Math.PI / r, s = [], l = 1; l <= 2 * r; l++) { var c = l % 2 ? t - n : e, u = a * l + o, f = i + c * Math.cos(u), h = i + c * Math.sin(u); s.push([f, h]) } return s }(t, this.attr("innerRadius") || .5 * t, this.attr("angles"), e) } }] } }, a); return n("star", l, !1), { Star: l } } function te(t) { var e = t.use, r = (t.utils, t.registerNodeType), n = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), O()(e, [{ key: "startAngle", get: function () { return 0 } }, { key: "endAngle", get: function () { return 2 * Math.PI } }]), e }(e(G, null, !1).EllipseSector); return r("ellipse", n, !1), { Ellipse: n } } function ee(t) { var e, r = oe(t.key); "method" === t.kind ? e = { value: t.value, writable: !0, configurable: !0, enumerable: !1 } : "get" === t.kind ? e = { get: t.value, configurable: !0, enumerable: !1 } : "set" === t.kind ? e = { set: t.value, configurable: !0, enumerable: !1 } : "field" === t.kind && (e = { configurable: !0, writable: !0, enumerable: !0 }); var n = { kind: "field" === t.kind ? "field" : "method", key: r, placement: t.static ? "static" : "field" === t.kind ? "own" : "prototype", descriptor: e }; return t.decorators && (n.decorators = t.decorators), "field" === t.kind && (n.initializer = t.value), n } function re(t) { return t.decorators && t.decorators.length } function ne(t) { return void 0 !== t && !(void 0 === t.value && void 0 === t.writable) } function ie(t, e) { var r = t[e]; if (void 0 !== r && "function" != typeof r) throw new TypeError("Expected '" + e + "' to be a function"); return r } function oe(t) { var e = function (t) { if ("object" !== i()(t) || null === t) return t; var e = t[Symbol.toPrimitive]; if (void 0 === e) return String(t); var r = e.call(t, "string"); if ("object" !== i()(r)) return r; throw new TypeError("@@toPrimitive must return a primitive value.") }(t); return "symbol" === i()(e) ? e : String(e) } function ae(t) { var e = t.use, r = t.utils, n = t.registerNodeType, i = r.attr, o = e(te, null, !1).Ellipse, a = function (t, e, r, n) { var i = function () { var t = { elementsDefinitionOrder: [["method"], ["field"]], initializeInstanceElements: function (r, t) { ["method", "field"].forEach(function (e) { t.forEach(function (t) { t.kind === e && "own" === t.placement && this.defineClassElement(r, t) }, this) }, this) }, initializeClassElements: function (i, t) { var o = i.prototype;["method", "field"].forEach(function (n) { t.forEach(function (t) { var e = t.placement; if (t.kind === n && ("static" === e || "prototype" === e)) { var r = "static" === e ? i : o; this.defineClassElement(r, t) } }, this) }, this) }, defineClassElement: function (t, e) { var r = e.descriptor; if ("field" === e.kind) { var n = e.initializer; r = { enumerable: r.enumerable, writable: r.writable, configurable: r.configurable, value: void 0 === n ? void 0 : n.call(t) } } Object.defineProperty(t, e.key, r) }, decorateClass: function (t, e) { var r = [], n = [], i = { static: [], prototype: [], own: [] }; if (t.forEach(function (t) { this.addElementPlacement(t, i) }, this), t.forEach(function (t) { if (!re(t)) return r.push(t); var e = this.decorateElement(t, i); r.push(e.element), r.push.apply(r, e.extras), n.push.apply(n, e.finishers) }, this), !e) return { elements: r, finishers: n }; var o = this.decorateConstructor(r, e); return n.push.apply(n, o.finishers), o.finishers = n, o }, addElementPlacement: function (t, e, r) { var n = e[t.placement]; if (!r && -1 !== n.indexOf(t.key)) throw new TypeError("Duplicated element (" + t.key + ")"); n.push(t.key) }, decorateElement: function (t, e) { for (var r = [], n = [], i = t.decorators, o = i.length - 1; 0 <= o; o--) { var a = e[t.placement]; a.splice(a.indexOf(t.key), 1); var s = this.fromElementDescriptor(t), l = this.toElementFinisherExtras((0, i[o])(s) || s); t = l.element, this.addElementPlacement(t, e), l.finisher && n.push(l.finisher); var c = l.extras; if (c) { for (var u = 0; u < c.length; u++)this.addElementPlacement(c[u], e); r.push.apply(r, c) } } return { element: t, finishers: n, extras: r } }, decorateConstructor: function (t, e) { for (var r = [], n = e.length - 1; 0 <= n; n--) { var i = this.fromClassDescriptor(t), o = this.toClassDescriptor((0, e[n])(i) || i); if (void 0 !== o.finisher && r.push(o.finisher), void 0 !== o.elements) { t = o.elements; for (var a = 0; a < t.length - 1; a++)for (var s = a + 1; s < t.length; s++)if (t[a].key === t[s].key && t[a].placement === t[s].placement) throw new TypeError("Duplicated element (" + t[a].key + ")") } } return { elements: t, finishers: r } }, fromElementDescriptor: function (t) { var e = { kind: t.kind, key: t.key, placement: t.placement, descriptor: t.descriptor }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), "field" === t.kind && (e.initializer = t.initializer), e }, toElementDescriptors: function (t) { if (void 0 !== t) return p()(t).map(function (t) { var e = this.toElementDescriptor(t); return this.disallowProperty(t, "finisher", "An element descriptor"), this.disallowProperty(t, "extras", "An element descriptor"), e }, this) }, toElementDescriptor: function (t) { var e = String(t.kind); if ("method" !== e && "field" !== e) throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "' + e + '"'); var r = oe(t.key), n = String(t.placement); if ("static" !== n && "prototype" !== n && "own" !== n) throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "' + n + '"'); var i = t.descriptor; this.disallowProperty(t, "elements", "An element descriptor"); var o = { kind: e, key: r, placement: n, descriptor: Object.assign({}, i) }; return "field" !== e ? this.disallowProperty(t, "initializer", "A method descriptor") : (this.disallowProperty(i, "get", "The property descriptor of a field descriptor"), this.disallowProperty(i, "set", "The property descriptor of a field descriptor"), this.disallowProperty(i, "value", "The property descriptor of a field descriptor"), o.initializer = t.initializer), o }, toElementFinisherExtras: function (t) { return { element: this.toElementDescriptor(t), finisher: ie(t, "finisher"), extras: this.toElementDescriptors(t.extras) } }, fromClassDescriptor: function (t) { var e = { kind: "class", elements: t.map(this.fromElementDescriptor, this) }; return Object.defineProperty(e, Symbol.toStringTag, { value: "Descriptor", configurable: !0 }), e }, toClassDescriptor: function (t) { var e = String(t.kind); if ("class" !== e) throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "' + e + '"'); this.disallowProperty(t, "key", "A class descriptor"), this.disallowProperty(t, "placement", "A class descriptor"), this.disallowProperty(t, "descriptor", "A class descriptor"), this.disallowProperty(t, "initializer", "A class descriptor"), this.disallowProperty(t, "extras", "A class descriptor"); var r = ie(t, "finisher"); return { elements: this.toElementDescriptors(t.elements), finisher: r } }, runClassFinishers: function (t, e) { for (var r = 0; r < e.length; r++) { var n = (0, e[r])(t); if (void 0 !== n) { if ("function" != typeof n) throw new TypeError("Finishers must return a constructor."); t = n } } return t }, disallowProperty: function (t, e, r) { if (void 0 !== t[e]) throw new TypeError(r + " can't have a ." + e + " property.") } }; return t }(); if (n) for (var o = 0; o < n.length; o++)i = n[o](i); var a = e(function (t) { i.initializeInstanceElements(t, s.elements) }, r), s = i.decorateClass(function (t) { for (var e = [], r = function (t) { return "method" === t.kind && t.key === o.key && t.placement === o.placement }, n = 0; n < t.length; n++) { var i, o = t[n]; if ("method" === o.kind && (i = e.find(r))) if (ne(o.descriptor) || ne(i.descriptor)) { if (re(o) || re(i)) throw new ReferenceError("Duplicated methods (" + o.key + ") can't be decorated."); i.descriptor = o.descriptor } else { if (re(o)) { if (re(i)) throw new ReferenceError("Decorators can't be placed on different accessors with for the same property (" + o.key + ")."); i.decorators = o.decorators } s = i, void 0 !== (a = o).descriptor.get ? s.descriptor.get = a.descriptor.get : s.descriptor.set = a.descriptor.set } else e.push(o) } var a, s; return e }(a.d.map(ee)), t); return i.initializeClassElements(a.F, s.elements), i.runClassFinishers(a.F, s.finishers) }(null, function (n, t) { return { F: function (t) { function r(t) { var e; return d()(this, r), e = v()(this, x()(r).call(this, t)), n(y()(e)), e.setDefault({ radius: 10 }), e } return b()(r, t), r }(t), d: [{ kind: "set", decorators: [i({ reflow: !0 })], key: "radius", value: function (t) { this.set("radius", t) } }] } }, o.Attr), s = function (t) { function e() { return d()(this, e), v()(this, x()(e).apply(this, arguments)) } return b()(e, t), O()(e, [{ key: "radiuses", get: function () { var t = this.attr("radius"); return [t, t] } }]), e }(o); return c()(s, "Attr", a), n("circle", s, !1), { Circle: s } } r.d(e, "Shapes", function () { return le }), r.d(e, "version", function () { return se }), r.d(e, "install", function () { return ce }), r.d(e, "Shape", function () { return A }), r.d(e, "Polyline", function () { return ut }), r.d(e, "Polycurve", function () { return yt }), r.d(e, "Wave", function () { return At }), r.d(e, "Polygon", function () { return It }), r.d(e, "Triangle", function () { return Nt }), r.d(e, "Rect", function () { return Jt }), r.d(e, "Star", function () { return Kt }), r.d(e, "Arc", function () { return rt }), r.d(e, "Sector", function () { return $ }), r.d(e, "Ellipse", function () { return te }), r.d(e, "EllipseSector", function () { return G }), r.d(e, "EllipseArc", function () { return X }), r.d(e, "Circle", function () { return ae }), r.d(e, "Ring", function () { return Mt }); var se = r(21).version, le = { version: se, install: ce, Shape: A, Polyline: ut, Polycurve: yt, Wave: At, Polygon: It, Triangle: Nt, Rect: Jt, Star: Kt, Arc: rt, Sector: $, Ellipse: te, EllipseSector: G, EllipseArc: X, Circle: ae, Ring: Mt }; function ce(r) { return Object.keys(le).reduce(function (t, e) { return "version" === e || "install" === e ? t : Object.assign(t, r.use(le[e], null, !1)) }, {}) } e.default = le }]).default }, function (t, e) { var r; r = function () { return this }(); try { r = r || new Function("return this")() } catch (t) { "object" == typeof window && (r = window) } t.exports = r }, function (r, t) { function n(t, e) { return r.exports = n = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t }, n(t, e) } r.exports = n }, function (t, e) { t.exports = function (t) { if (Array.isArray(t)) return t } }, function (t, e) { t.exports = function (t, e) { var r = [], n = !0, i = !1, o = void 0; try { for (var a, s = t[Symbol.iterator](); !(n = (a = s.next()).done) && (r.push(a.value), !e || r.length !== e); n = !0); } catch (t) { i = !0, o = t } finally { try { n || null == s.return || s.return() } finally { if (i) throw o } } return r } }, function (t, e) { t.exports = function () { throw new TypeError("Invalid attempt to destructure non-iterable instance") } }, function (t, e, r) { var n = r(4); t.exports = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = n(t));); return t } }, function (t, e) { t.exports = function (t) { if (Array.isArray(t)) { for (var e = 0, r = new Array(t.length); e < t.length; e++)r[e] = t[e]; return r } } }, function (t, e) { t.exports = function (t) { if (Symbol.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return Array.from(t) } }, function (t, e) { t.exports = function () { throw new TypeError("Invalid attempt to spread non-iterable instance") } }, function (t, e) { t.exports = function (t, e) { if (null == t) return {}; var r, n, i = {}, o = Object.keys(t); for (n = 0; n < o.length; n++)r = o[n], 0 <= e.indexOf(r) || (i[r] = t[r]); return i } }, function (t, e, r) { "use strict"; r.r(e); var n = {}; r.r(n), r.d(n, "Chart", function () { return vt }), r.d(n, "Global", function () { return O }), r.d(n, "BasePlugin", function () { return mt }), r.d(n, "BaseVisual", function () { return it }), r.d(n, "h", function () { return S }), r.d(n, "Dataset", function () { return m }); var i = {}; r.r(i), r.d(i, "Pie", function () { return Pt }), r.d(i, "Line", function () { return Jt }), r.d(i, "Radar", function () { return ne }), r.d(i, "Bar", function () { return ie }), r.d(i, "Area", function () { return oe }), r.d(i, "Funnel", function () { return he }), r.d(i, "Scatter", function () { return de }), r.d(i, "Gauge", function () { return pe }); var o = {}; r.r(o), r.d(o, "Legend", function () { return ve }), r.d(o, "Text", function () { return me }), r.d(o, "Tooltip", function () { return ye }), r.d(o, "Axis", function () { return be }); var a = r(2), q = r.n(a), x = r(0), s = r(29), l = r.n(s), B = r(1), c = r(5), u = r.n(c), f = r(6), h = r.n(f); function d(t) { t._attrs = Object.create(null) } function p(t) { t.prototype.getDefaultAttrs = function () { return {} }, t.prototype.attr = function (e, t) { var r = this, n = this._attrs; if (Object(B.r)(e)) Object.keys(e).forEach(function (t) { return r.attr(t, e[t]) }); else { if (arguments.length <= 1) return e ? n[e] : n; e && (n[e] = t) } }, t.prototype.style = function (t, e) { var n = this; if (void 0 !== e) return this.attr("@" + t, e), this; var i = this.attr("@" + t); return function () { if (Object(B.p)(i)) { for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++)e[r] = arguments[r]; return i.apply(n, e) } return i } }, t.prototype.isStyleExist = function (t) { var e = this.attr("@" + t); return Boolean(e) } } var v = function () { function r() { u()(this, r), d(this), this.data = null, this.dataOrigin = null, this._deps = [], this._events = {} } return h()(r, [{ key: "addDep", value: function (t) { var e = this._deps.length; this._deps[e] = t } }, { key: "notify", value: function () { this._deps.forEach(function (t) { t.update && t.update() }) } }, { key: "_prepareSource", value: function (t, e) { t instanceof r ? (this.dataOrigin = t.dataOrigin, this.data = Object(B.c)(t.dataOrigin)) : Object(B.m)(t) ? (this.dataOrigin = t, this.data = Object(B.c)(t)) : Object(B.l)(!1, "Invalid source data, must be an array or a instance of Dataset!") } }, { key: "source", value: function (t, e) { this._prepareSource(t), this.attr(e), this._executeTransform() } }, { key: "_defineReactive", value: function (t) { function e(o, a) { var s = o[a]; Object.defineProperty(o, a, { get: function () { return s }, set: function (t) { s = t; var e = l.attr(), r = e.row, n = e.col, i = e.value; o.dataOrigin && (Object(B.r)(o.dataOrigin) ? o.dataOrigin[a] = t : o.dataOrigin = t), -1 < [r, n, i].indexOf(a) && l.notify() } }) } var l = this, r = this.attr(), n = [r.row, r.col, r.text, r.value, "dataOrigin"].filter(Boolean), i = !0, o = !1, a = void 0; try { for (var s, c = n[Symbol.iterator](); !(i = (s = c.next()).done); i = !0) { e(t, s.value) } } catch (t) { o = !0, a = t } finally { try { i || null == c.return || c.return() } finally { if (o) throw a } } } }, { key: "_executeTransform", value: function () { var s = this, t = this.attr(), n = t.row, i = t.col, o = t.value, a = t.text, e = t.sort, r = t.filter, l = this.data; "*" === n && (n = "__dataset_row__", l.forEach(function (t) { return t.__dataset_row__ = 1 })), "*" === i && (i = "__dataset_col__", l.forEach(function (t) { return t.__dataset_col__ = 1 })), Object(B.l)(l, "There are no data to transform for now!"), r && (l = l.filter(r)), e && l.sort(e); for (var c = function (e, t) { var r = Object(B.r)(e) ? Object(B.c)(e) : { value: e }; return Object(B.r)(e) ? e.__index__ = t : (a = o = "value", i = n = null, e = { value: e, __index__: e }), e.dataOrigin = r, e.__textGetter__ = function () { return e[a] || e[i] || e[n] }, e.__valueGetter__ = function () { return e[o] }, e.__valueSetter__ = function (t) { return t && (e[o] = t) }, e }, u = 0, f = l.length; u < f; u++) { var h = l[u]; if (Object(B.m)(h)) for (var d = !1, p = 0, v = h.length; p < v; p++) { var m = c(h[p], u); d ? l.push(m) : (l[u] = m, d = !0) } else l[u] = c(h, u) } this.attr({ row: n, col: i, value: o }); function y(t) { return l.map(t).reduce(function (t, e, r) { return t[e] = r, t }, Object.create(null)) } function g(t) { var e = !0, r = !1, n = void 0; try { for (var i, o = t[Symbol.iterator](); !(e = (i = o.next()).done); e = !0) { var a = i.value; s._defineReactive(a) } } catch (t) { r = !0, n = t } finally { try { e || null == o.return || o.return() } finally { if (r) throw n } } } var b = n ? function (t) { return t[n] } : function (t) { return t.__index__ }, k = i ? function (t) { return t[i] } : function (t) { return t.__index__ }, w = l, E = Object(B.c)(l); g(w), g(E), this.rowIndexes = y(b), this.colIndexes = y(k), this.row = Object(B.i)(w, b), this.col = Object(B.i)(E, k) } }, { key: "_selectDataByName", value: function (t, e) { var r = this[e]; Object(B.l)(r, "No data now, check if you has source the data!"); var n = r[t]; return Object(B.m)(n) && n.sort(function (t, e) { return t.__index__ - e.__index__ }), n } }, { key: "_selectDataByNames", value: function (t, r) { var n = this, e = null, i = null; return i = "row" === r ? (e = this.row, this.rowIndexes) : (e = this.col, this.colIndexes), "*" === t ? t = Object.keys(e) : Object(B.m)(t) || (t = [t]), t.sort(function (t, e) { return i[t] - i[e] }).reduce(function (t, e) { return t.push(n._selectDataByName(e, r)), t }, []) } }, { key: "getRowNames", value: function () { var t = this.row, r = this.rowIndexes; return Object.keys(t).sort(function (t, e) { return r[t] - r[e] }) } }, { key: "getColNames", value: function () { var t = this.col, r = this.colIndexes; return Object.keys(t).sort(function (t, e) { return r[t] - r[e] }) } }, { key: "selectRow", value: function (t) { return t ? this._selectDataByName(t, "row") : null } }, { key: "selectRows", value: function (t) { return this._selectDataByNames(t, "row") } }, { key: "selectCol", value: function (t) { return t ? this._selectDataByName(t, "col") : null } }, { key: "selectCols", value: function (t) { return this._selectDataByNames(t, "col") } }, { key: "hoverData", value: function (t) { this._hoverData = t, this.dispatch("hover:data", t) } }, { key: "on", value: function (t, e) { this._events[t] = this._events[t] || [], this._events[t].push(e) } }, { key: "dispatch", value: function (t, e) { (this._events[t] || []).forEach(function (t) { return t(e) }) } }]), r }(); p(v); var m = v, y = r(7), g = r.n(y), b = r(4), k = r.n(b), w = r(9), E = r.n(w), A = r(16), _ = r.n(A), O = Object.create(null); O.PLOT_INSTANCES = new WeakMap, O.THEMES = new Map, O.CURRENT_THEME = Object.create(null), O.registerTheme = function (t, e) { O.THEMES.set(t, e) }, O.useTheme = function (t) { t && (Object(B.s)(t) && (t = O.THEMES.get(t)), Object(B.r)(t) && (O.CURRENT_THEME = Object.assign({}, O.CURRENT_THEME, t))) }; var C = function () { }, P = function (t) { return [].concat.apply([], t) }; function S(t, e) { var r = new C; r.tagName = t, r.attrs = e || {}; for (var n = arguments.length, i = new Array(2 < n ? n - 2 : 0), o = 2; o < n; o++)i[o - 2] = arguments[o]; return r.children = P(i).filter(Boolean), r } var D = r(12), M = r.n(D), j = "CREATE", T = "REPLACE", z = "UPDATE", F = "REMOVE", R = function (t) { return null == t }, L = function (t, e) { for (var r = [], n = Math.max(t.children.length, e.children.length), i = 0; i < n; i++)r[i] = W(t.children[i], e.children[i]); return r }, I = function (t, e) { var r = t.attrs, n = e.attrs; return Object.assign({}, r, n) }, N = function (t, e) { return "object" !== M()(t) && t !== e || "object" !== M()(e) && t !== e || t.tagName !== e.tagName }; function W(t, e) { return R(t) ? { type: j, newVNode: e } : R(e) ? { type: F } : N(t, e) ? { type: T, newVNode: e } : e.tagName ? { type: z, children: L(t, e), attrs: I(t, e) } : void 0 } function G(t) { return this._start = t, this._end = null, this._delay = 0, this._canceled = !1, this._duration = 1, this._easing = function (t) { return t }, this._onUpdate = function () { }, this._onStart = function () { }, this } G.prototype = { from: function (t) { return this._start = t, this }, to: function (t) { return this._end = t, this }, duration: function (t) { if ("number" != typeof t) throw new Error("Duration time must be a number"); return this._duration = t, this }, delay: function (t) { return this._delay = t, this }, easing: function (t) { if ("function" != typeof t) throw new Error("easing function must be a function"); return this._easing = t, this }, onStart: function (t) { if ("function" != typeof t) throw new Error("start callback must be a function"); return this._onStart = t, this }, onUpdate: function (t) { if ("function" != typeof t) throw new Error("update callback must be a function"); return this._onUpdate = t, this }, onComplete: function (t) { if ("function" != typeof t) throw new Error("complete callback must be a function"); return this._onComplete = t, this }, start: function () { var n = this, i = this._easing, o = Object(B.k)(this._start, this._end), a = this._onUpdate, s = 0, l = this._duration, c = null, u = this._delay, f = 0; return new Promise(function (e) { function r() { s = Object(B.u)() - f; var t = i(Math.min(1, s / l)); l <= s ? (a(o(1)), e(n), Object(B.b)(c)) : (a(o(t)), c = Object(B.v)(r)) } function t() { f = Object(B.u)(), n._onStart(n._start, n._end), c = Object(B.v)(r) } n.cancel = function () { Object(B.b)(c) }, u && 0 < u ? Object(B.f)(u).then(t) : t() }) } }; var $ = G; function U(e, t) { if (e && t.animation) { var r = q()({ delay: 0, duration: 300, useTween: !1 }, t.animation), n = r.from, i = r.to, o = r.delay, a = r.duration, s = r.useTween, l = r.attrFormatter, c = void 0 === l ? function (t) { return t } : l; if (n && i) { delete r.from, delete r.to, delete r.attrFormatter; var u = function () { s ? (new $).from(n).to(i).delay(o).duration(a).onUpdate(function (t) { e.attr(c(t)) }).start() : e.animate([n, i], q()({ easing: "ease-in-out" }, r)).finished.then(function () { delete i.offset, e.attr(i) }) }; e.parent ? u() : e.on("append", function () { u() }) } } } function J(a, s) { var l = Object.create(null), c = null, t = q()({ normal: l }, s.states || {}); delete s.states; var e = Object.keys(s).reduce(function (t, e) { if (!/\S+state$/i.test(e)) return t; var r = s[e]; if (!r || "object" !== M()(r)) return t; var n = e.slice(0, -5); (c = c || a.cloneNode()).attr(r); var i = c.attr(); Object.keys(r).forEach(function (t) { r[t] = i[t] }); var o = Object.assign({}, a.attr(), s); return Object.keys(r).forEach(function (t) { l[t] = t in o ? o[t] : r[t] }), t[n] = r, delete s[e], t }, t); a.attr({ state: "normal", states: e }) } function V(t, e) { var r = e.ref; if (delete e.ref, r && t) try { r(t, e) } catch (t) { } } function H(n, t) { var i = 1 < arguments.length && void 0 !== t ? t : {}; Object.keys(i).forEach(function (t) { if (/^on/.test(t)) { var e = t.split("on")[1].toLowerCase(), r = i[t] || function () { }; n.off(e), n.on(e, function (t) { return r(t, n) }), delete i[t] } }) } function Y(t) { if (t) { var e = t.tagName, r = t.attrs, n = t.children, i = new e; return V(i, r), J(i, r), H(i, r), i.attr(r), U(i, r), i.appendChild && n.map(Y).filter(Boolean).forEach(i.appendChild.bind(i)), i } } function X(t, e) { t && (Object(B.l)(e, "In vnode, need a parent to render elements!"), t.filter(Boolean).map(Y).forEach(function (t) { return e.appendChild(t) })) } var Z = function (t, e) { t && Object.keys(e).length && (V(t, e), J(t, e), H(t, e), t.attr(e), U(t, e)) }, Q = 0; var K, tt = null, et = { animation: !0, size: ["80%", "80%"], pos: ["10%", "10%"], layoutBy: "row" }, rt = function () { function n() { var r = this, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; u()(this, n), _()(this, "resolveRef", function (e) { return function (t) { r.$refs[e] = t } }), d(this), function (t) { t._events = Object.create(null) }(this), function (t) { t.lifecycle = { beforeCreate: "beforeCreate", created: "created", beforeRender: "beforeRender", rendered: "rendered", beforeUpdate: "beforeUpdate", updated: "updated", beforeDestroy: "beforeDestroy", destroyed: "destroyed" } }(this), this.emit(this.lifecycle.beforeCreate, this); var e = this.getDefaultAttrs(); this.attr(Object.assign({}, et, e, t)), this.data = null, this.state = Object.create(null), this.$group = null, this.__data__ = null, this.__vnode__ = null, this.__isRendered__ = !1, this.emit(this.lifecycle.created, this), this._colors = [], this.$refs = Object.create(null) } return h()(n, [{ key: "resolveAnimation", value: function (t) { var e = this.attr("animation"); return e ? Object(B.r)(e) ? Object.assign(t, e) : t : q()({}, t, { duration: 0 }) } }, { key: "connectedCallback", value: function (t) { this.chart = t } }, { key: "color", value: function (t) { if (null == t || !Object(B.m)(t) && !Object(B.s)(t)) { if (this._colors && !this._colors.length) { var e = this.name, r = O.CURRENT_THEME, n = (r && r[e] || {}).colors; n = n || r.colors, this._colors = n || [] } return null == t ? this._colors : this._colors[t] || this._colors[0] || "#ccc" } Object(B.s)(t) && (t = [t]), this._colors = t } }, { key: "source", value: function (t) { var e = this.__isRendered__; return t instanceof m ? this.dataset = t : this.data = t, e && this.update(), this } }, { key: "getData", value: function () { var t = null; if (this.data) t = this.data; else { var e = this.attr("layoutBy"), r = Object.keys(this.dataset[e]); t = this.dataset._selectDataByNames(r, e) } return this.__data__ = Object(B.c)(t), t } }, { key: "shouldUpdate", value: function () { var t = this.__data__, e = this.getData(); return !Object(B.o)(t, e) } }, { key: "_recalculateLayout", value: function () { function t(t) { var r = n.attr("___".concat(t, "___")), e = null; (r = r || n.attr(t)) && (n.attr("___".concat(t, "___"), r), e = i.map(function (t, e) { return Object(B.d)(r[e], t) })), e && (n.attr(t, e), n.$group.attr(t, e)) } var n = this, i = this.chart.getSize(); t("pos"), t("size"), this.$group.attr({ boxSizing: "border-box", padding: 0, zIndex: 2, clipOverflow: !1 }) } }, { key: "setState", value: function (t, e) { var r = this, n = 1 < arguments.length && void 0 !== e && e; clearTimeout(tt), this.state = Object.assign({}, this.state, t), n ? this.update() : tt = setTimeout(function () { return r.update() }, 16.7) } }, { key: "beforeRender", value: function () { this._recalculateLayout() } }, { key: "rendered", value: function () { } }, { key: "beforeUpdate", value: function () { this._recalculateLayout() } }, { key: "update", value: function () { Object(B.l)(this.__vnode__, ["This componnet doesn't use jsx to render", "You should override the update method!"].join()); var t = this.beforeUpdate(); this.__willUpdate__ = !0; var e = this.render(t), r = W(this.__vnode__, e); !function t(e, r, n, i) { var o = 2 < arguments.length && void 0 !== n ? n : 0, a = 3 < arguments.length && void 0 !== i && i; if (r && e && e.childNodes) { var s = a ? e : e.childNodes[o - Q] || e.childNodes[0]; switch (r.type) { case j: var l = Y(r.newVNode); l && e.appendChild(l), Q++; break; case T: var c = Y(r.newVNode); e.replaceChild(c, s), Q--; break; case F: s.parent.removeChild(s), Q++; break; case z: var u = r.attrs, f = r.children; Z(s, u); for (var h = 0, d = f.length; h < d; h++)t(s, f[h], h); Q = 0 } } }(this.$group, r, 0, !0), this.__vnode__ = e, this.__willUpdate__ = !1, this.updated() } }, { key: "updated", value: function () { } }, { key: "forceUpdate", value: function () { Object(B.l)(this.chart && this.chart.$group, "This component hasn't connect to chart now!"); var t = JSON.parse(JSON.stringify(this.$group.attr())), e = new x.Group(t); this.chart.$group.replaceChild(e, this.$group), this.$group = e; var r = this.beforeUpdate && this.beforeUpdate(), n = this.render && this.render(r); e.attr(q()({}, n.attrs)), X((this.__vnode__ = n).children, e), this.updated() } }]), n }(); p(rt), (K = rt).prototype.on = function (t, e) { return this._events[t] = this._events[t] || [], this._events[t].push(e), this }, K.prototype.once = function (i, o) { var a = this; return this.on(i, function t() { for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; o.apply(this, r), a.off(i, t) }) }, K.prototype.off = function (t, e) { if (Object(B.p)(e)) { var r = this.getListeners(t), n = r.indexOf(e); r.splice(n, 1) } else this._events[t] ? this._events[t] = [] : this._events = Object.create(null); return this }, K.prototype.getListeners = function (t) { return t && this._events[t] || [] }, K.prototype.emit = function () { for (var t = this, e = arguments.length, r = new Array(e), n = 0; n < e; n++)r[n] = arguments[n]; var i = r[0], o = r.slice(1), a = t.chart ? [t.chart].concat(t.chart.getChildren()) : [t].concat(t.getChildren && t.getChildren() || []); return a && a.length && a.forEach(function (e) { e && e.getListeners && e.getListeners(i).map(function (t) { return t.apply(e, o) }) }), this }; var nt = rt, it = function (t) { function e() { return u()(this, e), g()(this, k()(e).apply(this, arguments)) } return E()(e, t), h()(e, [{ key: "componentType", get: function () { return "visual" } }]), e }(nt), ot = r(8), at = r.n(ot), st = function (r) { return { observe: function (t) { var e = document.createElement("iframe"); e.style.cssText = "position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;", e.onload = function () { e.contentWindow.onresize = function () { r(t) } }, t.appendChild(e) } } }, lt = function () { function r(t, e) { u()(this, r), Object(B.r)(t) && (t = (e = t).container), this.domElement = t, this.initScene(this.domElement, e), this.plots = [], this.charts = [] } return h()(r, [{ key: "initScene", value: function (t, e) { if (!Object(B.t)() && e.forceFit ? e.viewport = "auto" : e.viewport = e.size ? e.size : [e.width, e.height], Object(B.t)()) { var r = at()(e.viewport, 2), n = r[0], i = r[1], o = e.pixelRatio || "px"; this.scene = new x.Scene(Number(n) || null, Number(i) || null, o) } else this.scene = new x.Scene(t, q()({ displayRatio: "auto" }, e)); var a = e.layer || "default"; Object(B.t)() ? this.layer = this.scene.layer(a, e.component) : this.layer = this.scene.layer(a), this.canvas = this.layer.canvas, e.forceFit && this.forceFit() } }, { key: "forceFit", value: function () { var i = this; if (!Object(B.t)()) { var t = this.domElement; st(Object(B.e)(function (t) { var e = t.getBoundingClientRect(); !function (t, e) { i.scene.setViewport(t, e), i.scene.setResolution(t, e), i.plots.forEach(function (t) { var e = t.$group, r = t.pos, n = t.size; e.attr(i.recalculateLayout(r, n)) }), i.charts.forEach(function (t) { t.emit("resize"), t.update && t.update() }) }(e.width, e.height) }, 300)).observe(t) } } }, { key: "recalculateLayout", value: function (t, e) { var r = at()(t, 2), n = r[0], i = r[1], o = at()(e, 2), a = o[0], s = o[1], l = this.scene.resolution; return { pos: [n, i].map(function (t, e) { return Object(B.d)(t, l[e]) }), size: [a, s].map(function (t, e) { return Object(B.d)(t, l[e]) }) } } }, { key: "subPlot", value: function (t, e) { var r = new x.Group(q()({ boxSizing: "border-box" }, this.recalculateLayout(t, e))); return this.layer.appendChild(r), this.plots.push({ $group: r, pos: t, size: e }), r } }, { key: "addChart", value: function (t) { t.id = this.plots.length + 1, Object.defineProperty(t, "id", { writable: !1, configurable: !0 }), t.layer = this.layer, this.charts.push(t) } }]), r }(), ct = Object(B.h)(), ut = Symbol("plot"), ft = Symbol("initPlot"), ht = Symbol("mountToPlot"), dt = Symbol("addChild"), pt = Symbol("renderChild"), vt = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).emit(t.lifecycle.beforeCreate), t[ut] = null, t[ft](t.attr()), t[ht](), t.setTheme("default"), t.dataset = null, t.visuals = [], t.plugins = [], t.children = [], t.Global = O, delete t.state, delete t.__vnode__, t.emit(t.lifecycle.created), t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { pos: [0, 0], size: ["100%", "100%"], forceFit: !0, zoomable: !1 } } }, { key: ft, value: function (t) { var e; this.domElement = "string" == typeof (e = t.container) ? ct.document && ct.document.querySelector ? ct.document.querySelector(e) : { id: e } : e, Object(B.l)(this.domElement, "Need a domNode to render chart!"); var r = O.PLOT_INSTANCES.get(this.domElement); r || (r = new lt(q()({}, t, { container: this.domElement })), O.PLOT_INSTANCES.set(this.domElement, r)), this[ut] = r, this[ut].addChart(this), this.canvas = r.canvas } }, { key: ht, value: function () { var t = this.attr("pos"), e = this.attr("size"), r = this[ut].subPlot(t, e); this.$group = r, this.attr("size", this.$group.attr("size")), this.attr("pos", this.$group.attr("pos")) } }, { key: "setTheme", value: function (t) { var e = O.THEMES.get(t); Object(B.l)(e, "Unknown theme type! Register it first!"), O.useTheme(t), this.__isRendered__ && this.emit("theme:change", e), this.$group && this.$group.attr(this.style("Chart")() || {}) } }, { key: "resolveTheme", value: function (t) { return O.CURRENT_THEME[t] || this.style(t)() } }, { key: "setCanvasCursor", value: function (t) { var e = 0 < arguments.length && void 0 !== t ? t : "default"; this.canvas && (this.canvas.style.cursor = e) } }, { key: "getSize", value: function () { return this.$group.attr("size") } }, { key: "getPos", value: function () { return this.$group.attr("pos") } }, { key: "source", value: function (t, e) { var r = 1 < arguments.length && void 0 !== e ? e : {}; if (this.dataset) this.dataset.source(t, r), this.update(); else { var n = null; t instanceof m ? n = t : (n = new m).source(t, r), this.dataset = n } return this } }, { key: dt, value: function (t) { if (t) return t.connectedCallback && t.connectedCallback(this), t instanceof it ? this.visuals.push(t) : this.plugins.push(t), this.children.push(t), this } }, { key: "add", value: function (t) { return Object(B.m)(t) ? t.map(this[dt].bind(this)) : this[dt](t), this } }, { key: "getChildren", value: function () { return [].concat(this.plugins, this.visuals) } }, { key: pt, value: function (t) { Object(B.l)(t.render, "Chart need a instance which has render method!"), Object(B.l)(this.dataset, "The chart can't render because havn't source data!"), t.dataset || (t.dataset = this.dataset), this.dataset.addDep(t); var e = new x.Group; this.$group.appendChild(e), t.$group = e; var r = t.beforeRender && t.beforeRender(), n = t.render && t.render(r); e.attr(q()({}, n.attrs)), X((t.__vnode__ = n).children, e), t.__isRendered__ = !0, t.rendered() } }, { key: "render", value: function () { Object(B.l)(!this.__isRendered__, "The chart is rendered! Do not invoke chart.render many a time!"), this.emit(this.lifecycle.beforeRender, this), this.children.map(this[pt].bind(this)), this.emit(this.lifecycle.rendered, this), this.__isRendered__ = !0 } }, { key: "update", value: function () { this.attr("size", this.$group.attr("size")), this.attr("pos", this.$group.attr("pos")), this.emit(this.lifecycle.beforeUpdate, this), this.children.map(function (t) { return t.update() }), this.emit(this.lifecycle.updated, this) } }, { key: "destroy", value: function () { this.emit(this.lifecycle.beforeDestroy, this), this[ut].plots.pop(), this.$group.parentNode.removeChild(this.$group), this.emit(this.lifecycle.destroyed, this) } }, { key: "save", value: function (t, e) { var r = 0 < arguments.length && void 0 !== t ? t : "qcharts", n = 1 < arguments.length && void 0 !== e ? e : "image/png"; Object(B.l)(!!ct.document, "In current platform, the chart can't save to a image!"); var i = this.canvas.toDataURL(n).replace(n, "image/octet-stream"), o = document.createElement("a"); o.style.position = "fixed", o.style.zIndex = -9999, document.body.appendChild(o); var a = document.createEvent("HTMLEvents"); a.initEvent("click", !1, !1), o.download = /\.\w+/.test(r) ? r : r + "." + n.split("/")[1], o.href = i, o.dispatchEvent(a), o.click(), document.body.removeChild(o) } }]), r }(nt), mt = function (t) { function e() { return u()(this, e), g()(this, k()(e).apply(this, arguments)) } return E()(e, t), h()(e, [{ key: "componentType", get: function () { return "plugin" } }]), e }(nt), yt = r(3), gt = r.n(yt), bt = r(17), kt = r.n(bt), wt = r(11), Et = r.n(wt), xt = 2 * Math.PI; function At() { var u = function (t) { return t }, f = 0, h = xt, d = 0; function e(t) { for (var e, r, n = 0, i = t.length, o = 0, a = new Array(i); n < i;)t[n].disabled || (o += u(t[n])), n++; for (n = 0; n < i;) { var s = 1 <= n ? a[n - 1].endAngle : f, l = (e = u(t[n]), (r = o) <= 0 ? 0 : e / r), c = t[n].disabled ? s : s + l * (h - f); a[n] = Object.assign({}, t[n], { index: n, startAngle: s, endAngle: c, padAngle: d, proportion: l }), n++ } return function (t, e) { var r = 1 < arguments.length && void 0 !== e ? e : 0, n = Math.min.apply(null, t.map(function (t) { return t.endAngle - t.startAngle })); 0 < r && (r = n < r ? n / 2 : r, t.forEach(function (t) { t.startAngle += r / 2, t.endAngle -= r / 2 })) }(a, d), a } return e.value = function (t) { return u = t, e }, e.startAngle = function (t) { return f = t, e }, e.endAngle = function (t) { return h = t, e }, e.padAngle = function (t) { return d = t, e }, e } function _t(t, e) { if (e.disabled) return null; var r = t.style("guideLine")(e, e.dataOrigin, e.index), n = t.style("guideText")(e, e.dataOrigin, e.index); if (!r && !n) return null; var i = function (t) { var e = t.startAngle, r = t.endAngle, n = t.pos, i = t.outerRadius, o = t.maxRadius, a = (e + r) / 2, s = at()(n, 2), l = s[0], c = s[1], u = o - i, f = Math.cos(a) * (i + 0) + i + u + l, h = Math.sin(a) * (i + 0) + i + u + c, d = f + 20 * Math.cos(a), p = h + 20 * Math.sin(a), v = [f + 25 * Math.cos(a), h + 25 * Math.sin(a)], m = -Math.cos(a), y = -Math.sin(a), g = [.5, .5]; Math.abs(m) > Math.abs(y) ? g[0] = m < 0 ? 0 : m : g[1] = 0 < y ? y : 0; return { points: [[f, h], [d, p]], labelPos: v, anchor: g } }(e), o = i.points, a = i.anchor, s = i.labelPos, l = Object.assign({ points: o, strokeColor: e.fillColor }, Object(B.n)(r) ? {} : r), c = Object.assign({ color: "#67728C", fontSize: "12px", text: e.__textGetter__(), pos: s, anchor: a }, Object(B.n)(n) ? {} : n); return getApp().qcharts.h(x.Group, { clipOverflow: !1, size: [1, 1] }, r ? getApp().qcharts.h(x.Polyline, { ref: function (t) { Ot.get(t) ? t.animate([Ot.get(t), l], { duration: 300, fill: "forwards" }).finished.then(function () { return t.attr(l) && Ot.set(t, l) }) : (t.attr(l), Ot.set(t, l)) }, onMousemove: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") }, hoverState: t.style("guideLine:hover")(e, e.dataOrigin, e.index) }) : null, n ? getApp().qcharts.h(x.Label, { ref: function (t) { Ct.get(t) ? t.animate([Ct.get(t), c], { duration: 300, fill: "forwards" }).finished.then(function () { return t.attr(c) && Ct.set(t, c) }) : (t.attr(c), Ct.set(t, c)) }, onMousemove: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") }, hoverState: t.style("guideText:hover")(e, e.dataOrigin, e.index) }) : null) } var Ot = new WeakMap, Ct = new WeakMap; var Pt = function (t) { function a() { var n, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, a), n = g()(this, k()(a).call(this, t)), _()(kt()(n), "getRing", function (t, e, r) { r && ((n.$rings[e] = r).isTranslatedByInitiativeClick || (t.selected && t.endAngle > t.startAngle ? r.parentNode ? (r.isTranslated && (r.isTranslated = !1), n.toggleTranslate(t, null, r)) : r.on("append", function () { return n.toggleTranslate(t, null, r) }) : !t.selected && r.isTranslated && n.toggleTranslate(t, null, r))) }), _()(kt()(n), "toggleTranslate", function (t, e, r) { var n = r.isTranslated, i = Math.max(20, .1 * t.maxRadius), o = (t.startAngle + t.endAngle) / 2, a = [i * Math.cos(o), i * Math.sin(o)], s = r.parentNode; "pieRoot" === s.attr("name") && (s = r), n ? (s.transition(.3).attr("translate", [0, 0]), r.isTranslated = !1) : (s.transition(.3).attr("translate", a), r.isTranslated = !0) }), n.$rings = [], n.sectors = [], n } return E()(a, t), h()(a, [{ key: "getDefaultAttrs", value: function () { return { radius: .8, innerRadius: 0, startAngle: -.5 * Math.PI, endAngle: 1.5 * Math.PI, padAngle: 0, rose: !1, translateOnClick: !0 } } }, { key: "transform", value: function (t, e) { var n = this, r = this.attr(), i = r.startAngle, o = r.endAngle, a = r.padAngle, s = this.sectors = At().startAngle(i).endAngle(o).padAngle(a).value(function (t) { return +t.__valueGetter__() })(t), l = this.pos, c = this.maxOuterRadius, u = this.innerRadius, f = this.attr("rose"), h = []; if (f) { var d = Object(B.a)({ dataSet: e }), p = Object(B.w)().domain([0, d[d.length - 1]]).range([u, c]); h = t.map(function (t) { return p(t.disabled ? 0 : +t.__valueGetter__()) }) } else h = s.map(function () { return c }); return s.forEach(function (t, e) { t.index = e, t.maxRadius = c, t.outerRadius = h[e], t.innerRadius = u, t.pos = l, t.fillColor = n.color(e), t.lineWidth = 0; var r = n.style("sector")(t, t.dataOrigin, t.index); Object.assign(t, r), t.disabled && (t.lineWidth = 0), t.lineWidth && 1 <= t.lineWidth && ((t.startAngle + t.endAngle) % (1 * Math.PI) <= 0 && s.filter(function (t) { return !t.disabled }).length <= 1 && (t.lineWidth = 0)) }), s } }, { key: "beforeRender", value: function () { Et()(k()(a.prototype), "beforeRender", this).call(this); var t = this.getData(), e = Object(B.g)(t), r = this.rings = this.transform(e, t); return this.fromTos = r.map(function (t, e) { return { from: { startAngle: t.startAngle, endAngle: t.startAngle }, to: { startAngle: t.startAngle, endAngle: t.endAngle } } }), r } }, { key: "beforeUpdate", value: function () { var n = this; Et()(k()(a.prototype), "beforeUpdate", this).call(this); var t = this.getData(), e = Object(B.g)(t), i = this.rings, o = this.transform(e, t); return this.fromTos = o.map(function (t, e) { var r = i[e] ? i[e] : o[e - 1]; return { from: { startAngle: (r = r || { startAngle: n.attr("startAngle"), endAngle: n.attr("startAngle") }).disabled ? r.endAngle : r.startAngle, endAngle: r.endAngle }, to: { startAngle: t.startAngle, endAngle: t.endAngle } } }), this.rings = o } }, { key: "render", value: function (t) { function o(r, e, t, n) { return getApp().qcharts.h(x.Ring, gt()({ ref: function (t) { return a.getRing(r, e, t) } }, r, { animation: a.resolveAnimation({ from: t, to: n, duration: 300, delay: 0 }), actions: [{ both: ["normal", "hover"], action: { duration: 300 } }], hoverState: a.style("sector:hover")(r, r.dataOrigin, r.index), onMouseenter: function (t, e) { t.stopDispatch(), e.attr("state", "hover") }, onMousemove: function (t, e) { t.stopDispatch(), a.chart.setCanvasCursor("pointer"), a.dataset.hoverData(q()({ data: q()({ color: r.fillColor }, r.dataOrigin) }, t)) }, onMouseleave: function (t, e) { t.stopDispatch(), a.dataset.hoverData(null), e.attr("state", "normal"), a.chart.setCanvasCursor("default") }, onClick: function (t, e) { t.stopDispatch(), i && (e.isTranslatedByInitiativeClick = !0, a.toggleTranslate(r, t, e)) } })) } var a = this, e = 0 < arguments.length && void 0 !== t ? t : [], i = this.attr("translateOnClick"), s = this.isStyleExist("guideLine") || this.isStyleExist("guideText") || this.isStyleExist("text"); return getApp().qcharts.h(x.Group, { zIndex: 100, enableCache: !1, name: "pieRoot" }, e.map(function (t, e) { var r = a.fromTos[e], n = r.from, i = r.to; return s ? getApp().qcharts.h(x.Group, { enableCache: !1, clipOverflow: !1, size: [1, 1] }, o(t, e, n, i), function (t, e) { var r = e.startAngle, n = e.endAngle, i = e.pos, o = e.maxRadius, a = e.innerRadius, s = e.dataOrigin, l = e.index; if (e.disabled) return null; var c = t.style("text")(e, s, l); if (c) { var u = (r + n) / 2, f = [o * (1 + Math.cos(u)) + i[0] - (o - a) / 2 * Math.cos(u), o * (1 + Math.sin(u)) + i[1] - (o - a) / 2 * Math.sin(u)]; return getApp().qcharts.h(x.Label, gt()({ color: "#fff", fontSize: "12px", text: e.__valueGetter__(), pos: f, zIndex: 1e3, anchor: [.5, .5] }, Object(B.n)(c) ? {} : c, { onMousemove: function (t, e) { return e.attr("state", "hover") }, onMouseleave: function (t, e) { return e.attr("state", "normal") }, hoverState: t.style("text:hover")(e, e.dataOrigin, e.index) })) } }(a, t), _t(a, t)) : o(t, e, n, i) })) } }, { key: "name", get: function () { return this.attr("rose") ? "Rose" : "Pie" } }, { key: "maxOuterRadius", get: function () { var t = this.attr(), e = t.startAngle, r = t.endAngle, n = t.radius, i = t.size, o = at()(i, 2), a = o[0], s = o[1]; return r - e == Math.PI / 2 ? Math.min(a, s) * n : Math.min(a, s) / 2 * n } }, { key: "innerRadius", get: function () { var t = this.attr(), e = t.radius, r = t.innerRadius; return r <= 0 ? 0 : this.maxOuterRadius / e * r } }, { key: "pos", get: function () { var t = this.attr(), e = t.startAngle, r = t.endAngle, n = t.radius, i = t.size, o = (r + e) / 2, a = at()(i, 2), s = a[0], l = a[1], c = this.maxOuterRadius, u = s / 2 - c, f = l / 2 - c; if (r - e == Math.PI / 2) { var h = n * s, d = n * l; u += Math.cos(o) < 0 ? h / 2 : -h / 2, f += Math.sin(o) < 0 ? d / 2 : -d / 2 } return [u, f] } }]), a }(it), St = r(13), Dt = r(19), Mt = ["_x", "_y"]; function jt(t) { var p = t.size, r = t.stack, e = t.data, v = t.axisGap; e.forEach(function (t) { t.forEach(function (t) { t._x = t.__textGetter__(), t._y = t.__valueGetter__() }) }); var n = []; e.forEach(function (t) { var e = !0; t.forEach(function (t) { t.disabled || (e = !1) }), !0 === e && (t.disabled = !0), n.push(t) }); var i = [], m = {}; return n.forEach(function (t) { var e = function (t, c, u) { var f = this, h = Object.create(null), d = t.filter(function (t) { return !0 !== t.disabled }); Mt.forEach(function (i) { var t = d.map(function (t) { return t[i] }); m[i] = m[i] || []; var r = m[i], o = "category", e = "_x" === i ? p[0] : p[1], a = Object(St.a)().domain([0, d.length - 1]).range([0, e]); if (!1 !== v && (a = Object(St.a)().domain([0, d.length]).range([0, e])), "_y" === i && (o = "value"), "value" === o) { t = Object(Dt.a)({ dataSet: c, stack: u }), !0 === u && d.forEach(function (t, e) { t[i] = t[i] + (r[e] || 0), r[e] = t[i] }); var n = Math.max.apply(f, t), s = Math.min.apply(f, t); a = Object(St.a)().domain([s, n]).range([0, e]) } var l = d.map(function (t, e) { var r, n = a("value" === o ? t[i] : e); !1 !== v && "category" === o && ("_x" === i ? r = p[0] / d.length : "_y" === i && (r = p[1] / d.length), n += r / 2); return "_x" === i || "_y" === i && (n = p[1] - n), { item: t, text: String(t[i]), offset: n } }); h[i] = { data: l, scales: t, scaleF: a, type: o } }); var r = h._x, n = h._y; return h.points = [], r.data.forEach(function (t, e) { h.points.push({ point: [r.data[e].offset, n.data[e].offset] }) }), delete h._x, delete h._y, h }(t, n, r); !0 === (e.data = t).disabled && (e.disabled = t.disabled, delete t.disabled), i.push(e) }), i } var Tt = r(15), zt = r.n(Tt); function Ft(t, e, r) { var n = t.apply(void 0, zt()(e)); if (!1 !== n) { if (!1 === r && void 0 === n) return !1; n = Object.assign({}, r, e[0], n) } return n } function Rt(t, e) { var r = t.split(e); return r[r.length - 1] } function Lt(t) { return Object($t.isArray)(t) ? t : [t, t] } function It(t) { return { angle: 60, sides: t.map(function (t) { return 2 * t }), anchor: [1, 1], rotate: 180, translate: t } } function Nt(t) { return { angle: 90, sides: t.map(function (t) { return 2 * t }) } } function qt(t) { var e = at()(t, 2), r = e[0], n = e[1], i = { radius: 1.1 * r, angle: 5, anchor: [.5, .5] }; return r !== n && (i.innerRadius = 1.1 * n), i } function Bt(t) { var e = at()(t, 2); return { radiusX: e[0], radiusY: e[1], anchor: [.5, .5] } } function Wt(t, e) { return e ? { textures: Rt(t, "image://"), size: e } : { textures: Rt(t, "image://") } } function Gt(t, e) { var r = e && Lt(e), n = { d: Rt(t, "path://"), anchor: [.5, .5] }; return r ? q()({}, n, { scale: r }) : q()({}, n) } var $t = r(10); function Ut(t, e) { var r, n, i = x.Ellipse, o = "circle"; t && t.pointType && (o = t.pointType); var a = null; t && t.size && (a = Lt(t.size)); var s = null; if (e && e.size && (s = Lt(e.size)), o.startsWith("image://")) i = x.Sprite, r = Wt(o, a), n = Wt(o, s); else if (o.startsWith("path://")) i = x.Path, r = Gt(o, t && t.scale), n = Gt(o, e && e.scale); else switch (a = a || [3, 3], s = s || a, o) { case "triangle": r = It(a), n = It(s), i = x.Triangle; break; case "rect": r = Nt(a), n = Nt(s), i = x.Rect; break; case "star": r = qt(a), n = qt(s), i = x.Star; break; default: r = Bt(a), n = Bt(s), i = x.Ellipse }return o.startsWith("image://") || (t && delete t.size, e && delete t.size), { PointSymbol: i, normalStyle: q()({}, t, r), hoverStyle: q()({}, e, n) } } var Jt = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).renderData = [], t.$refs = Object.create(null), t.$symbols = [], t.$lines = [], t.__guideLineIndex = -1, t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { type: "line", stack: !1, smooth: !1, axisGap: !1 } } }, { key: "beforeRender", value: function () { Et()(k()(r.prototype), "beforeRender", this).call(this); var t = Vt(this.getData(), this.attr()); return t.forEach(function (t, e) { var r = Yt(t.points); Ht(t, { points: r, opacity: 1 }, { points: r, opacity: 0 }) }), this.renderData = t } }, { key: "beforeUpdate", value: function () { Et()(k()(r.prototype), "beforeUpdate", this).call(this); var t = Vt(this.getData(), this.attr()), i = this.renderData; return t.forEach(function (t, e) { var r = Yt(t.points); if (i[e]) { var n = Yt(i[e].points); !0 === i[e].disabled && !0 !== t.disabled ? Ht(t, { points: r, opacity: 1 }, { points: n, opacity: 0 }) : !0 !== i[e].disabled && !0 === t.disabled ? Ht(t, { points: r, opacity: 0 }, { points: n, opacity: 1 }) : !0 !== i[e].disabled && !0 !== t.disabled && Ht(t, { points: r, opacity: 1 }, { points: n, opacity: 1 }) } else Ht(t, { points: r, opacity: 1 }, { points: r, opacity: 0 }) }), this.renderData = t, this.$lines = [], this.$symbols = [], t } }, { key: "ref", value: function (t, e) { this.$refs[t] = e } }, { key: "bgMove", value: function (t, e) { if (void 0 !== t) { for (var r = t.offsetX, n = function (t) { for (var e = [], r = 0; r < t.length; r++)if (!0 !== t[r].disabled) { e = t[r].points; break } return e.map(function (t) { return t.point && t.point[0] }) }(this.renderData), i = n[0], o = 0, a = Math.abs(i - r), s = this.$refs.guideline, l = 1; l < n.length; l++)Math.abs(n[l] - r) < a && (a = Math.abs(n[l] - r), i = n[l], o = l); if (s && o !== this.__guideLineIndex) { s.attr({ opacity: 1, x: i }), this.$symbols.forEach(function (t) { t.forEach(function (t, e) { e !== o ? t.attr("state", "normal") : t.attr("state", "hover") }) }); var c = []; this.renderData.forEach(function (r) { r.data.forEach(function (t, e) { e === o && !0 !== r.disabled && c.push(q()({}, t.dataOrigin, { color: t.color, _value: t.__valueGetter__() })) }) }), !0 === this.attr("stack") ? c.reverse() : c.sort(function (t, e) { return e._value - t._value }), this.dataset.hoverData(q()({}, t, { data: c })), this.__guideLineIndex = o } } } }, { key: "bgLeave", value: function (t, e) { var r = this.$refs.guideline; r && (r.attr({ opacity: 0 }), this.$symbols.forEach(function (t) { t.forEach(function (t, e) { t.attr("state", "normal") }) }), this.dataset.hoverData(), this.__guideLineIndex = -1) } }, { key: "setSymbol", value: function (t, e, r) { this.$symbols[t] || (this.$symbols[t] = []), this.$symbols[t][e] = r } }, { key: "_getSymbol", value: function (t, e, r, n, i) { var o = this, a = Ft(this.style("point"), [t, r, n, i], t), s = Ut(a, Ft(this.style("point:hover"), [t, r, n, i], { scale: [1.4] })), l = s.PointSymbol, c = s.normalStyle, u = s.hoverStyle; return !1 === a ? null : getApp().qcharts.h(l, gt()({ animation: this.resolveAnimation({ from: e.from, to: e.to, duration: 200, useTween: !0 }), hoverState: u, onMouseenter: function (t, e) { e.attr("state", "hover") }, onMousemove: function (t, e) { }, onMouseleave: function (t, e) { e.attr("state", "normal"), o.chart.setCanvasCursor("default") }, actions: [{ both: ["normal", "hover"], action: { duration: 100 }, reversable: !1 }], opacity: e.opacity }, c, { ref: function (t) { return o.setSymbol(n, i, t) } })) } }, { key: "render", value: function (t) { var u = this, f = 0 < arguments.length && void 0 !== t ? t : [], e = { size: [1, this.attr("size")[1]], fillColor: "#ccc", strokeColor: "transparent", opacity: 0 }, r = Ft(this.style("guideline"), [e]); return f = f.filter(function (t) { return t.points && t.points.length }), getApp().qcharts.h(x.Group, { zIndex: 100, enableCache: !1 }, !1 === r ? null : getApp().qcharts.h(x.Rect, gt()({ ref: function (t) { return u.ref("guideline", t) } }, r)), getApp().qcharts.h(x.Group, { enableCache: !1 }, f.map(function (t, e) { var r = u.attr(), n = r.size, i = r.type, o = r.smooth, a = r.stack, s = t.data[0].color || u.color(e), l = { fillColor: Object(B.j)(s, .5), strokeColor: "transparent" }, c = u.style("area")(l, t.data.map(function (t) { return t.dataOrigin }), e); if (Object.assign(l, c), "area" === i) return getApp().qcharts.h(x.Polygon, gt()({ animation: u.resolveAnimation({ from: Xt(f, e, { size: n, smooth: o, stack: a }, "from"), to: Xt(f, e, { size: n, smooth: o, stack: a }, "to"), duration: 200, useTween: !0 }) }, l, { onMouseleave: function (t, e) { e.attr("state", "normal") }, actions: [{ both: ["normal", "hover"], action: { duration: 100 }, reversable: !1 }], onMouseenter: function (t, e) { return e.attr("state", "hover") }, hoverState: u.style("area:hover")(l, t.data.map(function (t) { return t.dataOrigin }), e) })) })), getApp().qcharts.h(x.Group, { clipOverflow: !1, enableCache: !1 }, f.map(function (r, n) { var i = r.data[0].color || u.color(n), t = { strokeColor: i, lineWidth: 2 }, e = u.style("line")(t, r.data.map(function (t) { return t.dataOrigin }), n), o = { fillColor: i }, a = u.attr().smooth; return Object.assign(t, e), getApp().qcharts.h(x.Group, { size: u.attr("size"), clipOverflow: !1, onMousemove: u.bgMove.bind(u), onMouseleave: u.bgLeave.bind(u), enableCache: !1 }, getApp().qcharts.h(x.Polyline, gt()({ ref: function (t) { return u.$lines.push(t) } }, t, { hoverState: u.style("line:hover")(t, r.data.map(function (t) { return t.dataOrigin }), n), onMouseenter: function (t, e) { return e.attr("state", "hover") }, smooth: a, onMouseleave: function (t, e) { e.attr("state", "normal") }, actions: [{ both: ["normal", "hover"], action: { duration: 100 }, reversable: !1 }], animation: u.resolveAnimation({ from: r.from, to: r.to, duration: 200, useTween: !0 }) })), r.points.map(function (t, e) { return r.data[e].color = i, u._getSymbol(o, t, r.data[e].dataOrigin, n, e) })) }))) } }, { key: "name", get: function () { return "Line" } }]), r }(it); function Vt(t, e) { return jt({ pos: e.pos, size: e.size, stack: e.stack, axisGap: e.axisGap, data: t }) } function Ht(t, i, o) { t.from = o, t.to = i, t.points.forEach(function (t, e) { var r = {}, n = {}; void 0 !== i.points && (r.pos = o.points[e], n.pos = i.points[e]), void 0 !== i.opacity && (t.opacity = r.opacity = o.opacity, n.opacity = i.opacity), void 0 === n.pos && (r.pos = n.pos = t.point), t.from = r, t.to = n }) } function Yt(t) { return t.map(function (t) { return t.point }) } function Xt(t, e, r, n) { for (var i = 0, o = 0; o < t.length; o++)if (!0 !== t[o].disabled) { i = o; break } var a = r.size, s = r.smooth, l = r.stack, c = Object.create(null), u = Zt(t, e, n); if (c.points = [].concat(u), 0 === u.length) return c; if (e === i || !1 === l) { !0 === s && (c.smooth = [1, u.length]); var f = a[1]; c.points.unshift([u[0][0], f]), c.points.push([u[u.length - 1][0], f]) } else { var h = Zt(t, e - 1, n); !0 === s && (c.smooth = [[0, u.length - 1], [u.length, u.length + h.length - 1]]), c.points = u.concat(h.reverse()) } return c } function Zt(t, e, r) { var n = t[e]; return void 0 === n ? [] : !0 === n.disabled ? Zt(t, e - 1, r) : n.points.map(function (t) { return t[r].pos || t.point }) } function Qt(t, e) { return [Math.cos(t) * e, Math.sin(t) * e] } var Kt = r(14), te = r.n(Kt), ee = r(18); function re(t, o, e, r, n) { var a = [], i = [], s = [], l = []; if (t.some(function (t) { return 0 === t.length })) return { sectionAttrs: l, axisAttrs: s, gridAttrs: i }; for (var c = function (t, e) { var r = Math.max.apply(Math, zt()(t)); return 10 * Math.ceil(r / 10 / e) * e }(t.filter(function (t) { return !t[0].disabled }).reduce(function (t, e) { var r = e.map(function (t) { return t.__valueGetter__() }); return t.concat(r) }, []), e), u = t[0].length, f = 2 * Math.PI / u, h = Math.PI / 180 * r, d = 0; d < u; d++) { var p = d * f + h, v = Qt(p, o); a.push({ point: v, radian: p }); var m = Qt(p, o + n), y = t[0][d].__textGetter__(), g = t.every(function (t) { return t[0].disabled }); s.push({ points: [[0, 0], v], lineWidth: 1, lineDash: [3, 2], strokeColor: "#DDE0E5", label: y, labelPos: m, radian: p, maxScale: c, splitNumber: e, $elType: "axis", disabled: g }) } t.forEach(function (t, e) { var r = t.map(function (t, e) { var r = t.__valueGetter__(), n = a[e].radian; return Qt(n, r / c * o) }), n = t.map(function (t) { return t.dataOrigin }), i = t[0].disabled; l.push({ points: r, index: e, dataOrigin: n, disabled: i, close: !0, $elType: "section" }) }); for (var b = a.map(function (t) { return t.point }), k = 0; k < e; k++) { var w = 1 - k / e; i.push({ scale: w, radius: o, points: b, index: k, opacity: 1, lineWidth: 1, strokeColor: "#DDE0E5", close: !0, $elType: "grid" }) } return { sectionAttrs: l, axisAttrs: s, gridAttrs: i } } var ne = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).$areaEl = [], t.$pointEl = [], t.$axisEl = [], t.$gridEl = [], t.$labelEl = [], t.$scaleEl = [], t.isUpdate = !1, t.lastGridAttr = [], t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { size: ["100%", "100%"], pos: [0, 0], padding: [0, 0, 0, 0], gridType: "polygon", splitNumber: 4, startAngle: 270, radius: .6, labelOffset: 7 } } }, { key: "_layout", value: function () { var i = this, t = this.getData(), e = this.len, r = this.attr(), n = re(t, e, r.splitNumber, r.startAngle, r.labelOffset), o = n.sectionAttrs, a = n.axisAttrs, s = n.gridAttrs; o.forEach(function (t, e) { var r = i.color(e), n = Object(ee.a)(r, .3); t.strokeColor = r, t.fillColor = n }); for (var l = o.length; l < this.$areaEl.length; l++)this.$areaEl[l] = null; return { sectionAttrs: o, axisAttrs: a, gridAttrs: s } } }, { key: "getEl", value: function (t, e, r) { e && (this["$".concat(r, "El")][t] = e) } }, { key: "showTooltip", value: function (t, e) { this.chart.setCanvasCursor("pointer"), this.dataset.hoverData(q()({ data: { color: e.fillColor, data: e.dataOrigin } }, t)) } }, { key: "hideTooltip", value: function () { this.dataset.hoverData(null) } }, { key: "beforeUpdate", value: function () { return Et()(k()(r.prototype), "beforeUpdate", this).call(this), this.isUpdate = !0, this._layout() } }, { key: "beforeRender", value: function () { return Et()(k()(r.prototype), "beforeRender", this).call(this), this._layout() } }, { key: "update", value: function () { this.forceUpdate() } }, { key: "_getScaleAnimation", value: function (t) { return { from: { scale: 0 }, to: { scale: t } } } }, { key: "_getStyle", value: function (t, e, r, n) { var i = this; return { style: this.style(t)(e, r, n), hoverState: this.style("".concat(t, ":hover"))(e, r, n), onMouseenter: function (t, e) { return e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal"), i.chart.setCanvasCursor("default") } } } }, { key: "_isSamePoints", value: function (t, e) { return t.toString() === e.toString() } }, { key: "_getPolylineAnimation", value: function (t, e) { var r = t, n = this._getScaleAnimation(1), i = this.$areaEl[e]; if (i) { var o = t.points, a = te()(t, ["points"]), s = i.attr().points; this._isSamePoints(s, o) ? n = {} : (n = { from: { points: s }, to: { points: o }, useTween: !0 }, r = a) } return { attr: r, animation: n } } }, { key: "createBgGridEl", value: function (t, e) { var i = this; return getApp().qcharts.h(e, gt()({}, t, { strokeColor: "transparent", onMousemove: function (n, t) { Promise.resolve().then(function (t) { var e = n.targetSprites; if (e) { var r = e.filter(function (t) { return "section" === t.attr("$elType") }).sort(function (t, e) { return e.attr("zIndex") - t.attr("zIndex") }); 0 < r.length ? (i.$areaEl.forEach(function (t) { t && t.attr("state", "normal") }), r[0].attr("state", "hover"), i.showTooltip(n, r[0].attr())) : (i.$areaEl.forEach(function (t) { t && "normal" !== t.attr("state") && t.attr("state", "normal") }), i.hideTooltip(), i.chart.setCanvasCursor("default")) } }) } })) } }, { key: "renderGrid", value: function (t) { var a = this; 0 !== t.length ? this.lastGridAttr = t : t = this.lastGridAttr; var e = this.attr().gridType, s = x.Polyline, l = [0, 0]; "circle" === e && (s = x.Circle, l = [.5, .5]); var r = t.map(function (t, e) { var r = a.isUpdate ? {} : a._getScaleAnimation(t.scale), n = a._getStyle("grid", t, null, e), i = n.style, o = te()(n, ["style"]); if (!1 !== i) return getApp().qcharts.h(s, gt()({ ref: function (t) { return a.getEl(e, t, "grid") }, anchor: l }, t, i, o, { animation: a.resolveAnimation(r) })) }), n = this.createBgGridEl(t[0], s); return r.push(n), r } }, { key: "renderAxis", value: function (t) { var o = this, a = this.isUpdate ? {} : this._getScaleAnimation(1); return t.map(function (t, e) { if (!t.disabled) { var r = o._getStyle("axis", t, { text: t.label }, e), n = r.style, i = te()(r, ["style"]); if (!1 !== n) return getApp().qcharts.h(x.Group, { clipOverflow: !1, size: [1, 1] }, getApp().qcharts.h(x.Polyline, gt()({ ref: function (t) { return o.getEl(e, t, "axis") } }, t, n, i, { animation: o.resolveAnimation(a) })), o._renderAxisLabel(t, e), o._renderAxisScale(t, e)) } }) } }, { key: "_renderAxisLabel", value: function (t, e) { var r, n = this, i = t.label, o = t.labelPos, a = t.radian, s = { text: i, pos: o, color: "#67728C", radian: a, anchor: (r = a, [.5 - Math.cos(r), .5 - Math.sin(r)]), font: "12px 宋体" }, l = this.isUpdate ? {} : this._getScaleAnimation(1), c = this._getStyle("label", s, { text: s.label, radian: a }, e), u = c.style, f = te()(c, ["style"]); if (!1 !== u) return getApp().qcharts.h(x.Label, gt()({ ref: function (t) { return n.getEl(e, t, "label") } }, s, u, f, { animation: this.resolveAnimation(l) })) } }, { key: "_renderAxisScale", value: function (o, a) { for (var t, e, r, n, i, s = this, l = (e = (t = o).points, r = t.splitNumber, n = t.maxScale, [[(i = at()(e[1], 2))[0] / r, i[1] / r], n / r]), c = at()(l, 2), u = at()(c[0], 2), f = u[0], h = u[1], d = c[1], p = [], v = { font: '12px "宋体"', anchor: [1, .5], translate: [-5, 0], display: 0 === a ? "block" : "none" }, m = 0; m < o.splitNumber + 1; m++) { var y = [f * m, h * m], g = d * m, b = q()({ text: g, color: "#67728C", pos: y }, v), k = this._getStyle("scale", b, { text: g, index: a }, m), w = k.style, E = te()(k, ["style"]); if (!1 === w) return; "none" !== b.display && function () { var e = a * o.splitNumber + m, t = s.$scaleEl[e], r = s.isUpdate ? {} : { from: { pos: [0, 0] }, to: { pos: y } }; if (t) { var n = t.attr().text, i = Number(n); i !== g && (r = { from: { text: i }, to: { text: g }, attrFormatter: function (t) { return t.text = t.text.toFixed(0), t }, useTween: !0 }) } p.push(getApp().qcharts.h(x.Label, gt()({ ref: function (t) { return s.getEl(e, t, "scale") } }, b, w, E, { animation: s.resolveAnimation(r) }))) }() } return p } }, { key: "renderSection", value: function (t) { var u = this; return t.map(function (t, e) { if (t.disabled) u.$areaEl[e] = null; else { var r = u._getPolylineAnimation(t, e).animation, n = u._getStyle("section", t, q()({}, t.dataOrigin), e), i = n.style, o = n.hoverState, a = te()(n, ["style", "hoverState"]); if (!1 !== i) { var s = o; if (!o) { s = {}; var l = t.lineWidth, c = void 0 === l ? 1 : l; s.lineWidth = c + 1 } return getApp().qcharts.h(x.Polyline, gt()({ ref: function (t) { return u.getEl(e, t, "area") }, zIndex: 9 + e, animation: u.resolveAnimation(r) }, t, i, { hoverState: s }, a)) } } }) } }, { key: "renderPoints", value: function (d) { var p = this; return d.map(function (t, c) { if (!t.disabled) { var u, e = t.points, f = t.dataOrigin, h = t.strokeColor; return p.$areaEl[c] && (u = p.$areaEl[c].attr().points), e.map(function (t, e) { var r = { fillColor: h, strokeColor: h, radius: 3, dataOrigin: f[e], anchor: [.5, .5] }, n = { from: { pos: [0, 0] }, to: { pos: t } }; u && u[e] && (p._isSamePoints(u[e], t) ? (n = {}, r.pos = t) : (n.from.pos = u[e], n.useTween = !0)); var i = p.style("point")(r, q()({}, r.dataOrigin), e); if (!1 !== i) { var o = Ut(i, p.style("point:hover")(r, r.dataOrigin, e)), a = o.PointSymbol, s = o.normalStyle, l = o.hoverStyle; return getApp().qcharts.h(a, gt()({ ref: function (t) { return p.getEl(c * d.length + e, t, "point") } }, q()({}, r, { $elType: "point" }), { animation: p.resolveAnimation(n) }, s, { hoverState: l, onMouseenter: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") } })) } }) } }).reduce(function (t, e) { return t.concat(e) }, []) } }, { key: "render", value: function (t) { var e = t.sectionAttrs, r = t.axisAttrs, n = t.gridAttrs, i = this.center, o = this.padding, a = this.attr().size; return getApp().qcharts.h(x.Group, { size: a, padding: o, zIndex: 100, clipOverflow: !1 }, getApp().qcharts.h(x.Group, { pos: i, clipOverflow: !1 }, this.renderGrid(n), this.renderAxis(r), this.renderSection(e), this.renderPoints(e))) } }, { key: "name", get: function () { return "Radar" } }, { key: "padding", get: function () { var t = this.attr().padding, e = 0, r = 0, n = 0, i = 0; if (Object($t.isNumber)(t)) e = r = n = i = t; else if (Object($t.isArray)(t)) if (2 === t.length) e = n = t[0], r = i = t[1]; else { var o = [].concat(zt()(t), [0, 0, 0, 0]); e = o[0], r = o[1], n = o[2], i = o[3] } return [e, r, n, i] } }, { key: "center", get: function () { var t = this.attr().size, e = at()(t, 2); return [e[0] / 2, e[1] / 2] } }, { key: "len", get: function () { var t = this.attr().radius; return Math.min.apply(Math, zt()(this.center)) * t } }]), r }(it); var ie = function (t) { function a() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, a), (t = g()(this, k()(a).call(this, e))).$pillars = [], t.chartSize = [], t } return E()(a, t), h()(a, [{ key: "getDefaultAttrs", value: function () { return { type: "Bar", stack: !1, transpose: !1, barWidth: 0, mouseDisabled: !1 } } }, { key: "transform", value: function (n) { var i = this; if (!n || 0 === n.length) return { barData: [], groupData: [] }; var o = 1 < n.length ? n.length : n[0].length; this.legendArr = Array.from({ length: n.length }, function () { return 1 }); var t = function (t) { var e = t.data, r = t.barSize, n = t.transpose, i = t.stack, o = t.barWidth, a = [], s = [], l = { opacity: 1e-5, bgcolor: "#000" }, c = Object(B.a)({ dataSet: e, stack: i }); if (!c || !c.length) return { barData: a, groupData: s }; var u = n ? { label: r[1], value: r[0] } : { label: r[0], value: r[1] }, f = Math.max.apply(this, c), h = Math.min.apply(this, c), d = f / (f - h), p = function (t) { for (var e = 0, r = 0, n = t.length; r < n; r++)!0 !== t[r][0].disabled && e++; return e || 1 }(e), v = e[0].length, m = 0; m = 0 === o ? (o = i ? .5 * u.label / v : .5 * u.label / (v * p), i ? o : o * p) : i ? (u.label - o * v) / v : (u.label - o * p * v) / v; var y = u.value / (f - h); if (i) for (var g = 0, b = v; g < b; g++) { for (var k = 0, w = 0, E = 0, x = { rects: [] }, A = 0, _ = e.length; A < _; A++) { !0 !== e[A][g].disabled && (e[A][g].disabled = !1), E = e[A][g].__valueGetter__(); var O = y * Math.abs(E), C = E < 0 ? u.value * d + w : u.value * d - k, P = E < 0 ? u.value * (1 - d) - w : u.value * (1 - d) + k, S = E < 0 ? u.value * d + w + O : u.value * d - k, D = q()({ anchor: [n && E < 0 ? 1 : 0, n || E < 0 ? 0 : 1], size: n ? [O, o] : [o, O], pos: n ? [P, m / 2 + (o + m) * g] : [m / 2 + (o + m) * g, C], index: A, labelAttrs: { opacity: e[A][g].disabled ? 0 : 1, text: E, anchor: n ? E < 0 ? [1, .5] : [0, .5] : [.5, 1], pos: n ? [P, +(m + o) / 2 + (o + m) * g] : [(m + o) / 2 + (o + m) * g, S] } }, e[A][g]); D.disabled ? D.size = n ? [0, D.size[1]] : [D.size[0], 0] : (E < 0 ? w += O : k += O, x.rects.push(D)), a.push(D) } x = Object.assign(x, q()({ pos: n ? [0, (m + o) * g] : [(m + o) * g, 0], size: n ? [u.value, o + m] : [o + m, u.value] }, l)), s.push(x) } else for (var M = 0, j = v; M < j; M++) { for (var T = 0, z = 0, F = { rects: [] }, R = 0, L = e.length; R < L; R++) { !0 !== e[R][M].disabled && (e[R][M].disabled = !1), z = e[R][M].__valueGetter__(); var I = y * Math.abs(z), N = q()({ anchor: [n && z < 0 ? 1 : 0, n || z < 0 ? 0 : 1], size: n ? [I, o - 1] : [o - 1, I], pos: n ? [u.value * (1 - d), m / 2 + o * (R - T) + (o * p + m) * M] : [m / 2 + o * (R - T) + (o * p + m) * M, u.value * d], labelAttrs: { opacity: e[R][M].disabled ? 0 : 1, text: z, anchor: [n && z < 0 ? 1 : 0, .5], pos: n ? [u.value * (1 - d), m / 2 + o * (R - T) + (o * p + m) * M + .5 * o] : [m / 2 + o * (R - T) + (o * p + m) * M + .5 * o, u.value * d], rotate: n ? 0 : z < 0 ? 90 : 270 } }, e[R][M]); N.disabled ? (N.size = n ? [0, N.size[1]] : [N.size[0], 0], T++) : F.rects.push(N), a.push(N) } F = Object.assign(F, q()({ pos: n ? [0, (m + o * p) * M] : [(m + o * p) * M, 0], size: n ? [u.value, o * p + m] : [o * p + m, u.value] }, l)), s.push(F) } return { barData: a, groupData: s } }({ data: n, barSize: this.attr("size"), barWidth: this.attr("barWidth"), stack: this.attr("stack"), transpose: this.attr("transpose") }); return t.barData.forEach(function (t, e) { t.fillColor = t.fillColor || i.color(e % o), t.dataOrigin = 1 < n.length ? Object(B.c)(n[e % o][Math.floor(e / o)]) : Object(B.c)(n[Math.floor(e / o)][e % o]), t.index = e; var r = i.style("pillar")(t, t.dataOrigin, t.index); Object.assign(t, r), t.strokeColor = t.fillColor }), t.groupData.forEach(function (t, e) { t.index = e }), t } }, { key: "beforeRender", value: function () { var r = this; Et()(k()(a.prototype), "beforeRender", this).call(this); var t = this.getData(), e = this.transform(t); return this.pillars = e.barData, this.fromTos = this.pillars.map(function (t, e) { return { from: { size: r.attr("transpose") ? [0, t.size[1]] : [t.size[0], 0] }, to: { size: t.size } } }), e } }, { key: "beforeUpdate", value: function () { var n = this; Et()(k()(a.prototype), "beforeUpdate", this).call(this); var t = this.getData(), i = this.pillars, o = this.transform(t); return this.fromTos = o.barData.map(function (t, e) { var r = i[e] ? i[e] : o.barData[e - 1]; return { from: { size: (r = r || { size: [0, 0], pos: t.pos, labelAttrs: null }).disable ? n.attr("transpose") ? [0, r.size[1]] : [r.size[0], 0] : r.size, pos: r.pos }, to: { size: t.size, pos: t.pos }, textFrom: { pos: r.labelAttrs && r.labelAttrs.pos ? r.labelAttrs.pos : t.labelAttrs.pos }, textTo: { pos: t.labelAttrs.pos } } }), this.pillars = o.barData, o } }, { key: "showTooltip", value: function (t, e) { t.data = e, this.dataset.hoverData(q()({}, t, { data: e })) } }, { key: "hideTooltip", value: function () { this.dataset.hoverData(null) } }, { key: "render", value: function (t) { var o = this; return getApp().qcharts.h(x.Group, { zIndex: 100, enableCache: !1 }, getApp().qcharts.h(x.Group, null, t.groupData.map(function (r, t) { var e = o.style("backgroundPillar")(r, r.dataOrigin, r.index); if (!1 !== e) return getApp().qcharts.h(x.Sprite, gt()({}, r, e, { hoverState: Object.assign({ opacity: .05 }, o.style("backgroundpillar:hover")(r, r.dataOrigin, r.index)), onMouseenter: function (t, e) { return !o.attr("mouseDisabled") && e.attr("state", "hover") }, onMousemove: function (t, e) { o.attr("mouseDisabled") || o.showTooltip(t, r.rects) }, onMouseleave: function (t, e) { o.attr("mouseDisabled") || (o.hideTooltip(), e.attr("state", "normal")) } })) })), getApp().qcharts.h(x.Group, null, t.barData.map(function (t, e) { var r = o.fromTos[e], n = r.from, i = r.to; return getApp().qcharts.h(x.Group, { enableCache: !1 }, getApp().qcharts.h(x.Rect, gt()({}, t, n, { animation: o.resolveAnimation({ from: n, to: i, duration: 300, delay: 0, attrFormatter: function (t) { return Object.assign(t, { size: [Math.round(t.size[0]), Math.round(t.size[1])] }) }, useTween: !0 }), hoverState: o.style("pillar:hover")(t, t.dataOrigin, t.index), onMouseenter: function (t, e) { return !o.attr("mouseDisabled") && e.attr("state", "hover") }, onMouseleave: function (t, e) { o.attr("mouseDisabled") || e.attr("state", "normal") } })), function (r, t) { var e = t.labelAttrs, n = t.dataOrigin, i = t.index; if (t.disabled) return null; var o = r.style("text")(t, n, i); if (o) { var a = r.fromTos[t.index], s = a.textFrom, l = a.textTo; return getApp().qcharts.h(x.Label, gt()({}, e, Object(B.n)(o) ? {} : o, s, { animation: r.resolveAnimation({ from: s, to: l, duration: 300, delay: 0, useTween: !0 }), onMousemove: function (t, e) { return !r.attr("mouseDisabled") && e.attr("state", "hover") }, onMouseleave: function (t, e) { return !r.attr("mouseDisabled") && e.attr("state", "normal") }, hoverState: r.style("text:hover")(t, t.dataOrigin, t.index) })) } }(o, t)) }))) } }, { key: "name", get: function () { return this.attr("type") } }]), a }(it), oe = function (t) { function e() { return u()(this, e), g()(this, k()(e).apply(this, arguments)) } return E()(e, t), h()(e, [{ key: "getDefaultAttrs", value: function () { var t = Et()(k()(e.prototype), "getDefaultAttrs", this).call(this); return Object.assign(t, { type: "area", stack: !0 }) } }]), e }(Jt); function ae() { return function (t) { for (var e = t.data, r = t.size, n = t.align, i = t.pyramid, o = [], a = e[0][0].__valueGetter__(), s = r[0] / a, l = function (t) { for (var e = 0, r = 0, n = t.length; r < n; r++)!0 !== t[r][0].disabled && e++; return e || 1 }(e), c = 0, u = 0, f = e.length; u < f; u++) { var h = { points: [] }, d = e[u][0].__valueGetter__(), p = 0, v = [0, .5]; if ("center" === n ? (v = [.5, .5], p = .5) : "right" === n && (v = [p = 1, .5]), h.points.push([(a - d) * p * s, r[1] * (u - c) / l]), h.points.push([(a * p + d * (1 - p)) * s, r[1] * (u - c) / l]), u - c + 1 < l) { for (var m = 1; !0 === e[u + m][0].disabled;)m++; var y = e[u + m][0].__valueGetter__(); h.points.push([(a * p + y * (1 - p)) * s, r[1] * (u - c + 1) / l]), h.points.push([(a - y) * p * s, r[1] * (u - c + 1) / l]) } else i ? h.points.push([p * r[0], r[1]]) : (h.points.push([(a * p + d * (1 - p)) * s, r[1] * (u - c + 1) / l]), h.points.push([(a - d) * p * s, r[1] * (u - c + 1) / l])); h.opacity = 1, !0 === e[u][0].disabled && (h.points[3] = h.points[0], h.points[2] = h.points[1], h.opacity = 0, c++), h.labelAttrs = { opacity: e[u][0].disabled ? 0 : 1, text: Math.round(100 * d / a) + "%", anchor: v, pos: [r[0] * p + 10 * (.5 - p), (u - c + .5) * r[1] / l], fillColor: "#FFF", fontSize: "12px" }, o.push(h) } return o } } var se = new WeakMap, le = new WeakMap; function ce(t) { return 0 === t.length ? [0, 1] : [Math.min.apply(Math, zt()(t)), Math.max.apply(Math, zt()(t))] } function ue(t) { if (0 === t.length) return [0, 1]; var e = ce(t), r = at()(e, 2), n = r[0], i = r[1]; return [10 * (Math.round(n / 10) - 1), 10 * (Math.round(i / 10) + 1)] } function fe(t, e) { var r = e.min, n = e.max; Object($t.isNumber)(r) && (t[0] = r), Object($t.isNumber)(n) && (t[1] = n) } var he = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).$polygons = [], t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { formatter: function (t) { return t.__textGetter__() || t }, type: "Funnel", align: "center", pyramid: !1 } } }, { key: "transform", value: function (n) { var i = this, o = n && 1 < n.length ? n.length : n[0].length; this.legendArr = Array.from({ length: n.length }, function () { return 1 }); var t = { data: n, size: this.attr("size"), align: this.attr("align"), pyramid: this.attr("pyramid") }, e = ae()(t); return e.forEach(function (t, e) { t.align = i.attr("align"), t.pyramid = i.attr("pyramid"), t.fillColor = t.bgcolor || i.color(e % o), t.dataOrigin = 1 < n.length ? Object(B.c)(n[e % o][Math.floor(e / o)]) : Object(B.c)(n[Math.floor(e / o)][e % o]), t.index = e; var r = i.style("polygon")(t, t.dataOrigin, t.index); Object.assign(t, r) }), e } }, { key: "beforeRender", value: function () { Et()(k()(r.prototype), "beforeRender", this).call(this); var t = this.getData(), e = this.transform(t); return this.polygons = e, this.fromTos = this.polygons.map(function (t, e) { return { from: { points: 4 === t.points.length ? [t.points[3], t.points[2], t.points[2], t.points[3]] : [t.points[2], t.points[2], t.points[2]] }, to: { points: t.points } } }), e } }, { key: "beforeUpdate", value: function () { Et()(k()(r.prototype), "beforeUpdate", this).call(this); var t = this.getData(), n = this.polygons, i = this.transform(t); return this.fromTos = i.map(function (t, e) { var r = n[e] ? n[e] : i[e - 1]; return { from: { points: (r = r || { points: t.points, labelAttrs: null }).points }, to: { points: t.points }, textFrom: { pos: r.labelAttrs && r.labelAttrs.pos ? r.labelAttrs.pos : t.labelAttrs.pos }, textTo: { pos: t.labelAttrs.pos } } }), this.polygons = i } }, { key: "showTooltip", value: function (t, e) { t.data = e, this.dataset.hoverData(q()({}, t, { data: e })) } }, { key: "hideTooltip", value: function () { this.dataset.hoverData(null) } }, { key: "withText", value: function (t) { var r = this, e = t.labelAttrs, n = t.dataOrigin, i = t.index; if (!t.disabled) { var o = this.style("text")(t, n, i); if (!1 !== o) { var a = this.fromTos[i], s = a.textFrom, l = a.textTo; return getApp().qcharts.h(x.Label, gt()({}, e, Object(B.n)(o) ? {} : o, s, { animation: this.resolveAnimation({ from: s, to: l, duration: 300, delay: 0, useTween: !0 }), onMousemove: function (t, e) { return !r.attr("mouseDisable") && e.attr("state", "hover") }, onMouseleave: function (t, e) { return !r.attr("mouseDisable") && e.attr("state", "normal") }, hoverState: this.style("text:hover")(t, t.dataOrigin, t.index) })) } } } }, { key: "render", value: function (t) { var o = this; return getApp().qcharts.h(x.Group, null, t.map(function (r, t) { var e = o.fromTos[t], n = e.from, i = e.to; return getApp().qcharts.h(x.Group, { clipOverflow: !1 }, getApp().qcharts.h(x.Polygon, gt()({}, r, n, { animation: o.resolveAnimation({ from: n, to: i, duration: 300, delay: 0, useTween: !0 }), hoverState: Object.assign({}, o.style("polygon:hover")(r, r.dataOrigin, r.index)), onMouseenter: function (t, e) { return !o.attr("mouseDisable") && e.attr("state", "hover") }, onMousemove: function (t, e) { o.attr("mouseDisable") || o.showTooltip(t, Object.assign({ color: r.fillColor }, r.dataOrigin)) }, onMouseleave: function (t, e) { o.attr("mouseDisable") || (o.hideTooltip(), e.attr("state", "normal")) } })), o.withText(r), function (t, e, r) { if (!0 === e.dataOrigin.disabled) return null; var n = t.style("guideLine")(e, e.dataOrigin, e.index), i = t.style("guideText")(e, e.dataOrigin, e.index); if (!n && !i) return null; var o = "right" !== e.align, a = function (t, e, r) { var n, i, o = t.points; i = e ? (n = (o[1][0] + o[2][0]) / 2 + 10, (o[1][1] + o[2][1]) / 2) : (n = (o[0][0] + (3 === o.length ? o[2][0] : o[3][0])) / 2 - 10, (o[0][1] + (3 === o.length ? o[2][1] : o[3][1])) / 2); return { points: [[n, i], [e ? n + (r || 40) : n - (r || 40), i]] } }(e, o, n && n.length).points, s = Object.assign({ points: a, color: "#EDEFF1" }, Object(B.n)(n) ? {} : n), l = Object.assign({ color: "#000", fontSize: "12px", text: r(e.dataOrigin) || e.dataOrigin.__textGetter__() + e.dataOrigin.__valueGetter__(), pos: [a[1][0] + (o ? 10 : -10), a[1][1]], anchor: [o ? 0 : 1, .5] }, Object(B.n)(i) ? {} : i); return getApp().qcharts.h(x.Group, { clipOverflow: !1, size: [1, 1] }, n ? getApp().qcharts.h(x.Polyline, { ref: function (t) { se.get(t) ? t.animate([se.get(t), s], { duration: 300, fill: "forwards" }).finished.then(function () { return t.attr(s) && se.set(t, s) }) : (t.attr(s), se.set(t, s)) }, onMousemove: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") }, hoverState: t.style("guideLine:hover")(e, e.dataOrigin, e.index) }) : null, i ? getApp().qcharts.h(x.Label, { ref: function (t) { le.get(t) ? t.animate([le.get(t), l], { duration: 300, fill: "forwards" }).finished.then(function () { return t.attr(l) && le.set(t, l) }) : (t.attr(l), le.set(t, l)) }, onMousemove: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") }, hoverState: t.style("guideText:hover")(e, e.dataOrigin, e.index) }) : null) }(o, r, o.attr("formatter"))) })) } }, { key: "name", get: function () { return this.attr("type") } }]), r }(it); var de = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).$scatterEl = {}, t.$guideLineEl = [], t._attr = e, t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { labelField: null, areaField: null, areaRange: null, showGuideLine: !1, layoutWay: null } } }, { key: "_layout", value: function () { var i = this, t = this.getData(), e = this.dataset._attrs, r = this.attr().size, n = this._attr.layoutWay, o = function (t, e, r, n) { var i = at()(r, 2), o = i[0], a = i[1], s = e.text, l = e.value, c = t.reduce(function (t, e) { return t.concat(e.filter(function (t) { return !t.disabled })) }, []), u = ue(c.map(function (t) { return t[s] })), f = ue(c.map(function (t) { return t[l] })); n && (n[s] && fe(u, n[s]), n[l] && fe(f, n[l])); var h = Object(B.a)({ dataSet: t, stack: !1, field: s, section: u }), d = Object(B.a)({ dataSet: t, stack: !1, field: l, section: f }), p = ce(h), v = ce(d), m = {}; m[s] = { min: u[0], max: u[1] }, m[l] = { min: f[0], max: f[1] }; var y = Object(St.a)().domain(p).range([0, o]), g = Object(St.a)().domain(v).range([0, a]); return { data: t.map(function (t) { return t.map(function (t) { var e = t.__textGetter__(), r = t.__valueGetter__(); return { pos: [y(e), a - g(r)], radius: 4, anchor: [1, 1], dataOrigin: t.dataOrigin, disabled: t.disabled } }) }), layoutWay: m } }(t, e, r, n), a = o.data, s = o.layoutWay; return this.attr("layoutWay", q()({}, n, s)), a.forEach(function (t, e) { var r = i.color(e), n = Object(ee.a)(r, .3); t.forEach(function (t) { t.strokeColor = r, t.fillColor = n }) }), a } }, { key: "getEl", value: function (t, e, r) { e && (this["$".concat(r, "El")][t] = e) } }, { key: "showTooltip", value: function (t, e) { var i = this; if (this.chart.setCanvasCursor("pointer"), this.dataset.hoverData(q()({ data: q()({ color: e.fillColor }, e.dataOrigin) }, t)), this.attr().showGuideLine) { var r = t.x, n = t.y, o = this.attr().size, a = this.$group.pointToOffset(r, n).map(Math.round), s = at()(a, 2), l = s[0], c = s[1]; this.$guideLineEl.forEach(function (t, e) { var r = i.style("guideline")(e); if (!1 !== r) { t.attr(r); var n = 0 === e ? [[0, c], [o[0], c]] : [[l, 0], [l, o[1]]]; t.attr("points", n) } }) } } }, { key: "hideTooltip", value: function () { this.dataset.hoverData(null), this.attr().showGuideLine && this.$guideLineEl.forEach(function (t) { return t.attr("points", [[0, 0], [0, 0]]) }) } }, { key: "beforeUpdate", value: function () { return Et()(k()(r.prototype), "beforeUpdate", this).call(this), this._layout() } }, { key: "beforeRender", value: function () { return Et()(k()(r.prototype), "beforeRender", this).call(this), this.$scatterEl = {}, this._layout() } }, { key: "update", value: function () { this.forceUpdate() } }, { key: "getRealRadius", value: function (t) { var e = this.attr(), r = e.areaRange, n = e.areaField, i = t.radius, o = t.dataOrigin; if (!n || !o.hasOwnProperty(n)) return i; if (!r) return o[n]; var a = this.dataset.dataOrigin.map(function (t) { return t[n] }).sort(function (t, e) { return t - e }); return Object(St.a)().domain([a[0], a[a.length - 1]]).range(r)(o[n]) } }, { key: "renderLabel", value: function (t, e, r, n) { var i = this.attr().labelField, o = t.dataOrigin, a = this.style("label")(t, q()({}, t.dataOrigin), n); if (!1 !== a && (i && o.hasOwnProperty(i) || a)) { var s = t.strokeColor, l = te()(t, ["strokeColor"]), c = e.size, u = e.lineWidth, f = void 0 === u ? 0 : u, h = o[i], d = a && a.text || h, p = [0, 0]; return 2 * c - f < 1.3 * this.chart.layer.context.measureText(d).width && (p[1] = c + f + 10), getApp().qcharts.h(x.Label, gt()({}, q()({}, l, { fillColor: s, text: h, translate: p, anchor: [.5, .5], fontSize: "12px" }), { animation: this.resolveAnimation(r) }, a, { hoverState: this.style("label:hover")(t, t.dataOrigin, n), onMouseenter: function (t, e) { e.attr("state", "hover") }, onMouseleave: function (t, e) { e.attr("state", "normal") } })) } } }, { key: "renderGuideLine", value: function () { for (var r = this, n = [], i = { points: [[0, 0], [0, 0]], strokeColor: "#ddd", lineWidth: 1 }, t = function (e) { var t = 0 === e ? "horizontal" : "vertical "; n.push(getApp().qcharts.h(x.Polyline, gt()({ ref: function (t) { return r.getEl(e, t, "guideLine") } }, i, { guideLineType: t, translate: [.5, .5] }))) }, e = 0; e < 2; e++)t(e); return n } }, { key: "renderScatter", value: function (t) { var v = this, m = this.dataset._attrs.row; return t.map(function (t, p) { return t.map(function (r, t) { var e = m ? r.dataOrigin[m] : "*", n = "".concat(e).concat(t); if (r.disabled) v.$scatterEl[n] = null; else { var i = v.getRealRadius(r), o = v.style("point")(r, q()({}, r.dataOrigin), t); if (!1 !== o) { o = q()({ size: i }, o); var a = v.style("point:hover")(r, r.dataOrigin, t); a || (a = { size: r.radius + 1 }, o && (Object($t.isNumber)(o.scale) ? a.scale = 1.2 * o.scale : Object($t.isNumber)(o.size) ? a.size = 1.2 * o.size : Object($t.isArray)(o.size) && (a.size = o.size.map(function (t) { return 1.2 * t })))); var s = Ut(o, a), l = s.PointSymbol, c = s.normalStyle, u = s.hoverStyle, f = v.$scatterEl[n], h = { from: { scale: 0 }, to: { scale: 1 } }; if (f) { var d = f.attr("pos"); h = d.toString() !== r.pos.toString() ? { from: { pos: d }, to: { pos: r.pos } } : {} } return getApp().qcharts.h(x.Group, { clipOverflow: !1 }, getApp().qcharts.h(l, gt()({ ref: function (t) { return v.getEl(n, t, "scatter") }, animation: v.resolveAnimation(h) }, r, c, { hoverState: u, onMouseenter: function (t, e) { e.attr("state", "hover") }, onMousemove: function (t, e) { v.showTooltip(t, q()({}, r), e) }, onMouseleave: function (t, e) { e.attr("state", "normal"), v.hideTooltip(), v.chart.setCanvasCursor("default") } })), v.renderLabel(r, c, h, p)) } } }) }).reduce(function (t, e) { return t.concat(e) }, []) } }, { key: "render", value: function (t) { var e = this.attr().size, r = this.padding; return getApp().qcharts.h(x.Group, { size: e, padding: r, zIndex: 100, clipOverflow: !1 }, this.renderScatter(t), this.renderGuideLine()) } }, { key: "name", get: function () { return "Scatter" } }, { key: "padding", get: function () { var t = this.attr().padding, e = void 0 === t ? [0, 0, 0, 0] : t, r = 0, n = 0, i = 0, o = 0; if (Object($t.isNumber)(e)) r = n = i = o = e; else if (Object($t.isArray)(e)) if (2 === e.length) r = i = e[0], n = o = e[1]; else { var a = [].concat(zt()(e), [0, 0, 0, 0]); r = a[0], n = a[1], i = a[2], o = a[3] } return [r, n, i, o] } }]), r }(it); var pe = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).animations = [], t.style("tickText", !0), t.style("tickLine", !0), t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { min: 0, max: 1, lineCap: "round", lineWidth: 8, startAngle: .8 * Math.PI, endAngle: 2.2 * Math.PI, strokeBgcolor: "#dde3ea", hoverBg: "#f8f8f8", title: function (t) { return t }, subTitle: function (t) { return t }, tickStep: .1, tickLength: 5, labelOffset: 5, tickFormatter: function (t) { return t } } } }, { key: "transform", value: function (t) { var o = this, e = this.attr(), a = e.startAngle, s = e.endAngle, r = e.min, n = e.max, l = Math.abs(n - r), c = this.radius; return t.reduce(function (t, e, r) { var n = e.__valueGetter__(), i = { dataOrigin: e.dataOrigin, startAngle: a, radius: c, endAngle: e.disabled ? a : (s - a) * n / l + a, color: o.color(r) }; return t.push(i), t }, []) } }, { key: "beforeRender", value: function () { Et()(k()(r.prototype), "beforeRender", this).call(this); var t = Object(B.g)(this.getData()), e = this.transform(t); return this.animations = e.reduce(function (t, e, r) { return t.push({ from: { startAngle: e.startAngle, endAngle: e.startAngle }, to: { startAngle: e.startAngle, endAngle: e.endAngle } }), t }, []), e } }, { key: "beforeUpdate", value: function () { var n = this; Et()(k()(r.prototype), "beforeUpdate", this).call(this); var t = Object(B.g)(this.getData()), e = this.transform(t); return this.animations = e.map(function (t, e) { var r = n.animations[e]; return r ? { from: r.to, to: { startAngle: t.startAngle, endAngle: t.endAngle } } : { from: { startAngle: t.startAngle, endAngle: t.startAngle }, to: { startAngle: t.startAngle, endAngle: t.endAngle } } }), e } }, { key: "render", value: function (t) { var n = this, e = 0 < arguments.length && void 0 !== t ? t : [], r = this.attr(), i = r.title, o = r.subTitle, a = r.startAngle, s = r.endAngle, l = r.lineWidth, c = r.lineCap, u = r.strokeBgcolor, f = r.hoverBg, h = this.center, d = this.ticks, p = this.color().reverse(), v = this.isStyleExist("tickLine"), m = this.isStyleExist("tickText"); return getApp().qcharts.h(x.Group, { display: "flex", justifyContent: 1 === e.length ? "center" : "space-between", alignItems: "center", clipOverflow: !1 }, e.map(function (r, t) { return getApp().qcharts.h(x.Group, { bgcolor: "transparent", clipOverflow: !1, hoverState: { bgcolor: f } }, getApp().qcharts.h(x.Arc, { lineWidth: l, lineCap: c, startAngle: a, endAngle: s, color: u, radius: n.radius, zIndex: 10 }), getApp().qcharts.h(x.Arc, gt()({ lineCap: c, lineWidth: l }, r, { zIndex: 10, animation: n.resolveAnimation(q()({}, n.animations[t], { duration: 300 })), color: { vector: [0, 0, 2 * h[0], 2 * h[1]], colors: [{ color: p[0], offset: 0 }, { color: p[1], offset: .3 }, { color: p[2], offset: 1 }] } }, n.style("arc")(r, r.dataOrigin, t))), i ? getApp().qcharts.h(x.Label, gt()({ text: Object(B.p)(i) ? i(r.dataOrigin) : i, pos: h, textAlign: "center", zIndex: 10, anchor: [.5, 1] }, n.style("title")(r, r.dataOrigin, t))) : null, o ? getApp().qcharts.h(x.Label, gt()({ text: Object(B.p)(o) ? o(r.dataOrigin) : o, pos: h, textAlign: "center", zIndex: 10, color: u, anchor: [.5, .5] }, n.style("subTitle")(r, r.dataOrigin, t))) : null, !1 !== v || !1 !== m ? d.map(function (t, e) { return getApp().qcharts.h(x.Group, { pos: h.map(function (t) { return t - l / 2 }), anchor: [0, 0], zIndex: 1010, size: [1, 1], clipOverflow: !1 }, !1 !== v ? getApp().qcharts.h(x.Polyline, gt()({ points: t.points, strokeColor: u }, n.style("tickLine")(r, r.dataOrigin, e))) : null, !1 !== m ? getApp().qcharts.h(x.Label, gt()({}, t.label, n.style("tickText")(r, r.dataOrigin, e))) : null) }) : null) })) } }, { key: "rendered", value: function () { var t = this; this.on("resize", function () { return t.forceUpdate() }) } }, { key: "name", get: function () { return "Gauge" } }, { key: "radius", get: function () { var t = this.attr("size"), e = this.attr("lineWidth"), r = this.getData().length; return ~~((Math.min.apply(t, t.map(function (t) { return t / 2 })) - e * (r - 1) * 2) / r) } }, { key: "center", get: function () { var t = this.attr().lineWidth, e = this.radius; return [e + t / 2, e + t / 2] } }, { key: "ticks", get: function () { var t = this.attr(), e = t.min, r = t.max, n = t.startAngle, i = t.endAngle, o = t.lineWidth, a = t.tickStep, s = t.tickLength, l = t.labelOffset, c = t.tickFormatter, u = Math.abs(r - e) / a, f = i - n; f > 2 * Math.PI && (f = (i = n + 2 * Math.PI) - n); for (var h, d, p, v, m, y, g, b, k, w, E, x, A, _, O, C, P, S = 0 < s, D = f / u, M = [], j = S ? this.radius - o : this.radius, T = -1; ++T <= u;) { var z = (h = j, d = T * D + n, p = Math.abs(s), v = Math.abs(l), m = S, P = void 0, y = Math.cos(d), g = Math.sin(d), b = y * h, k = g * h, w = m ? [b - p * y, k - p * g] : [b + p * y, k + p * g], E = at()(w, 2), x = E[0], A = E[1], _ = m ? [b - (p + v) * y, k - (p + v) * g] : [b + (p + v) * y, k + (p + v) * g], O = m ? y : -y, C = m ? g : -g, P = [.5, .5], Math.abs(O) > Math.abs(C) ? P[0] = O < 0 ? 0 : O : P[1] = 0 < C ? C : 0, { points: [[b, k], [x, A]], labelPos: _, anchor: P }); M.push({ points: z.points, label: { text: c(T * a), pos: z.labelPos, anchor: z.anchor } }) } return (M[0].angle + M[M.length - 1].angle) % (2 * Math.PI) == 0 && M.pop(), M } }]), r }(it), ve = function (t) { function n() { var o, t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, n), o = g()(this, k()(n).call(this, t)), _()(kt()(o), "changePage", function (t) { switch (t) { case "prev": return function () { var t = o.state.page; t <= 1 || (t -= 1, o.setState({ page: t })) }; default: return function () { var t = o.state, e = t.page; t.totalPage <= e || (e += 1, o.setState({ page: e })) } } }), _()(kt()(o), "changeDataSetData", function (t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "disabled", r = 2 < arguments.length ? arguments[2] : void 0, n = o.attr("layoutBy"), i = o.dataset._selectDataByName(t, n); "disabled" === e ? (o.disableds[t] = !o.disableds[t], i && i.forEach(function (t) { return t.disabled = !t.disabled })) : (i[e] = r, i && i.forEach(function (t) { return t[e] = r })), o.dataset.notify() }), o.state = { page: 1, totalPage: 1, perPageWidthOrHeight: 0, paginationSize: [0, 0], groupSize: [0, 0] }, o.disableds = {}, o } return E()(n, t), h()(n, [{ key: "getDefaultAttrs", value: function () { return { size: ["100%", "100%"], orient: "horizontal", align: ["left", "top"], formatter: function (t) { return t.value || t } } } }, { key: "color", value: function (t) { var e, r = this.attr("target"); return r && (this._colors = r.color && r.color()), Object(B.m)(t) || Object(B.s)(t) || this._colors.length || (this.chart && (e = this.chart.visuals[0] && this.chart.visuals[0].color && this.chart.visuals[0].color()), e && e.length && (this._colors = e)), Et()(k()(n.prototype), "color", this).call(this, t) } }, { key: "shouldUpdate", value: function () { return !0 } }, { key: "getPaginationSize", value: function () { function t(t) { return t && t.clientSize || [0, 0] } var e = t(this.$refs.paginationPrev), r = t(this.$refs.paginationText), n = t(this.$refs.paginationNext); return [e[0] + r[0] + n[0], e[1] + r[1] + n[1]] } }, { key: "ensurePaginationSize", value: function () { var t = this, e = this.state, r = e.totalPage, n = e.paginationSize; 1 < r && (!n || n.some(function (t) { return t <= 0 })) && Promise.resolve().then(function () { t.paginatify() }) } }, { key: "paginatify", value: function () { var s = this; this.chart.layer.prepareRender().then(function () { function t() { var t, e, r = n ? 1 : 0; t = i[r] - a[r], e = Math.ceil(o[r] / t), s.setState({ page: s.state.page > e ? e : 1, totalPage: 1 < e ? e : 1, perPageWidthOrHeight: t, paginationSize: a }, !0) } var n = s.isVertical, i = s.size, o = s.$refs.legends && s.$refs.legends.contentSize || [0, 0], a = s.getPaginationSize(); a.some(function (t) { return t <= 0 }) && Promise.resolve().then(function () { a = s.getPaginationSize(), t() }), t() }) } }, { key: "handleData", value: function () { var e = this, t = null; if (this.data) t = this.data; else { var r = this.attr("layoutBy"); (t = "col" === r ? this.dataset.getColNames() : this.dataset.getRowNames()).forEach(function (t) { e.dataset._selectDataByName(t, r).some(function (t) { return t.disabled }) ? e.disableds[t] = !0 : e.disableds[t] = !1 }) } return t } }, { key: "beforeRender", value: function () { return this.handleData() } }, { key: "beforeUpdate", value: function () { return this.handleData() } }, { key: "render", value: function (t) { var r = this, e = this.chart.resolveTheme("Legend"), n = e.icon, i = e.text, o = te()(e, ["icon", "text"]), a = this.attr().formatter, s = this.isVertical, l = this.state, c = l.page, u = l.totalPage, f = l.perPageWidthOrHeight, h = this.pos, d = h.x, p = h.y, v = this.size; return this.ensurePaginationSize(), getApp().qcharts.h(x.Group, gt()({ boxSizing: "border-box" }, 1 < u ? q()({ display: "flex", flexDirection: s ? "column" : "row" }, s ? { height: v[1] } : {}) : {}, { border: [1, "transparent"], zIndex: 1e3, bgcolor: "transparent" }, s ? { x: d, alignItems: "center", clipOverflow: !1 } : { x: d }, Object(B.q)(p) ? { y: p } : { justifyContent: p }, o, { clipOverflow: !1, enableCache: !1 }), getApp().qcharts.h(x.Group, gt()({ boxSizing: "border-box", clipOverflow: 1 < u }, 1 < u ? _()({ flex: 1 }, s ? "height" : "width", f) : { bgcolor: "transparent" }, { enableCache: !1 }), getApp().qcharts.h(x.Group, { boxSizing: "border-box", ref: this.resolveRef("legends"), display: "flex", justifyContent: "space-around", flexDirection: s ? "column" : "row", flexWrap: "no-wrap", enableCache: !1 }, t.map(function (t, e) { return getApp().qcharts.h(x.Group, { display: "flex", alignItems: "center", justifyContent: "center", flexWrap: "no-wrap", padding: [0, 5], clipOverflow: !1, enableCache: !1, onMouseenter: function () { r.chart.setCanvasCursor("pointer") }, onClick: function () { return r.changeDataSetData(t) }, onMouseleave: function () { r.chart.setCanvasCursor("default") } }, getApp().qcharts.h(x.Sprite, gt()({}, n, { bgcolor: r.color(e) }, r.style("icon")({}, t, e), r.disableds[t] ? { bgcolor: "#ccc" } : {}, { hoverState: r.style("icon:hover")({}, t, e), onMousemove: function (t, e) { return e.attr("state", "hover") }, onMouseleave: function (t, e) { return e.attr("state", "normal") } })), getApp().qcharts.h(x.Label, gt()({ clipOverflow: !1, bgcolor: "transparent", text: a(t, e) }, i, r.style("text")({}, t, e), { hoverState: r.style("text:hover")({}, t, e), onMouseenter: function (t, e) { return e.attr("state", "hover") }, onMouseleave: function (t, e) { return e.attr("state", "normal") } }))) }))), u <= 1 ? null : [getApp().qcharts.h(x.Path, gt()({}, s ? { marginLeft: 5 } : {}, { ref: this.resolveRef("paginationPrev"), padding: [s ? 2 : 1, 0, 0, 0], d: s ? "M 0 15 L 15 15 L7.5 0 Z" : "M 0 7.5 L 13 0 L13 15 Z", fillColor: c <= 1 ? "#ccc" : "#324556", onClick: this.changePage("prev"), onMouseenter: function () { return r.chart.setCanvasCursor("pointer") }, onMouseleave: function () { return r.chart.setCanvasCursor("default") } })), getApp().qcharts.h(x.Label, { ref: this.resolveRef("paginationText"), font: "14px '宋体'", text: c + "/" + u, lineBreak: "normal", padding: [0, 2] }), getApp().qcharts.h(x.Path, gt()({}, s ? { marginLeft: 5 } : {}, { ref: this.resolveRef("paginationNext"), padding: [s ? 2 : 1, 0, 0, 0], d: s ? "M 0 0 L 15 0 L7.5 13 Z" : "M 13 7.5 L 0 0 L0 15 Z", fillColor: u <= c ? "#ccc" : "#324556", onClick: this.changePage("next"), onMouseenter: function () { return r.chart.setCanvasCursor("pointer") }, onMouseleave: function () { return r.chart.setCanvasCursor("default") } }))]) } }, { key: "rendered", value: function () { var t = this; this.on("resize", function () { t.paginatify() }), this.paginatify() } }, { key: "checkAlign", value: function () { var t = this.state.groupSize, e = this.attr("align"), r = at()(this.$group.contentSize, 2), n = r[0], i = r[1]; "left" === e[0] && "right" === e[1] || n === t[0] && i === t[1] || this.setState({ groupSize: [n, i] }, !0) } }, { key: "updated", value: function () { var t = this, e = this.state, r = e.page, n = ((r = 1 < r ? r : 1) - 1) * e.perPageWidthOrHeight, i = this.isVertical; this.$refs.legends.transition(.3).attr(i ? "scrollTop" : "scrollLeft", n), setTimeout(function () { return t.checkAlign() }) } }, { key: "isVertical", get: function () { return "vertical" == this.attr("orient") } }, { key: "size", get: function () { var r = this.chart.getSize(), t = this.attr("__size__"); return t || (t = this.attr("size"), this.attr("__size__", t)), t = t.map(function (t, e) { return Object(B.d)(t, r[e]) }), this.attr("size", t), t } }, { key: "pos", get: function () { function t(t, e) { return "horizontal" === e ? -1 < ["left", "center", "right"].indexOf(t) : -1 < ["top", "center", "bottom"].indexOf(t) } var e = this.attr().align, r = this.chart.getSize(), n = at()(this.$group.contentSize, 2), i = n[0], o = n[1], a = { left: 0, center: (r[0] - i) / 2, right: r[0] - i }, s = { top: 0, center: r[1] / 2 - o / 2, bottom: r[1] - o }; return { x: a[t(e[0], "horizontal") ? e[0] : "left"], y: s[t(e[1], "vertical") ? e[1] : "top"] } } }]), n }(mt), me = function (t) { function e() { return u()(this, e), g()(this, k()(e).apply(this, arguments)) } return E()(e, t), h()(e, [{ key: "getDefaultAttrs", value: function () { return { anchor: [.5, .5], textAlign: "right" } } }, { key: "render", value: function () { return getApp().qcharts.h(x.Group, null, getApp().qcharts.h(x.Label, { textAlign: this.attr("textAlign"), text: this.attr("text"), anchor: this.attr("anchor"), color: "black" })) } }]), e }(mt); var ye = function (t) { function r(t) { var e; return u()(this, r), (e = g()(this, k()(r).call(this, t))).$group = null, e.prevPos = [0, 0], e.state = { hide: !0 }, g()(e, kt()(e)) } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { throttleTime: 300, formatter: function (t) { return t.value || t }, title: null, pos: null, _pos: null } } }, { key: "beforeRender", value: function () { var g = this, b = this.attr("pos"); this.dataset.on("hover:data", Object(B.x)(function (t) { if (t) { var e = t.layerX, r = t.layerY, n = t.data; n = Object(B.m)(n) ? n : [n]; var i = at()(g.$group.contentSize, 2), o = i[0], a = i[1], s = g.$group.attr("padding"), l = at()(s, 4), c = l[0], u = l[1], f = l[2], h = l[3], d = g.$group.attr("border").width; o += u + h + 2 * d, a += c + f + 2 * d; var p = g.chart.getSize(), v = at()(p, 2), m = v[0], y = v[1]; g.setState({ pos: b || function (t, e, r, n, i, o, a) { var s = 6 < arguments.length && void 0 !== a ? a : 10; return t < i / 2 ? r + 2 * s < t ? t -= r + s : t += s : t + r + 2 * s < i ? t += s : t -= r + s, t < 0 && (t = s), e < o / 2 ? n + 2 * s < e && (e -= s) : e + n + 2 * s < o ? e += s : e -= n + s, [t, e] }(e, r, o, a, m, y), data: n, hide: !1 }, !0) } else b || g.setState({ hide: !0 }, !0) }, 300)) } }, { key: "beforeUpdate", value: function () { } }, { key: "getTheme", value: function () { return this.chart.resolveTheme("Tooltip") } }, { key: "render", value: function () { var r = this, t = this.getTheme(), e = t.title, n = void 0 === e ? {} : e, i = t.group, o = void 0 === i ? {} : i, a = t.icon, s = void 0 === a ? {} : a, l = t.text, c = void 0 === l ? {} : l, u = te()(t, ["title", "group", "icon", "text"]), f = this.state, h = f.hide, d = f.data, p = void 0 === d ? [] : d, v = this.attr("title"), m = void 0 === v ? null : Object(B.p)(v) ? p && p.length ? v(p) : null : v, y = u.padding ? Object(B.m)(u.padding) ? u.padding[0] : u.padding : u.paddingBottom || 0; return getApp().qcharts.h(x.Group, gt()({}, q()({ display: "flex", clipOverflow: !1, flexDirection: "column", zIndex: 9999 }, this.chart.style("Tooltip")() || {}, { opacity: 1 }, u, this.style("background")() || {}), { opacity: h ? 0 : 1 }), m ? getApp().qcharts.h(x.Label, gt()({ text: m }, n, this.style("title")() || {})) : null, p.map(function (t, e) { return getApp().qcharts.h(x.Group, gt()({ display: "flex", justifyContent: "space-between", alignItems: "center", enableCache: !1 }, o, 0 === e ? { paddingTop: y } : {}), getApp().qcharts.h(x.Rect, gt()({}, s, r.style("icon")() || {}, { bgcolor: t.color })), getApp().qcharts.h(x.Label, gt()({ enableCache: !1 }, c, { text: r.attr("formatter")(t) }, r.style("text")() || {}))) })) } }, { key: "updated", value: function () { var t = this.state.pos; t && t.length && this.$group.transition(.2).attr("pos", this.state.pos) } }]), r }(mt); function ge(t) { var i = t.size, o = t.orient, e = t.axisGap, r = t.data, a = t.type, n = t.stack, s = t.field, l = t.range, c = e, u = []; if (void 0 !== s) if ("category" === a) { var f = Object.create(null); r.forEach(function (t) { t.forEach(function (t) { void 0 !== f[t[s]] ? f[t[s]].push(t) : f[t[s]] = [t] }) }), u = Object.keys(f) } else u = Object(Dt.a)({ dataSet: r, stack: n, field: s, section: l }); var h = i[0]; "left" !== o && "right" !== o || (h = i[1]); var d = [0, 0], p = { size: [i[0], 1], fillColor: "#bfbfbf", strokeColor: "transparent" }, v = { padding: [10, 10], color: "#67728C", fontSize: 12, clipOverflow: !1 }, m = { fillColor: "#bfbfbf", strokeColor: "transparent", size: [1, 1] }, y = { strokeColor: "rgba(0,0,0,0.2)", points: [], lineDash: [3, 4], translate: [.5, .5] }, g = u.length - 1; 0 === g && (c = !0), !0 === c && (g = u.length); var b = Object(St.a)().domain([0, g]).range([0, h]); return u = u.map(function (t, e) { var r = [], n = 0; return r = "left" === o ? (!0 === c && (n = i[1] / u.length, v.translate = [0, n / 2]), "category" === a ? [0, b(e)] : [0, i[1] - b(e) - n]) : "right" === o ? (!0 === c && (n = i[1] / u.length, v.translate = [0, n / 2]), "category" === a ? [i[0], b(e)] : [i[0], i[1] - b(e) - n]) : "top" === o ? (!0 === c && (n = i[0] / u.length, v.translate = [-n / 2, 0]), [b(e) + n, 0]) : (!0 === c && (n = i[0] / u.length, v.translate = [-n / 2, 0]), [b(e) + n, i[1]]), { text: String(t), pos: r, offset: b(e), originalPoint: d } }), "left" === o ? (p.size = [1, i[1]], v.anchor = [1, .5], m.size[0] = 4, m.anchor = [1, 0], y.points = [[0, 0], [i[0], 0]]) : "right" === o ? (d = [i[0], 0], p.size = [1, i[1]], v.anchor = [0, .5], m.size[0] = 4, y.points = [[-i[0], 0], [0, 0]]) : "top" === o ? (v.anchor = [.5, 1], m.size[1] = 4, y.points = [[0, 0], [0, i[1]]]) : (d = [0, i[1]], v.anchor = [.5, 0], m.size[1] = 4, y.points = [[0, -i[1]], [0, 0]]), { scales: u, originalPoint: d, axisAttrs: p, gridAttrs: y, labelAttrs: v, scaleAttrs: m, orient: o } } var be = function (t) { function r() { var t, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; return u()(this, r), (t = g()(this, k()(r).call(this, e))).$lines = [], t.optionAttrs = e, t.renderData = [], t } return E()(r, t), h()(r, [{ key: "getDefaultAttrs", value: function () { return { orient: "bottom", axisGap: void 0, type: void 0, target: void 0, stack: void 0, field: void 0, range: void 0, coord: "cartesian2d", coordPos: ["50%", "50%"], formatter: function (t, e) { return t } } } }, { key: "beforeRender", value: function () { Et()(k()(r.prototype), "beforeRender", this).call(this); var t = this.getData(); return this.prepareAttrs(this.chart.dataset.attr()), this.renderData = ge(q()({}, this.attr(), { data: t })), this.renderData.scales.forEach(function (t) { t.from = t.to = { pos: t.pos }, t.labelFrom = t.labelTo = { text: ke(t.text) } }), this.renderData } }, { key: "beforeUpdate", value: function () { Et()(k()(r.prototype), "beforeRender", this).call(this); var t = this.getData(); this.prepareAttrs(this.chart.dataset.attr()); var i = this.renderData; return this.renderData = ge(q()({}, this.attr(), { data: t })), this.renderData.scales.forEach(function (t, e) { var r = { pos: t.pos }, n = { text: ke(t.text) }; i.scales[e] && (r = { pos: i.scales[e].pos }, n = { text: ke(i.scales[e].text) }), t.from = r, t.to = { pos: t.pos }, t.labelFrom = n, t.labelTo = { text: ke(t.text) } }), this.renderData } }, { key: "prepareAttrs", value: function (t) { var e = this.attr(), r = e.target, n = e.orient, i = e.axisGap, o = this.optionAttrs, a = "category", s = t.text; if (1 <= this.chart.visuals.length && void 0 === r && (r = this.chart.visuals[0], this.attr({ target: r })), r && r.attr("transpose") ? "top" !== n && "bottom" !== n || (a = "value") : "left" !== n && "right" !== n || (a = "value"), this.attr({ type: a, field: s }), this.mergeAttr(r, ["stack", "axisGap", "size", "pos"]), "value" === a && this.attr({ axisGap: !1, field: t.value }), r instanceof de && (this.attr({ type: "value" }), "bottom" !== n && "top" !== n || this.attr({ field: t.text })), void 0 !== o.field && this.attr({ field: o.field }), r && r.attr("layoutWay")) { var l = r.attr("layoutWay")[this.attr("field")]; this.attr({ range: [l.min, l.max] }) } void 0 !== o.type && this.attr({ type: o.type }), void 0 === i && r instanceof ie && "category" === a && this.attr({ axisGap: !0 }) } }, { key: "mergeAttr", value: function (n, t) { var i = this; n && t.forEach(function (t) { var e = n.attr(t), r = i.attr(t); void 0 !== i.optionAttrs[t] && void 0 !== r || void 0 === e || ("size" !== t && "pos" !== t || i.attr("__" + t + "__", e), i.attr(t, e)) }) } }, { key: "mergeTheme", value: function (t, e) { var r = this.chart.resolveTheme("Axis")[this.attr("orient")]; return Ft(this.style(t), e, r[t]) } }, { key: "render", value: function (t) { var h = this, a = 0 < arguments.length && void 0 !== t ? t : {}, e = this.mergeTheme("axis", [a.axisAttrs]), r = [], n = this.attr(), s = n.axisGap, l = n.formatter, i = n.pos, c = n.coord, d = n.size, p = n.coordPos, o = this.attr("target"); if (o instanceof Pt && "polar" === c) { var u = o.attr(), f = u.startAngle, v = u.endAngle, m = u.padAngle; r = At().startAngle(f).endAngle(v).padAngle(m).value(function (t) { return +t[0].__valueGetter__() })(this.getData().filter(function (t) { return !t[0].disabled })) } return getApp().qcharts.h(x.Group, { pos: i }, getApp().qcharts.h(x.Group, { clipOverflow: !1 }, a.scales.map(function (e, t) { var r = h.mergeTheme("label", [a.labelAttrs, e, t]), n = h.mergeTheme("scale", [a.scaleAttrs, e, t]), i = h.mergeTheme("grid", [a.gridAttrs, e, t]), o = { from: e.labelFrom, to: e.labelTo, duration: 200, attrFormatter: function (t) { return "number" == typeof t.text ? Object.assign(t, { text: l(function (t, e, r) { if ("number" != typeof t || "number" != typeof e || "number" != typeof r) return r; var n = function (t) { var e = String(t).split("."); if (1 < e.length) return e[1].length; return 0 }(r); return t.toFixed(n) }(t.text, e.labelFrom.text, e.labelTo.text)) }) : t }, useTween: !0 }; return "number" == typeof e.labelTo.text && "number" == typeof e.labelFrom.text || (o = {}), getApp().qcharts.h(x.Group, { size: [1, 1], pos: e.from.pos, clipOverflow: !1, animation: h.resolveAnimation({ from: e.from, to: e.to, duration: 200, useTween: !0 }) }, !1 === r ? null : getApp().qcharts.h(x.Label, gt()({}, r, { clipOverflow: !1, text: e.labelTo.text, animation: h.resolveAnimation(o) })), !1 === n ? null : getApp().qcharts.h(x.Rect, n), "polar" === c || !1 === i || 0 === e.offset && !s ? null : getApp().qcharts.h(x.Polyline, i)) })), getApp().qcharts.h(x.Group, { size: d }, a.scales.map(function (t, e) { var r = h.mergeTheme("grid", [a.gridAttrs, t, e]); return "polar" !== c || !1 === r || 0 === t.offset && !s ? null : getApp().qcharts.h(x.Circle, gt()({ pos: p, radius: t.offset }, r, { anchor: [.5] })) })), getApp().qcharts.h(x.Group, { clipOverflow: !1 }, r.map(function (t) { var e = (t.startAngle + t.endAngle) / 2, r = h.attr("target").maxOuterRadius, n = t[0].__textGetter__(), i = -Math.cos(e), o = -Math.sin(e), a = [.5, .5]; Math.abs(i) > Math.abs(o) ? a[0] = i < 0 ? 0 : i : a[1] = 0 < o ? o : 0; var s = Math.abs(e / Math.PI * 180 % 90), l = r * (1.01 + Math.abs(45 - Math.abs(s - 45)) / 45 / 18), c = function (t, n) { return t.map(function (t, e) { var r = String(t).indexOf("%"); return -1 !== r ? n[e] * t.substr(0, r) / 100 : t }) }(p, d), u = [c[0] + r * Math.cos(e), c[1] + r * Math.sin(e)], f = [c[0] + l * Math.cos(e), c[1] + l * Math.sin(e)]; return getApp().qcharts.h(x.Group, { clipOverflow: !1, size: ["100%", "100%"] }, getApp().qcharts.h(x.Polyline, { points: [c, u], color: "#dde0e5", lineDash: [3, 4] }), getApp().qcharts.h(x.Label, { pos: f, color: "#67728C", text: n, fontSize: 12, anchor: a })) })), !1 === e ? null : getApp().qcharts.h(x.Rect, gt()({}, e, { pos: a.originalPoint }))) } }]), r }(mt); function ke(t) { return isNaN(t) ? t : Number(t) } r.d(e, "qcharts", function () { return we }), x.use(l.a), O.registerTheme("default", { themeName: "light", Chart: { color: "#000000", bgcolor: "transparent" }, colors: ["#47A1FF", "#6CD3FF", "#A2E5FF", "#4DCCCB", "#3FDDC7", "#84E0BE", "#59CB74", "#ADDF84", "#FBD54A", "#FFB952", "#F79452", "#E37474", "#FC6980", "#ED8CCE", "#DA65CC", "#9861E5", "#9F8CF1", "#6367EC", "#5982F6", "#659AEC"], Pie: { colors: ["#47A1FF", "#6CD3FF", "#A2E5FF", "#4DCCCB", "#3FDDC7", "#84E0BE", "#59CB74", "#ADDF84", "#FBD54A", "#FFB952", "#F79452", "#E37474", "#FC6980", "#ED8CCE", "#DA65CC", "#9861E5", "#9F8CF1", "#6367EC", "#5982F6", "#659AEC"] }, Rose: { colors: ["#47A1FF", "#59CB74", "#FBD54A", "#FFB952", "#FC6980", "#9F8CF1", "#6367EC", "#ADDF84", "#6CD3FF", "#ED8CCE", "#659AEC", "#A2E5FF", "#84E0BE", "#4DCCCB", "#5982F6", "#E37474", "#F79452", "#DA65CC", "#9861E5", "#3FDDC7"] }, Gauge: { colors: ["#6CD3FF", "#47A1FF", "#5982F6"] }, Title: { padding: [10, 10], color: "#333", font: '14px "楷体"', textAlign: "center" }, Line: { colors: ["#47A1FF", "#59CB74", "#FFB952", "#FC6980", "#6367EC", "#DA65CC", "#FBD54A", "#ADDF84", "#6CD3FF", "#659AEC", "#9F8CF1", "#ED8CCE", "#A2E5FF", "#4DCCCB", "#F79452", "#84E0BE", "#5982F6", "#E37474", "#3FDDC7", "#9861E5"] }, Bar: { colors: ["#47A1FF", "#84E0BE", "#FBD54A", "#FC6980", "#9861E5", "#9F8CF1", "#6367EC", "#ADDF84", "#59CB74", "#3FDDC7", "#6CD3FF", "#A2E5FF", "#4DCCCB", "#E37474", "#F79452", "#FFB952", "#DA65CC", "#ED8CCE", "#5982F6", "#659AEC"] }, Funnel: { colors: ["#1750BF", "#0C5AD5", "#227CF1", "#47A1FF", "#5DB4FF", "#89CCFF", "#B4E3FF", "#C9F2FF", "#DDF7FF", "#EBFBFF"] }, Radar: { colors: ["#47A1FF", "#59CB74", "#FFB952", "#FC6980", "#6367EC", "#DA65CC", "#FBD54A", "#ADDF84", "#6CD3FF", "#659AEC", "#9F8CF1", "#ED8CCE", "#A2E5FF", "#4DCCCB", "#F79452", "#84E0BE", "#5982F6", "#E37474", "#3FDDC7", "#9861E5"] }, Scatter: { colors: ["#47A1FF", "#59CB74", "#FFB952", "#FC6980", "#6367EC", "#DA65CC", "#FBD54A", "#ADDF84", "#6CD3FF", "#659AEC", "#9F8CF1", "#ED8CCE", "#A2E5FF", "#4DCCCB", "#F79452", "#84E0BE", "#5982F6", "#E37474", "#3FDDC7", "#9861E5"] }, Tooltip: { color: "#fff", bgcolor: "rgba(0, 0, 0, .8)", paddingBottom: 10, fontSize: "14px", title: { padding: [10, 15], paddingBottom: 0 }, group: { paddingLeft: 15, paddingRight: 15, paddingTop: 6 }, text: { marginLeft: 10 }, icon: { width: 6, height: 6, borderRadius: 6 } }, Axis: { bottom: { grid: !1 }, top: { grid: !1 }, left: {}, right: {} }, Legend: { font: '13px "PingFangSC-Regular"', icon: { width: 10, height: 10, borderRadius: 10 }, text: { marginLeft: 8, marginTop: 1 } } }), O.registerTheme("dark", { themeName: "dark", colors: ["#dd6b66", "#759aa0", "#e69d87", "#8dc1a9", "#ea7e53", "#eedd78", "#73a373", "#73b9bc", "#7289ab", "#91ca8c", "#f49f42"], Chart: { color: "#e7e7e7", bgcolor: "#333333" }, Title: { padding: [10, 10], color: "#fff", fontSize: '14px "楷体"', textAlign: "center" }, Tooltip: { padding: 10, color: "#fff", borderRadius: 4, bgcolor: "rgba(0, 0, 0, .5)", border: [1, "#000"], font: '16px "楷体"', Symbol: { width: 10, height: 10, borderRadius: 5, marginRight: 5 } }, Legend: { marginTop: 10, marginLeft: 0, disabledColor: "#ccc", Rect: { width: 10, height: 10, borderRadius: 5 }, Text: { font: '14px "楷体"', marginLeft: 2 } } }); var we = q()({ version: "0.1.12" }, n, i, o); Object(B.h)().qcharts = we; e.default = we }], i.c = o, i.d = function (t, e, r) { i.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: r }) }, i.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, i.t = function (e, t) { if (1 & t && (e = i(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var r = Object.create(null); if (i.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var n in e) i.d(r, n, function (t) { return e[t] }.bind(null, n)); return r }, i.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return i.d(e, "a", e), e }, i.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, i.p = "", i(i.s = 40)).default; function i(t) { if (o[t]) return o[t].exports; var e = o[t] = { i: t, l: !1, exports: {} }; return n[t].call(e.exports, e, e.exports, i), e.l = !0, e.exports } var n, o });